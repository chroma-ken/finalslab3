var CM=Object.defineProperty,SM=Object.defineProperties;var AM=Object.getOwnPropertyDescriptors;var Ow=Object.getOwnPropertySymbols;var RM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable;var kw=(n,e,t)=>e in n?CM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})RM.call(e,t)&&kw(n,t,e[t]);if(Ow)for(var t of Ow(e))NM.call(e,t)&&kw(n,t,e[t]);return n},ie=(n,e)=>SM(n,AM(e));var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Ap;function el(){return Ap}function Tn(n){let e=Ap;return Ap=n,e}var Fw=Symbol("NotFound");function No(n){return n===Fw||n?.name==="\u0275NotFound"}var ht=null,tl=!1,Rp=1,MM=null,It=Symbol("SIGNAL");function oe(n){let e=ht;return ht=n,e}function ol(){return ht}var Mo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Po(n){if(tl)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(n);let e=ht.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ht.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ht.producers,t!==void 0&&t.producer===n)){ht.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ht&&(!r||xM(i,ht)))return;let o=Oo(ht),s={producer:n,consumer:ht,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ht.producersTail=s,e!==void 0?e.nextProducer=s:ht.producers=s,o&&Uw(n,s)}function Lw(){Rp++}function sl(n){if(!(Oo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rp)){if(!n.producerMustRecompute(n)&&!Ha(n)){il(n);return}n.producerRecomputeValue(n),il(n)}}function Np(n){if(n.consumers===void 0)return;let e=tl;tl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||PM(r)}}finally{tl=e}}function Mp(){return ht?.consumerAllowSignalWrites!==!1}function PM(n){n.dirty=!0,Np(n),n.consumerMarkedDirty?.(n)}function il(n){n.dirty=!1,n.lastCleanEpoch=Rp}function xo(n){return n&&Vw(n),oe(n)}function Vw(n){n.producersTail=void 0,n.recomputing=!0}function $a(n,e){oe(e),n&&jw(n)}function jw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Oo(n))do t=Pp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ha(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(sl(t),r!==t.version))return!0}return!1}function za(n){if(Oo(n)){let e=n.producers;for(;e!==void 0;)e=Pp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Uw(n,e){let t=n.consumersTail,r=Oo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Uw(i.producer,i)}function Pp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Oo(e)){let o=e.producers;for(;o!==void 0;)o=Pp(o)}return t}function Oo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function al(n){MM?.(n)}function xM(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function cl(n,e){return Object.is(n,e)}function ul(n,e){let t=Object.create(OM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(sl(t),Po(t),t.value===Ba)throw t.error;return t.value};return r[It]=t,al(t),r}var nl=Symbol("UNSET"),rl=Symbol("COMPUTING"),Ba=Symbol("ERRORED"),OM=ie(F({},Mo),{value:nl,dirty:!0,error:null,equal:cl,kind:"computed",producerMustRecompute(n){return n.value===nl||n.value===rl},producerRecomputeValue(n){if(n.value===rl)throw new Error("");let e=n.value;n.value=rl;let t=xo(n),r,i=!1;try{r=n.computation(),oe(null),i=e!==nl&&e!==Ba&&r!==Ba&&n.equal(e,r)}catch(o){r=Ba,n.error=o}finally{$a(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function kM(){throw new Error}var Bw=kM;function $w(n){Bw(n)}function xp(n){Bw=n}var FM=null;function Op(n,e){let t=Object.create(ll);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Hw(t);return r[It]=t,al(t),[r,s=>ko(t,s),s=>kp(t,s)]}function Hw(n){return Po(n),n.value}function ko(n,e){Mp()||$w(n),n.equal(n.value,e)||(n.value=e,LM(n))}function kp(n,e){Mp()||$w(n),ko(n,e(n.value))}var ll=ie(F({},Mo),{equal:cl,value:void 0,kind:"signal"});function LM(n){n.version++,Lw(),Np(n),FM?.(n)}function ee(n){return typeof n=="function"}function Fo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dl=Fo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof dl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zw(o)}catch(s){e=e??[],s instanceof dl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yi(t,e)}remove(e){let{_finalizers:t}=this;t&&yi(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var Fp=Fe.EMPTY;function hl(n){return n instanceof Fe||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function zw(n){ee(n)?n():n.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(n,e,...t){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fl(n){Lo.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(n);else throw n})}function qa(){}var qw=Lp("C",void 0,void 0);function Gw(n){return Lp("E",void 0,n)}function Ww(n){return Lp("N",n,void 0)}function Lp(n,e,t){return{kind:n,value:e,error:t}}var vi=null;function Vo(n){if(rn.useDeprecatedSynchronousErrorHandling){let e=!vi;if(e&&(vi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=vi;if(vi=null,t)throw r}}else n()}function Kw(n){rn.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=n)}var _i=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hl(e)&&e.add(this)):this.destination=UM}static create(e,t,r){return new jo(e,t,r)}next(e){this.isStopped?jp(Ww(e),this):this._next(e)}error(e){this.isStopped?jp(Gw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jp(qw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VM=Function.prototype.bind;function Vp(n,e){return VM.call(n,e)}var Up=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pl(t)}}},jo=class extends _i{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vp(e.next,o),error:e.error&&Vp(e.error,o),complete:e.complete&&Vp(e.complete,o)}):i=e}this.destination=new Up(i)}};function pl(n){rn.useDeprecatedSynchronousErrorHandling?Kw(n):fl(n)}function jM(n){throw n}function jp(n,e){let{onStoppedNotification:t}=rn;t&&Lo.setTimeout(()=>t(n,e))}var UM={closed:!0,next:qa,error:jM,complete:qa};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xt(n){return n}function gl(...n){return Bp(n)}function Bp(n){return n.length===0?xt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=$M(t)?t:new jo(t,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Qw(r),new r((i,o)=>{let s=new jo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Uo](){return this}pipe(...t){return Bp(t)(this)}toPromise(t){return t=Qw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Qw(n){var e;return(e=n??rn.Promise)!==null&&e!==void 0?e:Promise}function BM(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function $M(n){return n&&n instanceof _i||BM(n)&&hl(n)}function $p(n){return ee(n?.lift)}function pe(n){return e=>{if($p(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,r,i){return new Hp(n,e,t,r,i)}var Hp=class extends _i{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bo(){return pe((n,e)=>{let t=null;n._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var $o=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$p(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Bo()(this)}};var Yw=Fo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Yw}next(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fp:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new ml(e,t),n})(),ml=class extends $e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Fp}};var ot=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zp={now(){return(zp.delegate||Date).now()},delegate:void 0};var yl=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var Ga={setInterval(n,e,...t){let{delegate:r}=Ga;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ga;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ho=class extends yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ga.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var zo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};zo.now=zp.now;var qo=class extends zo{constructor(e,t=zo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var qp=new qo(Ho);var vl=class extends Ho{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var _l=class extends qo{};var Gp=new _l(vl);var At=new re(n=>n.complete());function Zw(n){return n&&ee(n.schedule)}function Jw(n){return n[n.length-1]}function El(n){return ee(Jw(n))?n.pop():void 0}function Ar(n){return Zw(Jw(n))?n.pop():void 0}function Wp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function eb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Xw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(n){return this instanceof Ei?(this.v=n,this):new Ei(n)}function tb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(R,V){o.push([y,M,R,V])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Ei?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function nb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Xw=="function"?Xw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Il=n=>n&&typeof n.length=="number"&&typeof n!="function";function wl(n){return ee(n?.then)}function bl(n){return ee(n[Uo])}function Dl(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function Tl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cl=HM();function Sl(n){return ee(n?.[Cl])}function Al(n){return tb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ei(t.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{t.releaseLock()}})}function Rl(n){return ee(n?.getReader)}function He(n){if(n instanceof re)return n;if(n!=null){if(bl(n))return zM(n);if(Il(n))return qM(n);if(wl(n))return GM(n);if(Dl(n))return rb(n);if(Sl(n))return WM(n);if(Rl(n))return KM(n)}throw Tl(n)}function zM(n){return new re(e=>{let t=n[Uo]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qM(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function GM(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fl)})}function WM(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rb(n){return new re(e=>{QM(n,e).catch(t=>e.error(t))})}function KM(n){return rb(Al(n))}function QM(n,e){var t,r,i,o;return eb(this,void 0,void 0,function*(){try{for(t=nb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Rt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return pe((t,r)=>{t.subscribe(le(r,i=>Rt(r,n,()=>r.next(i),e),()=>Rt(r,n,()=>r.complete(),e),i=>Rt(r,n,()=>r.error(i),e)))})}function Nr(n,e=0){return pe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ib(n,e){return He(n).pipe(Nr(e),Rr(e))}function ob(n,e){return He(n).pipe(Nr(e),Rr(e))}function sb(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ab(n,e){return new re(t=>{let r;return Rt(t,e,()=>{r=n[Cl](),Rt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Rt(t,e,()=>{let r=n[Symbol.asyncIterator]();Rt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cb(n,e){return Nl(Al(n),e)}function ub(n,e){if(n!=null){if(bl(n))return ib(n,e);if(Il(n))return sb(n,e);if(wl(n))return ob(n,e);if(Dl(n))return Nl(n,e);if(Sl(n))return ab(n,e);if(Rl(n))return cb(n,e)}throw Tl(n)}function Ae(n,e){return e?ub(n,e):He(n)}function W(...n){let e=Ar(n);return Ae(n,e)}function Go(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function Kp(n){return!!n&&(n instanceof re||ee(n.lift)&&ee(n.subscribe))}var Zn=Fo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(n,e){return pe((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:YM}=Array;function ZM(n,e){return YM(e)?n(...e):n(e)}function Ml(n){return ae(e=>ZM(n,e))}var{isArray:JM}=Array,{getPrototypeOf:XM,prototype:eP,keys:tP}=Object;function Pl(n){if(n.length===1){let e=n[0];if(JM(e))return{args:e,keys:null};if(nP(e)){let t=tP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function nP(n){return n&&typeof n=="object"&&XM(n)===eP}function xl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Wa(...n){let e=Ar(n),t=El(n),{args:r,keys:i}=Pl(n);if(r.length===0)return Ae([],e);let o=new re(rP(r,e,i?s=>xl(i,s):xt));return t?o.pipe(Ml(t)):o}function rP(n,e,t=xt){return r=>{lb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)lb(e,()=>{let l=Ae(n[u],e),h=!1;l.subscribe(le(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lb(n,e,t){n?Rt(t,n,e):e()}function db(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;He(t(M,h++)).subscribe(le(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Rt(e,s,()=>S(V)):S(V)}m()}catch(V){e.error(V)}}))};return n.subscribe(le(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ve(n,e,t=1/0){return ee(e)?Ve((r,i)=>ae((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),pe((r,i)=>db(r,i,n,t)))}function Wo(n=1/0){return Ve(xt,n)}function hb(){return Wo(1)}function Ko(...n){return hb()(Ae(n,Ar(n)))}function Ka(n){return new re(e=>{He(n()).subscribe(e)})}function Qp(...n){let e=El(n),{args:t,keys:r}=Pl(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;He(t[h]).subscribe(le(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?xl(r,a):a),o.complete())}))}});return e?i.pipe(Ml(e)):i}function wt(n,e){return pe((t,r)=>{let i=0;t.subscribe(le(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Jn(n){return pe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(le(t,void 0,void 0,s=>{o=He(n(s,Jn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function fb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(le(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mr(n,e){return ee(e)?Ve(n,e,1):Ve(n,1)}function Pr(n){return pe((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xn(n){return n<=0?()=>At:pe((e,t)=>{let r=0;e.subscribe(le(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ol(n=iP){return pe((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function iP(){return new Zn}function Qa(n){return pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?wt((i,o)=>n(i,o,r)):xt,Xn(1),t?Pr(e):Ol(()=>new Zn))}function Qo(n){return n<=0?()=>At:pe((e,t)=>{let r=[];e.subscribe(le(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Yp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?wt((i,o)=>n(i,o,r)):xt,Qo(1),t?Pr(e):Ol(()=>new Zn))}function kl(n,e){return pe(fb(n,e,arguments.length>=2,!0))}function Fl(...n){let e=Ar(n);return pe((t,r)=>{(e?Ko(n,t,e):Ko(n,t)).subscribe(r)})}function bt(n,e){return pe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(le(r,u=>{i?.unsubscribe();let l=0,h=o++;He(n(u,h)).subscribe(i=le(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ll(n){return pe((e,t)=>{He(n).subscribe(le(t,()=>t.complete(),qa)),!t.closed&&e.subscribe(t)})}function et(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):xt}function pb(n){let e=oe(null);try{return n()}finally{oe(e)}}var xr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ug=new xr("20.3.15");var Bl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(Si(e,t)),this.code=e}};function oP(n){return`NG0${Math.abs(n)}`}function Si(n,e){return`${oP(n)}${e?": "+e:""}`}var Ai=globalThis;function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("")}function yb(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function lg(n,e){return n?e?`${n} ${e}`:n:e||""}var sP=ve({__forward_ref__:ve});function Zo(n){return n.__forward_ref__=Zo,n.toString=function(){return nr(this())},n}function tt(n){return dg(n)?n():n}function dg(n){return typeof n=="function"&&n.hasOwnProperty(sP)&&n.__forward_ref__===Zo}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ja(n){return aP(n,Jo)}function hg(n){return Ja(n)!==null}function aP(n,e){return n.hasOwnProperty(e)&&n[e]||null}function cP(n){let e=n?.[Jo]??null;return e||null}function Jp(n){return n&&n.hasOwnProperty(jl)?n[jl]:null}var Jo=ve({\u0275prov:ve}),jl=ve({\u0275inj:ve}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fg(n){return n&&!!n.\u0275providers}var pg=ve({\u0275cmp:ve}),gg=ve({\u0275dir:ve}),mg=ve({\u0275pipe:ve}),yg=ve({\u0275mod:ve}),wi=ve({\u0275fac:ve}),Ri=ve({__NG_ELEMENT_ID__:ve}),gb=ve({__NG_ENV_ID__:ve});function Xa(n){return typeof n=="string"?n:n==null?"":String(n)}function vb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xa(n)}var _b=ve({ngErrorCode:ve}),uP=ve({ngErrorMessage:ve}),lP=ve({ngTokenPath:ve});function vg(n,e){return Eb("",-200,e)}function $l(n,e){throw new B(-201,!1)}function Eb(n,e,t){let r=new B(e,n);return r[_b]=e,r[uP]=n,t&&(r[lP]=t),r}function dP(n){return n[_b]}var Xp;function Ib(){return Xp}function Ot(n){let e=Xp;return Xp=n,e}function _g(n,e,t){let r=Ja(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;$l(n,"Injector")}var hP={},Ii=hP,eg="__NG_DI_FLAG__",tg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=bi(t)||0;try{return this.injector.get(e,r&8?null:Ii,r)}catch(i){if(No(i))return i;throw i}}};function fP(n,e=0){let t=el();if(t===void 0)throw new B(-203,!1);if(t===null)return _g(n,void 0,e);{let r=pP(e),i=t.retrieve(n,r);if(No(i)){if(r.optional)return null;throw i}return i}}function K(n,e=0){return(Ib()||fP)(tt(n),e)}function Eg(n){throw new B(202,!1)}function N(n,e){return K(n,bi(e))}function bi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ng(n){let e=[];for(let t=0;t<n.length;t++){let r=tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=gP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function Xo(n,e){return n[eg]=e,n.prototype[eg]=e,n}function gP(n){return n[eg]}function Di(n,e){let t=n.hasOwnProperty(wi);return t?n[wi]:null}function Hl(n,e){n.forEach(t=>Array.isArray(t)?Hl(t,e):e(t))}function Ig(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ec(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zl(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function wb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function bb(n,e,t){let r=es(n,e);return r>=0?n[r|1]=t:(r=~r,wb(n,r,e,t)),r}function ql(n,e){let t=es(n,e);if(t>=0)return n[t|1]}function es(n,e){return mP(n,e,1)}function mP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var kr={},kt=[],ir=new $(""),wg=new $("",-1),bg=new $(""),Za=class{get(e,t=Ii){if(t===Ii){let i=Eb("",-201);throw i.name="\u0275NotFound",i}return t}};function Dg(n){return n[yg]||null}function or(n){return n[pg]||null}function Tg(n){return n[gg]||null}function Db(n){return n[mg]||null}function qt(n){return{\u0275providers:n}}function Tb(n){return qt([{provide:ir,multi:!0,useValue:n}])}function Cb(...n){return{\u0275providers:Cg(!0,n),\u0275fromNgModule:!0}}function Cg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Hl(e,s=>{let a=s;Ul(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Sb(i,o),t}function Sb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Sg(i,o=>{e(o,r)})}}function Ul(n,e,t,r){if(n=tt(n),!n)return!1;let i=null,o=Jp(n),s=!o&&or(n);if(!o&&!s){let u=n.ngModule;if(o=Jp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ul(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Hl(o.imports,h=>{Ul(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Sb(l,e)}if(!a){let l=Di(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:bg,useValue:i,multi:!0},i),e({provide:ir,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Sg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Sg(n,e){for(let t of n)fg(t)&&(t=t.\u0275providers),Array.isArray(t)?Sg(t,e):e(t)}var yP=ve({provide:String,useValue:ve});function Ab(n){return n!==null&&typeof n=="object"&&yP in n}function vP(n){return!!(n&&n.useExisting)}function _P(n){return!!(n&&n.useFactory)}function Ti(n){return typeof n=="function"}function Rb(n){return!!n.useClass}var tc=new $(""),Vl={},mb={},Zp;function nc(){return Zp===void 0&&(Zp=new Za),Zp}var je=class{},Ci=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ig(e,s=>this.processProvider(s)),this.records.set(wg,Yo(void 0,this)),i.has("environment")&&this.records.set(je,Yo(void 0,this));let o=this.records.get(tc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bg,kt,{self:!0}))}retrieve(e,t){let r=bi(t)||0;try{return this.get(e,Ii,r)}catch(i){if(No(i))return i;throw i}}destroy(){Ya(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return Ya(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ya(this);let t=Tn(this),r=Ot(void 0),i;try{return e()}finally{Tn(t),Ot(r)}}get(e,t=Ii,r){if(Ya(this),e.hasOwnProperty(gb))return e[gb](this);let i=bi(r),o,s=Tn(this),a=Ot(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=DP(e)&&Ja(e);h&&this.injectableDefInScope(h)?l=Yo(rg(e),Vl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?nc():this.parent;return t=i&8&&t===Ii?null:t,u.get(e,t)}catch(u){let l=dP(u);throw l===-200||l===-201?new B(l,null):u}finally{Ot(a),Tn(s)}}resolveInjectorInitializers(){let e=oe(null),t=Tn(this),r=Ot(void 0),i;try{let o=this.get(ir,kt,{self:!0});for(let s of o)s()}finally{Tn(t),Ot(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=tt(e);let t=Ti(e)?e:tt(e&&e.provide),r=IP(e);if(!Ti(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Yo(void 0,Vl,!0),i.factory=()=>ng(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=oe(null);try{if(t.value===mb)throw vg(nr(e));return t.value===Vl&&(t.value=mb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&bP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rg(n){let e=Ja(n),t=e!==null?e.factory:Di(n);if(t!==null)return t;if(n instanceof $)throw new B(204,!1);if(n instanceof Function)return EP(n);throw new B(204,!1)}function EP(n){if(n.length>0)throw new B(204,!1);let t=cP(n);return t!==null?()=>t.factory(n):()=>new n}function IP(n){if(Ab(n))return Yo(void 0,n.useValue);{let e=Ag(n);return Yo(e,Vl)}}function Ag(n,e,t){let r;if(Ti(n)){let i=tt(n);return Di(i)||rg(i)}else if(Ab(n))r=()=>tt(n.useValue);else if(_P(n))r=()=>n.useFactory(...ng(n.deps||[]));else if(vP(n))r=(i,o)=>K(tt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=tt(n&&(n.useClass||n.provide));if(wP(n))r=()=>new i(...ng(n.deps));else return Di(i)||rg(i)}return r}function Ya(n){if(n.destroyed)throw new B(205,!1)}function Yo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function wP(n){return!!n.deps}function bP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function DP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ig(n,e){for(let t of n)Array.isArray(t)?ig(t,e):t&&fg(t)?ig(t.\u0275providers,e):e(t)}function qe(n,e){let t;n instanceof Ci?(Ya(n),t=n):t=new tg(n);let r,i=Tn(t),o=Ot(void 0);try{return e()}finally{Tn(i),Ot(o)}}function Nb(){return Ib()!==void 0||el()!=null}var sn=0,se=1,Z=2,st=3,Gt=4,Wt=5,rc=6,ts=7,ft=8,Fr=9,Cn=10,Ge=11,ns=12,Rg=13,Ni=14,Kt=15,Mi=16,Pi=17,xi=18,ic=19,Ng=20,tr=21,Gl=22,oc=23,Ft=24,Oi=25,sc=26,Lt=27,Mb=1;var Lr=7,ac=8,cc=9,Nt=10;function Sn(n){return Array.isArray(n)&&typeof n[Mb]=="object"}function an(n){return Array.isArray(n)&&n[Mb]===!0}function Mg(n){return(n.flags&4)!==0}function Vr(n){return n.componentOffset>-1}function uc(n){return(n.flags&1)===1}function An(n){return!!n.template}function rs(n){return(n[Z]&512)!==0}function ki(n){return(n[Z]&256)===256}var Pb="svg",xb="math";function Qt(n){for(;Array.isArray(n);)n=n[sn];return n}function Pg(n,e){return Qt(e[n])}function cn(n,e){return Qt(e[n.index])}function Wl(n,e){return n.data[e]}function Yt(n,e){let t=e[n];return Sn(t)?t:t[sn]}function Kl(n){return(n[Z]&128)===128}function Ob(n){return an(n[st])}function lc(n,e){return e==null?null:n[e]}function xg(n){n[Pi]=0}function Og(n){n[Z]&1024||(n[Z]|=1024,Kl(n)&&is(n))}function kb(n,e){for(;n>0;)e=e[Ni],n--;return e}function dc(n){return!!(n[Z]&9216||n[Ft]?.dirty)}function Ql(n){n[Cn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),dc(n)&&is(n)}function is(n){n[Cn].changeDetectionScheduler?.notify(0);let e=Or(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Kl(e)));)e=Or(e)}function kg(n,e){if(ki(n))throw new B(911,!1);n[tr]===null&&(n[tr]=[]),n[tr].push(e)}function Fb(n,e){if(n[tr]===null)return;let t=n[tr].indexOf(e);t!==-1&&n[tr].splice(t,1)}function Or(n){let e=n[st];return an(e)?e[st]:e}function Lb(n){return n[ts]??=[]}function Vb(n){return n.cleanup??=[]}var de={lFrame:eD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var og=!1;function jb(){return de.lFrame.elementDepthCount}function Ub(){de.lFrame.elementDepthCount++}function Bb(){de.lFrame.elementDepthCount--}function Fg(){return de.bindingsEnabled}function $b(){return de.skipHydrationRootTNode!==null}function Hb(n){return de.skipHydrationRootTNode===n}function zb(){de.skipHydrationRootTNode=null}function Re(){return de.lFrame.lView}function un(){return de.lFrame.tView}function ln(n){return de.lFrame.contextLView=n,n[ft]}function dn(n){return de.lFrame.contextLView=null,n}function Dt(){let n=Lg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Lg(){return de.lFrame.currentTNode}function qb(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function os(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function Vg(){return de.lFrame.isParent}function Gb(){de.lFrame.isParent=!1}function jg(){return og}function Ug(n){let e=og;return og=n,e}function Wb(n){return de.lFrame.bindingIndex=n}function Yl(){return de.lFrame.bindingIndex++}function Kb(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Qb(){return de.lFrame.inI18n}function Yb(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zl(e)}function Zb(){return de.lFrame.currentDirectiveIndex}function Zl(n){de.lFrame.currentDirectiveIndex=n}function Jb(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Bg(n){de.lFrame.currentQueryIndex=n}function TP(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[Wt]:null}function $g(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=TP(o),i===null||(o=o[Ni],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=Xb();return r.currentTNode=e,r.lView=n,!0}function Jl(n){let e=Xb(),t=n[se];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xb(){let n=de.lFrame,e=n===null?null:n.child;return e===null?eD(n):e}function eD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function tD(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Hg=tD;function Xl(){let n=tD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function nD(n){return(de.lFrame.contextLView=kb(n,de.lFrame.contextLView))[ft]}function Fi(){return de.lFrame.selectedIndex}function jr(n){de.lFrame.selectedIndex=n}function zg(){let n=de.lFrame;return Wl(n.tView,n.selectedIndex)}function rD(){return de.lFrame.currentNamespace}var iD=!0;function ed(){return iD}function td(n){iD=n}function sg(n,e=null,t=null,r){let i=qg(n,e,t,r);return i.resolveInjectorInitializers(),i}function qg(n,e=null,t=null,r,i=new Set){let o=[t||kt,Cb(n)];return r=r||(typeof n=="object"?void 0:nr(n)),new Ci(o,e||nc(),r||null,i)}var ze=class n{static THROW_IF_NOT_FOUND=Ii;static NULL=new Za;static create(e,t){if(Array.isArray(e))return sg({name:""},t,e,"");{let r=e.name??"";return sg({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>K(wg)});static __NG_ELEMENT_ID__=-1},Ue=new $(""),hn=(()=>{class n{static __NG_ELEMENT_ID__=CP;static __NG_ENV_ID__=t=>t}return n})(),ag=class extends hn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ki(this._lView)}onDestroy(e){let t=this._lView;return kg(t,e),()=>Fb(t,e)}};function CP(){return new ag(Re())}var on=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new $("",{providedIn:"root",factory:()=>{let n=N(je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(on),e.handleError(t))}}}),oD={provide:ir,useValue:()=>void N(on),multi:!0},SP=new $("",{providedIn:"root",factory:()=>{let n=N(Ue).defaultView;if(!n)return;let e=N(Mt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(hn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Gg(){return qt([Tb(()=>void N(SP))])}function he(n,e){let[t,r,i]=Op(n,e?.equal),o=t,s=o[It];return o.set=r,o.update=i,o.asReadonly=sD.bind(o),o}function sD(){let n=this[It];if(n.readonlyFn===void 0){let e=()=>this();e[It]=n,n.readonlyFn=e}return n.readonlyFn}var nd=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=AP}return n})();function AP(){return new nd(Re(),Dt())}var rr=class{},hc=new $("",{providedIn:"root",factory:()=>!1});var Wg=new $(""),Kg=new $(""),Rn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),ss=(()=>{class n{internalPendingTasks=N(Rn);scheduler=N(rr);errorHandler=N(Mt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function fc(...n){}var Qg=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new cg})}return n})(),cg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function $i(n){return{toString:n}.toString()}var as="__annotations__",cs="__parameters__",aD="__prop__metadata__";function LP(n,e,t,r,i){return $i(()=>{let o=zD(e);function s(...a){if(this instanceof s)return o.call(this,...a),this;let u=new s(...a);return function(h){return i&&i(h,...a),(h.hasOwnProperty(as)?h[as]:Object.defineProperty(h,as,{value:[]})[as]).push(u),h}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}function zD(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function gs(n,e,t){return $i(()=>{let r=zD(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(cs)?u[cs]:Object.defineProperty(u,cs,{value:[]})[cs];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var qD=Xo(gs("Inject",n=>({token:n})),-1),Mn=Xo(gs("Optional"),8),GD=Xo(gs("Self"),2),WD=Xo(gs("SkipSelf"),4),KD=Xo(gs("Host"),1);function am(n){let e=Ai.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}var cD={\u0275\u0275defineInjectable:H,\u0275\u0275defineInjector:zt,\u0275\u0275inject:K,\u0275\u0275invalidFactoryDep:Eg,resolveForwardRef:tt},QD=Function;function pc(n){return typeof n=="function"}var VP=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,jP=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,UP=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,BP=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;function $P(n){return VP.test(n)||BP.test(n)||jP.test(n)&&!UP.test(n)}var ud=class{_reflect;constructor(e){this._reflect=e||Ai.Reflect}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let r;typeof e>"u"?r=zl(t.length):r=zl(e.length);for(let i=0;i<r.length;i++)typeof e>"u"?r[i]=[]:e[i]&&e[i]!=Object?r[i]=[e[i]]:r[i]=[],t&&t[i]!=null&&(r[i]=r[i].concat(t[i]));return r}_ownParameters(e,t){let r=e.toString();if($P(r))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;let i=e.ctorParameters;if(i&&i!==t.ctorParameters){let a=typeof i=="function"?i():i,u=a.map(h=>h&&h.type),l=a.map(h=>h&&Yg(h.decorators));return this._zipTypesAndAnnotations(u,l)}let o=e.hasOwnProperty(cs)&&e[cs],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||o?this._zipTypesAndAnnotations(s,o):zl(e.length)}parameters(e){if(!pc(e))return[];let t=rd(e),r=this._ownParameters(e,t);return!r&&t!==Object&&(r=this.parameters(t)),r||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let r=e.annotations;return typeof r=="function"&&r.annotations&&(r=r.annotations),r}return e.decorators&&e.decorators!==t.decorators?Yg(e.decorators):e.hasOwnProperty(as)?e[as]:null}annotations(e){if(!pc(e))return[];let t=rd(e),r=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(r)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let r=e.propMetadata;return typeof r=="function"&&r.propMetadata&&(r=r.propMetadata),r}if(e.propDecorators&&e.propDecorators!==t.propDecorators){let r=e.propDecorators,i={};return Object.keys(r).forEach(o=>{i[o]=Yg(r[o])}),i}return e.hasOwnProperty(aD)?e[aD]:null}propMetadata(e){if(!pc(e))return{};let t=rd(e),r={};if(t!==Object){let o=this.propMetadata(t);Object.keys(o).forEach(s=>{r[s]=o[s]})}let i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach(o=>{let s=[];r.hasOwnProperty(o)&&s.push(...r[o]),s.push(...i[o]),r[o]=s}),r}ownPropMetadata(e){return pc(e)?this._ownPropMetadata(e,rd(e))||{}:{}}hasLifecycleHook(e,t){return e instanceof QD&&t in e.prototype}};function Yg(n){return n?n.map(e=>{let r=e.type.annotationCls,i=e.args?e.args:[];return new r(...i)}):[]}function rd(n){let e=n.prototype?Object.getPrototypeOf(n.prototype):null;return(e?e.constructor:null)||Object}var ld=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function YD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Hi=(()=>{let n=()=>ZD;return n.ngInherit=!0,n})();function ZD(n){return n.type.prototype.ngOnChanges&&(n.setInput=zP),HP}function HP(){let n=XD(this),e=n?.current;if(e){let t=n.previous;if(t===kr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zP(n,e,t,r,i){let o=this.declaredInputs[r],s=XD(n)||qP(n,{previous:kr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ld(l&&l.currentValue,t,u===kr),YD(n,e,i,t)}var JD="__ngSimpleChanges__";function XD(n){return n[JD]||null}function qP(n,e){return n[JD]=e}var uD=[];var be=function(n,e=null,t){for(let r=0;r<uD.length;r++){let i=uD[r];i(n,e,t)}};function GP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ZD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function eT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function sd(n,e,t){tT(n,e,3,t)}function ad(n,e,t,r){(n[Z]&3)===t&&tT(n,e,t,r)}function Zg(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function tT(n,e,t,r){let i=r!==void 0?n[Pi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Pi]+=65536),(a<o||o==-1)&&(WP(n,t,e,u),n[Pi]=(n[Pi]&4294901760)+u+2),u++}function lD(n,e){be(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),be(5,n,e)}}function WP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Z]>>14<n[Pi]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,lD(a,o)):lD(a,o)}var ls=-1,Vi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function KP(n){return(n.flags&8)!==0}function QP(n){return(n.flags&16)!==0}function YP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ZP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function nT(n){return n===3||n===4||n===6}function ZP(n){return n.charCodeAt(0)===64}function yc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?dD(n,t,i,null,e[++r]):dD(n,t,i,null,null))}}return n}function dD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function rT(n){return n!==ls}function dd(n){return n&32767}function JP(n){return n>>16}function hd(n,e){let t=JP(n),r=e;for(;t>0;)r=r[Ni],t--;return r}var cm=!0;function hD(n){let e=cm;return cm=n,e}var XP=256,iT=XP-1,oT=5,ex=0,Nn={};function tx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ri)&&(r=t[Ri]),r==null&&(r=t[Ri]=ex++);let i=r&iT,o=1<<i;e.data[n+(i>>oT)]|=o}function fd(n,e){let t=sT(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,Jg(r.data,n),Jg(e,null),Jg(r.blueprint,null));let i=Sm(n,e),o=n.injectorIndex;if(rT(i)){let s=dd(i),a=hd(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Jg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function sT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Sm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=dT(i),r===null)return ls;if(t++,i=i[Ni],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ls}function um(n,e,t){tx(n,e,t)}function nx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(nT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function aT(n,e,t){if(t&8||n!==void 0)return n;$l(e,"NodeInjector")}function cT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Fr],o=Ot(void 0);try{return i?i.get(e,r,t&8):_g(e,r,t&8)}finally{Ot(o)}}return aT(r,e,t)}function uT(n,e,t,r=0,i){if(n!==null){if(e[Z]&2048&&!(r&2)){let s=ax(n,e,t,r,Nn);if(s!==Nn)return s}let o=lT(n,e,t,r,Nn);if(o!==Nn)return o}return cT(e,t,r,i)}function lT(n,e,t,r,i){let o=ox(t);if(typeof o=="function"){if(!$g(e,n,r))return r&1?aT(i,t,r):cT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))$l(t);else return s}finally{Hg()}}else if(typeof o=="number"){let s=null,a=sT(n,e),u=ls,l=r&1?e[Kt][Wt]:null;for((a===-1||r&4)&&(u=a===-1?Sm(n,e):e[a+8],u===ls||!pD(r,!1)?a=-1:(s=e[se],a=dd(u),e=hd(u,e)));a!==-1;){let h=e[se];if(fD(o,a,h.data)){let p=rx(a,e,t,s,r,l);if(p!==Nn)return p}u=e[a+8],u!==ls&&pD(r,e[se].data[a+8]===l)&&fD(o,a,e)?(s=h,a=dd(u),e=hd(u,e)):a=-1}}return i}function rx(n,e,t,r,i,o){let s=e[se],a=s.data[n+8],u=r==null?Vr(a)&&cm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=ix(a,s,t,u,l);return h!==null?pd(e,s,h,a,i):Nn}function ix(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&An(y)&&y.type===t)return u}return null}function pd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Vi){let a=o;if(a.resolving){let y=vb(s[t]);throw vg(y)}let u=hD(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Ot(a.injectImpl):null,m=$g(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&GP(t,s[t],e)}finally{p!==null&&Ot(p),hD(u),a.resolving=!1,Hg()}}return o}function ox(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ri)?n[Ri]:void 0;return typeof e=="number"?e>=0?e&iT:sx:e}function fD(n,e,t){let r=1<<n;return!!(t[e+(n>>oT)]&r)}function pD(n,e){return!(n&2)&&!(n&1&&e)}var Li=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return uT(this._tNode,this._lView,e,bi(r),t)}};function sx(){return new Li(Dt(),Re())}function Ic(n){return $i(()=>{let e=n.prototype.constructor,t=e[wi]||lm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[wi]||lm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function lm(n){return dg(n)?()=>{let e=lm(tt(n));return e&&e()}:Di(n)}function ax(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!rs(s);){let a=lT(o,s,t,r|2,Nn);if(a!==Nn)return a;let u=o.parent;if(!u){let l=s[Ng];if(l){let h=l.get(t,Nn,r);if(h!==Nn)return h}u=dT(s),s=s[Ni]}o=u}return i}function dT(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[Wt]:null}function ms(n){return nx(Dt(),n)}var hT=gs("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>ms(n)})),gD=null;function cx(){return gD=gD||new ud}function ux(n){return fT(cx().parameters(n))}function fT(n){return n.map(e=>lx(e))}function lx(n){let e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let t=0;t<n.length;t++){let r=n[t];if(r===void 0)continue;let i=Object.getPrototypeOf(r);if(r instanceof Mn||i.ngMetadataName==="Optional")e.optional=!0;else if(r instanceof WD||i.ngMetadataName==="SkipSelf")e.skipSelf=!0;else if(r instanceof GD||i.ngMetadataName==="Self")e.self=!0;else if(r instanceof KD||i.ngMetadataName==="Host")e.host=!0;else if(r instanceof qD)e.token=r.token;else if(r instanceof hT){if(r.attributeName===void 0)throw new B(204,!1);e.attribute=r.attributeName}else e.token=r}else n===void 0||Array.isArray(n)&&n.length===0?e.token=null:e.token=n;return e}function dx(n,e){let t=null,r=null;n.hasOwnProperty(Jo)||Object.defineProperty(n,Jo,{get:()=>(t===null&&(t=am({usage:0,kind:"injectable",type:n}).compileInjectable(cD,`ng:///${n.name}/\u0275prov.js`,gx(n,e))),t)}),n.hasOwnProperty(wi)||Object.defineProperty(n,wi,{get:()=>{if(r===null){let i=am({usage:0,kind:"injectable",type:n});r=i.compileFactory(cD,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:ux(n),target:i.FactoryTarget.Injectable})}return r},configurable:!0})}var hx=ve({provide:String,useValue:ve});function mD(n){return n.useClass!==void 0}function fx(n){return hx in n}function yD(n){return n.useFactory!==void 0}function px(n){return n.useExisting!==void 0}function gx(n,e){let t=e||{providedIn:null},r={name:n.name,type:n,typeArgumentCount:0,providedIn:t.providedIn};return(mD(t)||yD(t))&&t.deps!==void 0&&(r.deps=fT(t.deps)),mD(t)?r.useClass=t.useClass:fx(t)?r.useValue=t.useValue:yD(t)?r.useFactory=t.useFactory:px(t)&&(r.useExisting=t.useExisting),r}var Am=LP("Injectable",void 0,void 0,void 0,(n,e)=>dx(n,e));function mx(){return Cd(Dt(),Re())}function Cd(n,e){return new zi(cn(n,e))}var zi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=mx}return n})();function pT(n){return(n.flags&128)===128}var Rm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Rm||{}),gT=new Map,yx=0;function vx(){return yx++}function _x(n){gT.set(n[ic],n)}function dm(n){gT.delete(n[ic])}var vD="__ngContext__";function ds(n,e){Sn(e)?(n[vD]=e[ic],_x(e)):n[vD]=e}function mT(n){return vT(n[ns])}function yT(n){return vT(n[Gt])}function vT(n){for(;n!==null&&!an(n);)n=n[Gt];return n}var hm;function Nm(n){hm=n}function _T(){if(hm!==void 0)return hm;if(typeof document<"u")return document;throw new B(210,!1)}var Sd=new $("",{providedIn:"root",factory:()=>Ex}),Ex="ng",Ad=new $(""),qi=new $("",{providedIn:"platform",factory:()=>"unknown"});var Rd=new $("",{providedIn:"root",factory:()=>_T().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ix="h",wx="b";var ET=!1,IT=new $("",{providedIn:"root",factory:()=>ET});var Mm=new $("");var bx=(n,e,t,r)=>{};function Dx(n,e,t,r){bx(n,e,t,r)}function Pm(n){return(n.flags&32)===32}var Tx=()=>null;function wT(n,e,t=!1){return Tx(n,e,t)}function bT(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Bg(o),a.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function fm(n,e,t){Bg(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function DT(n,e,t){if(Mg(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{oe(r)}}}var sr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(sr||{});var id;function Cx(){if(id===void 0&&(id=null,Ai.trustedTypes))try{id=Ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return id}function _D(n){return Cx()?.createScriptURL(n)||n}var gd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bl})`}};function wc(n){return n instanceof gd?n.changingThisBreaksApplicationSecurity:n}function xm(n,e){let t=TT(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Bl})`)}return t===e}function TT(n){return n instanceof gd&&n.getTypeName()||null}var Sx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CT(n){return n=String(n),n.match(Sx)?n:"unsafe:"+n}function Ax(n,e){return n.createText(e)}function Rx(n,e,t){n.setValue(e,t)}function ST(n,e,t){return n.createElement(e,t)}function md(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AT(n,e,t){n.appendChild(e,t)}function ED(n,e,t,r,i){r!==null?md(n,e,t,r,i):AT(n,e,t)}function Nx(n,e,t,r){n.removeChild(null,e,t,r)}function Mx(n,e,t){n.setAttribute(e,"style",t)}function Px(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function RT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&YP(n,e,r),i!==null&&Px(n,e,i),o!==null&&Mx(n,e,o)}var Nd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Nd||{});function NT(n){let e=PT();return e?e.sanitize(Nd.URL,n)||"":xm(n,"URL")?wc(n):CT(Xa(n))}function MT(n){let e=PT();if(e)return _D(e.sanitize(Nd.RESOURCE_URL,n)||"");if(xm(n,"ResourceURL"))return _D(wc(n));throw new B(904,!1)}function xx(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?MT:NT}function Om(n,e,t){return xx(e,t)(n)}function PT(){let n=Re();return n&&n[Cn].sanitizer}function xT(n){return n instanceof Function?n():n}function Ox(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var OT="ng-template";function kx(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ox(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(km(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function km(n){return n.type===4&&n.value!==OT}function Fx(n,e,t){let r=n.type===4&&!t?OT:n.value;return e===r}function Lx(n,e,t){let r=4,i=n.attrs,o=i!==null?Ux(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!fn(r)&&!fn(u))return!1;if(s&&fn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Fx(n,u,t)||u===""&&e.length===1){if(fn(r))return!1;s=!0}}else if(r&8){if(i===null||!kx(n,i,u,t)){if(fn(r))return!1;s=!0}}else{let l=e[++a],h=Vx(u,i,km(n),t);if(h===-1){if(fn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(fn(r))return!1;s=!0}}}}return fn(r)||s}function fn(n){return(n&1)===0}function Vx(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Bx(e,n)}function jx(n,e,t=!1){for(let r=0;r<e.length;r++)if(Lx(n,e[r],t))return!0;return!1}function Ux(n){for(let e=0;e<n.length;e++){let t=n[e];if(nT(t))return e}return n.length}function Bx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ID(n,e){return n?":not("+e.trim()+")":e}function $x(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!fn(s)&&(e+=ID(o,i),i=""),r=s,o=o||!fn(r);t++}return i!==""&&(e+=ID(o,i)),e}function Hx(n){return n.map($x).join(",")}function zx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!fn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Br={};function Fm(n,e,t,r,i,o,s,a,u,l,h){let p=Lt+r,m=p+i,y=qx(p,m),S=typeof l=="function"?l():l;return y[se]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function qx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Br);return t}function Gx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Fm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Lm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[sn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),xg(p),p[st]=p[Ni]=n,p[ft]=t,p[Cn]=s||n&&n[Cn],p[Ge]=a||n&&n[Ge],p[Fr]=u||n&&n[Fr]||null,p[Wt]=o,p[ic]=vx(),p[rc]=h,p[Ng]=l,p[Kt]=e.type==2?n[Kt]:p,p}function Wx(n,e,t){let r=cn(e,n),i=Gx(t),o=n[Cn].rendererFactory,s=Vm(n,Lm(n,i,null,kT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function kT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function FT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Vm(n,e){return n[ns]?n[Rg][Gt]=e:n[ns]=e,n[Rg]=e,e}function te(n=1){LT(un(),Re(),Fi()+n,!1)}function LT(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&sd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ad(e,o,0,t)}jr(t)}var Md=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Md||{});function pm(n,e,t,r){let i=oe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Md.SignalBased)!==0&&(u=e[o][It]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):YD(e,u,o,r)}finally{oe(i)}}var ar=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ar||{}),Kx;function jm(n,e){return Kx(n,e)}var hs=new Set,Pd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Pd||{}),Gi=new $(""),wD=new Set;function Wi(n){wD.has(n)||(wD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var VT=!1,gm=class extends $e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Nb()&&(this.destroyRef=N(hn,{optional:!0})??void 0,this.pendingTasks=N(Rn,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ze=gm;function jT(n){let e,t;function r(){n=fc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bD(n){return queueMicrotask(()=>n()),()=>{n=fc}}var Um="isAngularZone",yd=Um+"_ID",Qx=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=VT}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Jx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Um)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Yx,fc,fc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Yx={};function Bm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Zx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){jT(()=>{n.callbackScheduled=!1,mm(n),n.isCheckStableRunning=!0,Bm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),mm(n)}function Jx(n){let e=()=>{Zx(n)},t=Qx++;n._inner=n._inner.fork({name:"angular",properties:{[Um]:!0,[yd]:t,[yd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Xx(u))return r.invokeTask(o,s,a,u);try{return DD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),TD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return DD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eO(u)&&e(),TD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,mm(n),Bm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function mm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TD(n){n._nesting--,Bm(n)}var vd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Xx(n){return UT(n,"__ignore_ng_zone__")}function eO(n){return UT(n,"__scheduler_tick__")}function UT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $m=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),BT=[0,1,2,3],$T=(()=>{class n{ngZone=N(De);scheduler=N(rr);errorHandler=N(on,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Gi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&be(16),this.executing=!0;for(let r of BT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&be(17)}register(t){let{view:r}=t;r!==void 0?((r[Oi]??=[]).push(t),is(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Pd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),_d=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Oi];e&&(this.view[Oi]=e.filter(t=>t!==this))}};function xd(n,e){let t=e?.injector??N(ze);return Wi("NgAfterNextRender"),nO(n,t,e,!0)}function tO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function nO(n,e,t,r){let i=e.get($m);i.impl??=e.get($T);let o=e.get(Gi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(hn):null,a=e.get(nd,null,{optional:!0}),u=new _d(i.impl,tO(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var rO=new $("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function HT(n,e,t){let r=n.get(rO);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function iO(n,e){for(let[t,r]of e)HT(n,r.animateFns)}function CD(n,e,t,r){let i=n?.[sc]?.enter;e!==null&&i&&i.has(t.index)&&iO(r,i)}function us(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;an(i)?u=i:Sn(i)&&(l=!0,i=i[sn]);let h=Qt(i);n===0&&r!==null?(CD(a,r,o,t),s==null?AT(e,r,h):md(e,r,h,s||null,!0)):n===1&&r!==null?(CD(a,r,o,t),md(e,r,h,s||null,!0)):n===2?SD(a,o,t,p=>{Nx(e,h,l,p)}):n===3&&SD(a,o,t,()=>{e.destroyNode(h)}),u!=null&&yO(e,n,t,u,o,r,s)}}function oO(n,e){zT(n,e),e[sn]=null,e[Wt]=null}function sO(n,e,t,r,i,o){r[sn]=i,r[Wt]=e,Od(n,r,t,1,i,o)}function zT(n,e){e[Cn].changeDetectionScheduler?.notify(9),Od(n,e,e[Ge],2,null,null)}function aO(n){let e=n[ns];if(!e)return Xg(n[se],n);for(;e;){let t=null;if(Sn(e))t=e[ns];else{let r=e[Nt];r&&(t=r)}if(!t){for(;e&&!e[Gt]&&e!==n;)Sn(e)&&Xg(e[se],e),e=e[st];e===null&&(e=n),Sn(e)&&Xg(e[se],e),t=e&&e[Gt]}e=t}}function Hm(n,e){let t=n[cc],r=t.indexOf(e);t.splice(r,1)}function qT(n,e){if(ki(e))return;let t=e[Ge];t.destroyNode&&Od(n,e,t,3,null,null),aO(e)}function Xg(n,e){if(ki(e))return;let t=oe(null);try{e[Z]&=-129,e[Z]|=256,e[Ft]&&za(e[Ft]),lO(n,e),uO(n,e),e[se].type===1&&e[Ge].destroy();let r=e[Mi];if(r!==null&&an(e[st])){r!==e[st]&&Hm(r,e);let i=e[xi];i!==null&&i.detachView(n)}dm(e)}finally{oe(t)}}function SD(n,e,t,r){let i=n?.[sc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&hs.add(n),HT(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),cO(n,r)}else n&&hs.delete(n),r(!1)},i)}function cO(n,e){let t=n[sc]?.running;if(t){t.then(()=>{n[sc].running=void 0,hs.delete(n),e(!0)});return}e(!1)}function uO(n,e){let t=n.cleanup,r=e[ts];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ts]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[oc];if(o!==null){e[oc]=null;for(let s of o)s.destroy()}}function lO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Vi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];be(4,a,u);try{u.call(a)}finally{be(5,a,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function dO(n,e,t){return hO(n,e.parent,t)}function hO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[sn];if(Vr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===sr.None||i===sr.Emulated)return null}return cn(r,t)}function fO(n,e,t){return gO(n,e,t)}function pO(n,e,t){return n.type&40?cn(n,t):null}var gO=pO,AD;function zm(n,e,t,r){let i=dO(n,r,e),o=e[Ge],s=r.parent||e[Wt],a=fO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ED(o,i,t[u],a,!1);else ED(o,i,t,a,!1);AD!==void 0&&AD(o,r,e,t,i)}function gc(n,e){if(e!==null){let t=e.type;if(t&3)return cn(e,n);if(t&4)return ym(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return gc(n,r);{let i=n[e.index];return an(i)?ym(-1,i):Qt(i)}}else{if(t&128)return gc(n,e.next);if(t&32)return jm(e,n)()||Qt(n[e.index]);{let r=GT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Or(n[Kt]);return gc(i,r)}else return gc(n,e.next)}}}return null}function GT(n,e){if(e!==null){let r=n[Kt][Wt],i=e.projection;return r.projection[i]}return null}function ym(n,e){let t=Nt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return gc(r,i)}return e[Lr]}function qm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Fr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&ds(Qt(u),r),t.flags|=2),!Pm(t))if(l&8)qm(n,e,t.child,r,i,o,!1),us(e,n,a,i,u,t,o,r);else if(l&32){let h=jm(t,r),p;for(;p=h();)us(e,n,a,i,p,t,o,r);us(e,n,a,i,u,t,o,r)}else l&16?mO(n,e,r,t,i,o):us(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Od(n,e,t,r,i,o){qm(t,r,n.firstChild,e,i,o,!1)}function mO(n,e,t,r,i,o){let s=t[Kt],u=s[Wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];us(e,n,t[Fr],i,h,r,o,t)}else{let l=u,h=s[st];pT(r)&&(l.flags|=128),qm(n,e,l,h,i,o,!0)}}function yO(n,e,t,r,i,o,s){let a=r[Lr],u=Qt(r);a!==u&&us(e,n,t,o,a,i,s);for(let l=Nt;l<r.length;l++){let h=r[l];Od(h[se],h,n,e,o,a)}}function vO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ar.Important),n.setStyle(t,r,i,o))}}function WT(n,e,t,r,i){let o=Fi(),s=r&2;try{jr(-1),s&&e.length>Lt&&LT(n,e,Lt,!1),be(s?2:0,i,t),t(r,i)}finally{jr(o),be(s?3:1,i,t)}}function Gm(n,e,t){CO(n,e,t),(t.flags&64)===64&&SO(n,e,t)}function KT(n,e,t=cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function _O(n,e,t,r){let o=r.get(IT,ET)||t===sr.ShadowDom,s=n.selectRootElement(e,o);return EO(s),s}function EO(n){IO(n)}var IO=()=>null;function wO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bO(n,e,t,r,i,o){let s=e[se];if(Wm(n,s,e,t,r)){Vr(n)&&TO(e,n.index);return}n.type&3&&(t=wO(t)),DO(n,e,t,r,i,o)}function DO(n,e,t,r,i,o){if(n.type&3){let s=cn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function TO(n,e){let t=Yt(e,n);t[Z]&16||(t[Z]|=64)}function CO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Vr(t)&&Wx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||fd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=pd(e,n,s,t);if(ds(u,e),o!==null&&MO(e,s-r,u,a,t,o),An(a)){let l=Yt(t.index,e);l[ft]=pd(e,n,s,t)}}}function SO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Zb();try{jr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Zl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&AO(u,l)}}finally{jr(-1),Zl(s)}}function AO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function QT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jx(e,o.selectors,!1)&&(r??=[],An(o)?r.unshift(o):r.push(o))}return r}function RO(n,e,t,r,i,o){let s=cn(n,e);NO(e[Ge],s,o,n.value,t,r,i)}function NO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Xa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function MO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];pm(r,t,u,l)}}function PO(n,e,t,r,i){let o=Lt+t,s=e[se],a=i(s,e,n,r,t);e[o]=a,os(n,!0);let u=n.type===2;return u?(RT(e[Ge],a,n),(jb()===0||uc(n))&&ds(a,e),Ub()):ds(a,e),ed()&&(!u||!Pm(n))&&zm(s,e,a,n),n}function xO(n){let e=n;return Vg()?Gb():(e=e.parent,os(e,!1)),e}function OO(n,e){let t=n[Fr];if(!t)return;let r;try{r=t.get(Mt,null)}catch{r=null}r?.(e)}function Wm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];pm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];pm(h,l,r,i),a=!0}return a}function kO(n,e){let t=Yt(e,n),r=t[se];FO(r,t);let i=t[sn];i!==null&&t[rc]===null&&(t[rc]=wT(i,t[Fr])),be(18),Km(r,t,t[ft]),be(19,t[ft])}function FO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Km(n,e,t){Jl(e);try{let r=n.viewQuery;r!==null&&fm(1,r,t);let i=n.template;i!==null&&WT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xi]?.finishViewCreation(n),n.staticContentQueries&&bT(n,e),n.staticViewQueries&&fm(2,n.viewQuery,t);let o=n.components;o!==null&&LO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,Xl()}}function LO(n,e){for(let t=0;t<e.length;t++)kO(n,e[t])}function VO(n,e,t,r){let i=oe(null);try{let o=e.tView,a=n[Z]&4096?4096:16,u=Lm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Mi]=l;let h=n[xi];return h!==null&&(u[xi]=h.createEmbeddedView(o)),Km(o,u,t),u}finally{oe(i)}}function RD(n,e){return!e||e.firstChild===null||pT(n)}function vc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Qt(o)),an(o)&&YT(o,r);let s=t.type;if(s&8)vc(n,e,t.child,r);else if(s&32){let a=jm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=GT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Or(e[Kt]);vc(u[se],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YT(n,e){for(let t=Nt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&vc(r[se],r,i,e)}n[Lr]!==n[sn]&&e.push(n[Lr])}function ZT(n){if(n[Oi]!==null){for(let e of n[Oi])e.impl.addSequence(e);n[Oi].length=0}}var JT=[];function jO(n){return n[Ft]??UO(n)}function UO(n){let e=JT.pop()??Object.create($O);return e.lView=n,e}function BO(n){n.lView[Ft]!==n&&(n.lView=null,JT.push(n))}var $O=ie(F({},Mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{is(n.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function HO(n){let e=n[Ft]??Object.create(zO);return e.lView=n,e}var zO=ie(F({},Mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Or(n.lView);for(;e&&!XT(e[se]);)e=Or(e);e&&Og(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function XT(n){return n.type!==2}function eC(n){if(n[oc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[oc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var qO=100;function tC(n,e=0){let r=n[Cn].rendererFactory,i=!1;i||r.begin?.();try{GO(n,e)}finally{i||r.end?.()}}function GO(n,e){let t=jg();try{Ug(!0),vm(n,e);let r=0;for(;dc(n);){if(r===qO)throw new B(103,!1);r++,vm(n,1)}}finally{Ug(t)}}function WO(n,e,t,r){if(ki(e))return;let i=e[Z],o=!1,s=!1;Jl(e);let a=!0,u=null,l=null;o||(XT(n)?(l=jO(e),u=xo(l)):ol()===null?(a=!1,l=HO(e),u=xo(l)):e[Ft]&&(za(e[Ft]),e[Ft]=null));try{xg(e),Wb(n.bindingStartIndex),t!==null&&WT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&sd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&ad(e,y,0,null),Zg(e,0)}if(s||KO(e),eC(e),nC(e,0),n.contentQueries!==null&&bT(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&sd(e,y)}else{let y=n.contentHooks;y!==null&&ad(e,y,1),Zg(e,1)}YO(n,e);let p=n.components;p!==null&&iC(e,p,0);let m=n.viewQuery;if(m!==null&&fm(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&sd(e,y)}else{let y=n.viewHooks;y!==null&&ad(e,y,2),Zg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gl]){for(let y of e[Gl])y();e[Gl]=null}o||(ZT(e),e[Z]&=-73)}catch(h){throw o||is(e),h}finally{l!==null&&($a(l,u),a&&BO(l)),Xl()}}function nC(n,e){for(let t=mT(n);t!==null;t=yT(t))for(let r=Nt;r<t.length;r++){let i=t[r];rC(i,e)}}function KO(n){for(let e=mT(n);e!==null;e=yT(e)){if(!(e[Z]&2))continue;let t=e[cc];for(let r=0;r<t.length;r++){let i=t[r];Og(i)}}}function QO(n,e,t){be(18);let r=Yt(e,n);rC(r,t),be(19,r[ft])}function rC(n,e){Kl(n)&&vm(n,e)}function vm(n,e){let r=n[se],i=n[Z],o=n[Ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ha(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)WO(r,n,r.template,n[ft]);else if(i&8192){let a=oe(null);try{eC(n),nC(n,1);let u=r.components;u!==null&&iC(n,u,1),ZT(n)}finally{oe(a)}}}function iC(n,e,t){for(let r=0;r<e.length;r++)QO(n,e[r],t)}function YO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)jr(~i);else{let o=i,s=t[++r],a=t[++r];Yb(s,o);let u=e[o];be(24,u),a(2,u),be(25,u)}}}finally{jr(-1)}}function Qm(n,e){let t=jg()?64:1088;for(n[Cn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=Or(n);if(rs(n)&&!r)return n;n=r}return null}function oC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ZO(n,e,t,r=!0){let i=e[se];if(JO(i,e,n,t),r){let s=ym(t,n),a=e[Ge],u=a.parentNode(n[Lr]);u!==null&&sO(i,n[Wt],a,e,u,s)}let o=e[rc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _m(n,e){if(n.length<=Nt)return;let t=Nt+e,r=n[t];if(r){let i=r[Mi];i!==null&&i!==n&&Hm(i,r),e>0&&(n[t-1][Gt]=r[Gt]);let o=ec(n,Nt+e);oO(r[se],r);let s=o[xi];s!==null&&s.detachView(o[se]),r[st]=null,r[Gt]=null,r[Z]&=-129}return r}function JO(n,e,t,r){let i=Nt+r,o=t.length;r>0&&(t[i-1][Gt]=e),r<o-Nt?(e[Gt]=t[i],Ig(t,Nt+r,e)):(t.push(e),e[Gt]=null),e[st]=t;let s=e[Mi];s!==null&&t!==s&&sC(s,e);let a=e[xi];a!==null&&a.insertView(n),Ql(e),e[Z]|=128}function sC(n,e){let t=n[cc],r=e[st];if(Sn(r))n[Z]|=2;else{let i=r[st][Kt];e[Kt]!==i&&(n[Z]|=2)}t===null?n[cc]=[e]:t.push(e)}var Ur=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[se];return vc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ft]}set context(e){this._lView[ft]=e}get destroyed(){return ki(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(an(e)){let t=e[ac],r=t?t.indexOf(this):-1;r>-1&&(_m(e,r),ec(t,r))}this._attachedToViewContainer=!1}qT(this._lView[se],this._lView)}onDestroy(e){kg(this._lView,e)}markForCheck(){Qm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Ql(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,tC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rs(this._lView),t=this._lView[Mi];t!==null&&!e&&Hm(t,this._lView),zT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=rs(this._lView),r=this._lView[Mi];r!==null&&!t&&sC(r,this._lView),Ql(this._lView)}};var kd=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=XO;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=VO(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ur(o)}}return n})();function XO(){return ek(Dt(),Re())}function ek(n,e){return n.type&4?new kd(e,n,Cd(n,e)):null}function Ym(n,e,t,r,i){let o=n.data[e];if(o===null)o=tk(n,e,t,r,i),Qb()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=qb();o.injectorIndex=s===null?-1:s.injectorIndex}return os(o,!0),o}function tk(n,e,t,r,i){let o=Lg(),s=Vg(),a=s?o:o&&o.parent,u=n.data[e]=rk(n,a,t,e,r,i);return nk(n,u,o,s),u}function nk(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function rk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $b()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var c9=new RegExp(`^(\\d+)*(${wx}|${Ix})*(.*)`);var ik=()=>null;function ND(n,e){return ik(n,e)}var aC=class{},Fd=class{},Em=class{resolveComponentFactory(e){throw new B(917,!1)}},bc=class{static NULL=new Em},ji=class{},ys=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>ok()}return n})();function ok(){let n=Re(),e=Dt(),t=Yt(e.index,n);return(Sn(t)?t:n)[Ge]}var cC=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var cd={},Im=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,cd,r);return i!==cd||t===cd?i:this.parentInjector.get(e,t,r)}};function MD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lg(i,a);else if(o==2){let u=a,l=e[++s];r=lg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ne(n,e=0){let t=Re();if(t===null)return K(n,e);let r=Dt();return uT(r,t,tt(n),e)}function Zm(){let n="invalid";throw new Error(n)}function uC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}ck(n,e,t,a,o,u,l)}o!==null&&r!==null&&sk(t,r,o)}function sk(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function ak(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ck(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&An(y)&&(u=!0,ak(n,t,m)),um(fd(t,e),n,y.type)}pk(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=FT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=yc(t.mergedAttrs,y.hostAttrs),lk(n,t,e,p,y),fk(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}uk(n,t,o)}function uk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))PD(0,e,i,r),PD(1,e,i,r),OD(e,r,!1);else{let o=t.get(i);xD(0,e,o,r),xD(1,e,o,r),OD(e,r,!0)}}}function PD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),lC(e,o)}}function xD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),lC(e,s)}}function lC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function OD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||km(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function lk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Di(i.type,!0)),s=new Vi(o,An(i),Ne,null);n.blueprint[r]=s,t[r]=s,dk(n,e,r,FT(n,t,i.hostVars,Br),i)}function dk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;hk(s)!=a&&s.push(a),s.push(t,r,o)}}function hk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function fk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;An(e)&&(t[""]=n)}}function pk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function dC(n,e,t,r,i,o,s,a){let u=e[se],l=u.consts,h=lc(l,s),p=Ym(u,n,t,r,h);return o&&uC(u,e,p,lc(l,a),i),p.mergedAttrs=yc(p.mergedAttrs,p.attrs),p.attrs!==null&&MD(p,p.attrs,!1),p.mergedAttrs!==null&&MD(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function hC(n,e){eT(n,e),Mg(e)&&n.queries.elementEnd(e)}function Jm(n){return pC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function fC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function pC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ld(n,e,t){if(t===Br)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function em(n,e,t){return function r(i){let o=Vr(n)?Yt(n.index,e):e;Qm(o,5);let s=e[ft],a=kD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=kD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function kD(n,e,t,r){let i=oe(null);try{return be(6,e,t),t(r)!==!1}catch(o){return OO(n,o),!1}finally{be(7,e,t),oe(i)}}function gk(n,e,t,r,i,o,s,a){let u=uc(n),l=!1,h=null;if(!r&&u&&(h=yk(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=cn(n,t),m=r?r(p):p;Dx(t,m,o,a);let y=i.listen(m,o,a);if(!mk(o)){let S=r?M=>r(Qt(M[n.index])):n.index;gC(S,e,t,o,a,y,!1)}}return l}function mk(n){return n.startsWith("animation")||n.startsWith("transition")}function yk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ts],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function gC(n,e,t,r,i,o,s){let a=e.firstCreatePass?Vb(e):null,u=Lb(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function FD(n,e,t,r,i,o){let s=e[t],a=e[se],l=a.data[t].outputs[r],p=s[l].subscribe(o);gC(n.index,a,e,i,o,p,!0)}var wm=Symbol("BINDING");var Ed=class extends bc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=or(e);return new Ui(t,this.ngModule)}};function vk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Md.SignalBased)!==0};return i&&(o.transform=i),o})}function _k(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Ek(n,e,t){let r=e instanceof je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Im(t,r):t}function Ik(n){let e=n.get(ji,null);if(e===null)throw new B(407,!1);let t=n.get(cC,null),r=n.get(rr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function wk(n,e){let t=mC(n);return ST(e,t,t==="svg"?Pb:t==="math"?xb:null)}function mC(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ui=class extends Fd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_k(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Hx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){be(22);let a=oe(null);try{let u=this.componentDef,l=bk(r,u,s,o),h=Ek(u,i||this.ngModule,e),p=Ik(h),m=p.rendererFactory.createRenderer(null,u),y=r?_O(m,r,u.encapsulation,h):wk(u,m),S=s?.some(LD)||o?.some(V=>typeof V!="function"&&V.bindings.some(LD)),M=Lm(null,l,null,512|kT(u),null,null,p,m,h,null,wT(y,h,!0));M[Lt]=y,Jl(M);let R=null;try{let V=dC(Lt,M,2,"#host",()=>l.directiveRegistry,!0,0);RT(m,y,V),ds(y,M),Gm(l,M,V),DT(l,V,M),hC(l,V),t!==void 0&&Tk(V,this.ngContentSelectors,t),R=Yt(V.index,M),M[ft]=R[ft],Km(l,M,null)}catch(V){throw R!==null&&dm(R),dm(M),V}finally{be(23),Xl()}return new Id(this.componentType,M,!!S)}finally{oe(a)}}};function bk(n,e,t,r){let i=n?["ng-version","20.3.15"]:zx(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[wm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[wm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Tg(p);u.push(m)}return Fm(0,null,Dk(o,s),1,a,u,null,null,null,[i],null)}function Dk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function LD(n){let e=n[wm].kind;return e==="input"||e==="twoWay"}var Id=class extends aC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Wl(t[se],Lt),this.location=Cd(this._tNode,t),this.instance=Yt(this._tNode.index,t)[ft],this.hostView=this.changeDetectorRef=new Ur(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Wm(r,i[se],i,e,t);this.previousInputValues.set(e,t);let s=Yt(r.index,i);Qm(s,1)}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var vs=(()=>{class n{static __NG_ELEMENT_ID__=Ck}return n})();function Ck(){let n=Dt();return Ak(n,Re())}var Sk=vs,yC=class extends Sk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cd(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sm(this._hostTNode,this._hostLView);if(rT(e)){let t=hd(e,this._hostLView),r=dd(e),i=t[se].data[r+8];return new Li(i,t)}else return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=VD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ND(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,RD(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!pc(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Ui(or(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let V=(u?p:this.parentInjector).get(je,null);V&&(o=V)}let m=or(h.componentType??{}),y=ND(this._lContainer,m?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,RD(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Ob(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new yC(u,u[Wt],u[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ZO(s,i,o,r),e.attachToViewContainerRef(),Ig(tm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=VD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=_m(this._lContainer,t);r&&(ec(tm(this._lContainer),t),qT(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=_m(this._lContainer,t);return r&&ec(tm(this._lContainer),t)!=null?new Ur(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function VD(n){return n[ac]}function tm(n){return n[ac]||(n[ac]=[])}function Ak(n,e){let t,r=e[n.index];return an(r)?t=r:(t=oC(r,e,null,n),e[n.index]=t,Vm(e,t)),Nk(t,e,n,r),new yC(t,n,e)}function Rk(n,e){let t=n[Ge],r=t.createComment(""),i=cn(e,n),o=t.parentNode(i);return md(t,o,r,t.nextSibling(i),!1),r}var Nk=xk,Mk=()=>!1;function Pk(n,e,t){return Mk(n,e,t)}function xk(n,e,t,r){if(n[Lr])return;let i;t.type&8?i=Qt(r):i=Rk(e,t),n[Lr]=i}var fs=class{},Vd=class{};var wd=class extends fs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ed(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Dg(e);this._bootstrapComponents=xT(o.bootstrap),this._r3Injector=qg(e,t,[{provide:fs,useValue:this},{provide:bc,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bd=class extends Vd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new wd(this.moduleType,e,[])}};var _c=class extends fs{injector;componentFactoryResolver=new Ed(this);instance=null;constructor(e){super();let t=new Ci([...e.providers,{provide:fs,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],e.parent||nc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _s(n,e,t=null){return new _c({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ok=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Cg(!1,t.type),i=r.length>0?_s([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(K(je))})}return n})();function pn(n){return $i(()=>{let e=vC(n),t=ie(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ok).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||kt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Wi("NgStandalone"),_C(t);let r=n.dependencies;return t.directiveDefs=jD(r,kk),t.pipeDefs=jD(r,Db),t.id=Vk(t),t})}function kk(n){return or(n)||Tg(n)}function Pn(n){return $i(()=>({type:n.type,bootstrap:n.bootstrap||kt,declarations:n.declarations||kt,imports:n.imports||kt,exports:n.exports||kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fk(n,e){if(n==null)return kr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Md.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function Lk(n){if(n==null)return kr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function gn(n){return $i(()=>{let e=vC(n);return _C(e),e})}function vC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||kr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Fk(n.inputs,e),outputs:Lk(n.outputs),debugInfo:null}}function _C(n){n.features?.forEach(e=>e(n))}function jD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Vk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jk(n){return Object.getPrototypeOf(n.prototype).constructor}function Dc(n){let e=jk(n.type),t=!0,r=[n];for(;e;){let i;if(An(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=nm(n.inputs),s.declaredInputs=nm(n.declaredInputs),s.outputs=nm(n.outputs);let a=i.hostBindings;a&&zk(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&$k(n,u),l&&Hk(n,l),Uk(n,i),yb(n.outputs,i.outputs),An(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Dc&&(t=!1)}}e=Object.getPrototypeOf(e)}Bk(r)}function Uk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Bk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=yc(i.hostAttrs,t=yc(t,i.hostAttrs))}}function nm(n){return n===kr?{}:n===kt?[]:n}function $k(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Hk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function zk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function qk(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=yc(n.mergedAttrs,n.attrs);let h=n.tView=Fm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),os(n,!1);let u=Wk(t,e,n,r);ed()&&zm(t,e,u,n),ds(u,e);let l=oC(u,e,u,n);e[r+Lt]=l,Vm(e,l),Pk(l,n,e)}function Gk(n,e,t,r,i,o,s,a,u,l,h){let p=t+Lt,m;return e.firstCreatePass?(m=Ym(e,p,4,s||null,a||null),Fg()&&uC(e,n,m,lc(e.consts,l),QT),eT(e,m)):m=e.data[p],qk(m,n,e,t,r,i,o,u),uc(m)&&Gm(e,n,m),l!=null&&KT(n,m,h),m}function $r(n,e,t,r,i,o,s,a){let u=Re(),l=un(),h=lc(l.consts,o);return Gk(u,l,n,e,t,r,i,h,void 0,s,a),$r}var Wk=Kk;function Kk(n,e,t,r){return td(!0),e[Ge].createComment("")}var Xm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var ey=new $("");function Ki(n){return!!n&&typeof n.then=="function"}function EC(n){return!!n&&typeof n.subscribe=="function"}var ty=new $("");function jd(n){return qt([{provide:ty,multi:!0,useValue:n}])}var ny=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(ty,{optional:!0})??[];injector=N(ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=qe(this.injector,i);if(Ki(o))t.push(o);else if(EC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tc=new $("");function IC(){xp(()=>{let n="";throw new B(600,n)})}function wC(n){return n.isBoundToModule}var Qk=10;var Hr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Mt);afterRenderManager=N($m);zonelessEnabled=N(hc);rootEffectScheduler=N(Qg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $e;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Rn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ae(t=>!t))}constructor(){N(Gi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ze.NULL){return this._injector.get(De).run(()=>{be(10);let s=t instanceof Fd;if(!this._injector.get(ny).done){let S="";throw new B(405,S)}let u;s?u=t:u=this._injector.get(bc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=wC(u)?void 0:this._injector.get(fs),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(ey,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),mc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),be(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(t),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ji,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Qk;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!dc(i))continue;let o=r&&!this.zonelessEnabled?0:1;tC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>dc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;mc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Tc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Cc(n,e,t,r){let i=Re(),o=Yl();if(Ld(i,o,e)){let s=un(),a=zg();RO(a,i,n,e,t,r)}return Cc}var g9=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Pe(n,e,t){let r=Re(),i=Yl();if(Ld(r,i,e)){let o=un(),s=zg();bO(s,r,n,e,r[Ge],t)}return Pe}function UD(n,e,t,r,i){Wm(e,n,t,i?"class":"style",r)}function k(n,e,t,r){let i=Re(),o=i[se],s=n+Lt,a=o.firstCreatePass?dC(s,i,2,e,QT,Fg(),t,r):o.data[s];if(PO(a,i,n,e,Yk),uc(a)){let u=i[se];Gm(u,i,a),DT(u,a,i)}return r!=null&&KT(i,a),k}function O(){let n=un(),e=Dt(),t=xO(e);return n.firstCreatePass&&hC(n,t),Hb(t)&&zb(),Bb(),t.classesWithoutHost!=null&&KP(t)&&UD(n,t,Re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&QP(t)&&UD(n,t,Re(),t.stylesWithoutHost,!1),O}function Tt(n,e,t,r){return k(n,e,t,r),O(),Tt}var Yk=(n,e,t,r,i)=>(td(!0),ST(e[Ge],r,rD()));function Qi(){return Re()}var Sc="en-US";var Zk=Sc;function bC(n){typeof n=="string"&&(Zk=n.toLowerCase().replace(/_/g,"-"))}function me(n,e,t){let r=Re(),i=un(),o=Dt();return Jk(i,r,r[Ge],o,n,e,t),me}function Jk(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=em(r,e,o),gk(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=em(r,e,o),FD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=em(r,e,o),FD(r,e,p,i,i,u)}}function xn(n=1){return nD(n)}function od(n,e){return n<<17|e<<2}function Bi(n){return n>>17&32767}function Xk(n){return(n&2)==2}function e1(n,e){return n&131071|e<<17}function bm(n){return n|2}function ps(n){return(n&131068)>>2}function rm(n,e){return n&-131069|e<<2}function t1(n){return(n&1)===1}function Dm(n){return n|1}function n1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bi(s),u=ps(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||es(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Bi(n[a+1]);n[r+1]=od(m,a),m!==0&&(n[m+1]=rm(n[m+1],r)),n[a+1]=e1(n[a+1],r)}else n[r+1]=od(a,0),a!==0&&(n[a+1]=rm(n[a+1],r)),a=r;else n[r+1]=od(u,0),a===0?a=r:n[u+1]=rm(n[u+1],r),u=r;l&&(n[r+1]=bm(n[r+1])),BD(n,h,r,!0),BD(n,h,r,!1),r1(e,h,n,r,o),s=od(a,u),o?e.classBindings=s:e.styleBindings=s}function r1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&es(o,e)>=0&&(t[r+1]=Dm(t[r+1]))}function BD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Bi(i):ps(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];i1(u,e)&&(a=!0,n[s+1]=r?Dm(l):bm(l)),s=r?Bi(l):ps(l)}a&&(n[t+1]=r?bm(i):Dm(i))}function i1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?es(n,e)>=0:!1}function Ud(n,e){return o1(n,e,null,!0),Ud}function o1(n,e,t,r){let i=Re(),o=un(),s=Kb(2);if(o.firstUpdatePass&&a1(o,n,s,r),e!==Br&&Ld(i,s,e)){let a=o.data[Fi()];h1(o,a,i,i[Ge],n,i[s+1]=f1(e,t),r,s)}}function s1(n,e){return e>=n.expandoStartIndex}function a1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Fi()],s=s1(n,t);p1(o,r)&&e===null&&!s&&(e=!1),e=c1(i,o,e,r),n1(i,o,e,t,s,r)}}function c1(n,e,t,r){let i=Jb(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=im(null,n,e,t,r),t=Ec(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=im(i,n,e,t,r),o===null){let u=u1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=im(null,n,e,u[1],r),u=Ec(u,e.attrs,r),l1(n,e,r,u))}else o=d1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function u1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ps(r)!==0)return n[Bi(r)]}function l1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Bi(i)]=r}function d1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ec(r,s,t)}return Ec(r,e.attrs,t)}function im(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ec(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ec(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),bb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function h1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=t1(l)?$D(u,e,t,i,ps(l),s):void 0;if(!Dd(h)){Dd(o)||Xk(l)&&(o=$D(u,null,t,i,a,s));let p=Pg(Fi(),t);vO(r,s,p,i,o)}}function $D(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Br&&(m=p?kt:void 0);let y=p?ql(m,r):h===r?m:void 0;if(l&&!Dd(y)&&(y=ql(u,r)),Dd(y)&&(a=y,s))return a;let S=n[i+1];i=s?Bi(S):ps(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ql(u,r))}return a}function Dd(n){return n!==void 0}function f1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nr(wc(n)))),n}function p1(n,e){return(n.flags&(e?8:16))!==0}function j(n,e=""){let t=Re(),r=un(),i=n+Lt,o=r.firstCreatePass?Ym(r,i,1,e,null):r.data[i],s=g1(r,t,o,e,n);t[i]=s,ed()&&zm(r,t,s,o),os(o,!1)}var g1=(n,e,t,r,i)=>(td(!0),Ax(e[Ge],r));function m1(n,e,t,r=""){return Ld(n,Yl(),t)?e+Xa(t)+r:Br}function xe(n){return cr("",n),xe}function cr(n,e,t){let r=Re(),i=m1(r,n,e,t);return i!==Br&&y1(r,Fi(),i),cr}function y1(n,e,t){let r=Pg(e,n);Rx(n[Ge],r,t)}function v1(n,e,t){let r=un();if(r.firstCreatePass){let i=An(n);Tm(t,r.data,r.blueprint,i,!0),Tm(e,r.data,r.blueprint,i,!1)}}function Tm(n,e,t,r,i){if(n=tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Tm(n[o],e,t,r,i);else{let o=un(),s=Re(),a=Dt(),u=Ti(n)?n:tt(n.provide),l=Ag(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ti(n)||!n.multi){let y=new Vi(l,i,Ne,null),S=sm(u,e,i?h:h+m,p);S===-1?(um(fd(a,s),o,u),om(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=sm(u,e,h+m,p),S=sm(u,e,h,h+m),M=y>=0&&t[y],R=S>=0&&t[S];if(i&&!R||!i&&!M){um(fd(a,s),o,u);let V=I1(i?E1:_1,t.length,i,r,l,n);!i&&R&&(t[S].providerFactory=V),om(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=DC(t[i?S:y],l,!i&&r);om(o,n,y>-1?y:S,V)}!i&&r&&R&&t[S].componentProviders++}}}function om(n,e,t,r){let i=Ti(e),o=Rb(e);if(i||o){let u=(o?tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function DC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _1(n,e,t,r,i){return Cm(this.multi,[])}function E1(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=pd(r,r[se],this.providerFactory.index,i);s=u.slice(0,a),Cm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Cm(o,s);return s}function Cm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function I1(n,e,t,r,i,o){let s=new Vi(n,t,Ne,null);return s.multi=[],s.index=e,s.componentProviders=0,DC(s,i,r&&!t),s}function ry(n,e=[]){return t=>{t.providersResolver=(r,i)=>v1(r,i?i(n):n,e)}}var Td=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},iy=(()=>{class n{compileModuleSync(t){return new bd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Dg(t),o=xT(i.declarations).reduce((s,a)=>{let u=or(a);return u&&s.push(new Ui(u)),s},[]);return new Td(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w1=(()=>{class n{zone=N(De);changeDetectionScheduler=N(rr);applicationRef=N(Hr);applicationErrorHandler=N(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TC=new $("",{factory:()=>!1});function oy({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(ie(F({},ay()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:ir,multi:!0,useFactory:()=>{let r=N(w1,{optional:!0});return()=>r.initialize()}},{provide:ir,multi:!0,useFactory:()=>{let r=N(b1);return()=>{r.initialize()}}},e===!0?{provide:Wg,useValue:!0}:[],{provide:Kg,useValue:t??VT},{provide:Mt,useFactory:()=>{let r=N(De),i=N(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(on),o.handleError(s))})}}}]}function sy(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=oy({ngZoneFactory:()=>{let i=ay(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Wi("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qt([{provide:TC,useValue:!0},{provide:hc,useValue:!1},r])}function ay(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var b1=(()=>{class n{subscription=new Fe;initialized=!1;zone=N(De);pendingTasks=N(Rn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CC=(()=>{class n{applicationErrorHandler=N(Mt);appRef=N(Hr);taskService=N(Rn);ngZone=N(De);zonelessEnabled=N(hc);tracing=N(Gi,{optional:!0});disableScheduling=N(Wg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Kg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bD:jT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D1(){return typeof $localize<"u"&&$localize.locale||Sc}var cy=new $("",{providedIn:"root",factory:()=>N(cy,{optional:!0,skipSelf:!0})||D1()});function at(n){return pb(n)}function Es(n,e){return ul(n,e?.equal)}var SC=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};var PC=Symbol("InputSignalNode#UNSET"),F1=ie(F({},ll),{transformFn:void 0,applyValueToInputSignal(n,e){ko(n,e)}});function xC(n,e){let t=Object.create(F1);t.value=n,t.transformFn=e?.transform;function r(){if(Po(t),t.value===PC){let i=null;throw new B(-950,i)}return t.value}return r[It]=t,r}var $d=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ms(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},L1=new $("");L1.__NG_ELEMENT_ID__=n=>{let e=Dt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function AC(n,e){return xC(n,e)}function V1(n){return xC(PC,n)}var OC=(AC.required=V1,AC);var uy=new $(""),j1=new $("");function Ac(n){return!n.moduleRef}function U1(n){let e=Ac(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Ac(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Mt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ac(n)){let o=()=>e.destroy(),s=n.platformInjector.get(uy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(uy);s.add(o),n.moduleRef.onDestroy(()=>{mc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return $1(r,t,()=>{let o=e.get(Rn),s=o.add(),a=e.get(ny);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(cy,Sc);if(bC(u||Sc),!e.get(j1,!0))return Ac(n)?e.get(Hr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ac(n)){let h=e.get(Hr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return B1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var B1;function $1(n,e,t){try{let r=t();return Ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Bd=null;function H1(n=[],e){return ze.create({name:e,providers:[{provide:tc,useValue:"platform"},{provide:uy,useValue:new Set([()=>Bd=null])},...n]})}function z1(n=[]){if(Bd)return Bd;let e=H1(n);return Bd=e,IC(),q1(e),e}function q1(n){let e=n.get(Ad,null);qe(n,()=>{e?.forEach(t=>t())})}function py(){return!1}var Is=(()=>{class n{static __NG_ELEMENT_ID__=G1}return n})();function G1(n){return W1(Dt(),Re(),(n&16)===16)}function W1(n,e,t){if(Vr(n)&&!t){let r=Yt(n.index,e);return new Ur(r,r)}else if(n.type&175){let r=e[Kt];return new Ur(r,e)}return null}var ly=class{constructor(){}supports(e){return Jm(e)}create(e){return new dy(e)}},K1=(n,e)=>e,dy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||K1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<RC(r,i,o)?t:r,a=RC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Jm(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,fC(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new hy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},fy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new fy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function NC(){return new gy([new ly])}var gy=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:NC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||NC())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function kC(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;be(8);try{let o=i?.injector??z1(r),s=[oy({}),{provide:rr,useExisting:CC},oD,...t||[]],a=new _c({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return U1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{be(9)}}function ws(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function FC(n){let e=or(n);if(!e)return null;let t=new Ui(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var jC=null;function ur(){return jC}function my(n){jC??=n}var Rc=class{},Nc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(UC),providedIn:"platform"})}return n})(),yy=new $(""),UC=(()=>{class n extends Nc{_location;_history;_doc=N(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function qd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function mn(n){return n&&n[0]!=="?"?`?${n}`:n}var yn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(Wd),providedIn:"root"})}return n})(),Gd=new $(""),Wd=(()=>{class n extends yn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+mn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Nc),K(Gd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zr=(()=>{class n{_subject=new $e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Z1(LC(VC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mn(r))}normalize(t){return n.stripTrailingSlash(Y1(this._basePath,VC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=mn;static joinWithSlash=qd;static stripTrailingSlash=LC;static \u0275fac=function(r){return new(r||n)(K(yn))};static \u0275prov=H({token:n,factory:()=>Q1(),providedIn:"root"})}return n})();function Q1(){return new zr(K(yn))}function Y1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VC(n){return n.replace(/\/index.html$/,"")}function Z1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var vy=(()=>{class n extends yn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=qd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Nc),K(Gd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var Kd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Kd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ne(vs),Ne(kd),Ne(gy))};static \u0275dir=gn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function BC(n,e){n.context.$implicit=e.item}var Gr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=zt({})}return n})();function _y(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Mc=class{};var $C="browser";var HC=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Ey(N(Ue),window)})}return n})(),Ey=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ie(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=J1(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Si(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ie(F({},t),{left:i-s[0],top:o-s[1]}))}};function J1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Pc=class{_doc;constructor(e){this._doc=e}manager},Yd=(()=>{class n extends Pc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(K(Ue))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Jd=new $(""),Ty=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Yd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Yd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(K(Jd),K(De))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Iy="ng-app-id";function zC(n){for(let e of n)e.remove()}function qC(n,e){let t=e.createElement("style");return t.textContent=n,t}function X1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Iy}="${e}"],link[${Iy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Iy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function by(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Cy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,X1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,qC);r?.forEach(i=>this.addUsage(i,this.external,by))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(zC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])zC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,qC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,by(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(Ue),K(Sd),K(Rd,8),K(qi))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sy=/%COMP%/g;var WC="%COMP%",eF=`_nghost-${WC}`,tF=`_ngcontent-${WC}`,nF=!0,rF=new $("",{providedIn:"root",factory:()=>nF});function iF(n){return tF.replace(Sy,n)}function oF(n){return eF.replace(Sy,n)}function KC(n,e){return e.map(t=>t.replace(Sy,n))}var Ay=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new xc(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Zd?i.applyToHost(t):i instanceof Oc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case sr.Emulated:o=new Zd(u,l,r,this.appId,h,s,a,p,m);break;case sr.ShadowDom:return new Dy(u,l,t,r,s,a,this.nonce,p,m);default:o=new Oc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(K(Ty),K(Cy),K(Sd),K(rF),K(Ue),K(De),K(Rd),K(Gi,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),xc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(wy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(GC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(GC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=wy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=wy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ar.DashCase|ar.Important)?e.style.setProperty(t,r,i&ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function GC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Dy=class extends xc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=KC(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=by(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oc=class extends xc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?KC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&hs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zd=class extends Oc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=iF(h),this.hostAttr=oF(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Xd=class n extends Rc{supportsDOMEvents=!0;static makeCurrent(){my(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=sF();return t==null?null:aF(t)}resetBaseElement(){kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _y(document.cookie,e)}},kc=null;function sF(){return kc=kc||document.head.querySelector("base"),kc?kc.getAttribute("href"):null}function aF(n){return new URL(n,document.baseURI).pathname}var cF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),QC=["alt","control","meta","shift"],uF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},YC=(()=>{class n extends Pc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),QC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=uF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),QC.forEach(s=>{if(s!==i){let a=lF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(K(Ue))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function Ry(n,e,t){let r=F({rootComponent:n,platformRef:t?.platformRef},dF(e));return kC(r)}function dF(n){return{appProviders:[...mF,...n?.providers??[]],platformProviders:gF}}function hF(){Xd.makeCurrent()}function fF(){return new on}function pF(){return Nm(document),document}var gF=[{provide:qi,useValue:$C},{provide:Ad,useValue:hF,multi:!0},{provide:Ue,useFactory:pF}];var mF=[{provide:tc,useValue:"root"},{provide:on,useFactory:fF},{provide:Jd,useClass:Yd,multi:!0,deps:[Ue]},{provide:Jd,useClass:YC,multi:!0,deps:[Ue]},Ay,Cy,Ty,{provide:ji,useExisting:Ay},{provide:Mc,useClass:cF},[]];var ZC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(K(Ue))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J="primary",Kc=Symbol("RouteTitle"),Oy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ji(n){return new Oy(n)}function o0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!On(n[t],e[t]))return!1;return!0}function On(n,e){let t=n?ky(n):void 0,r=e?ky(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!s0(n[i],e[i]))return!1;return!0}function ky(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function s0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function a0(n){return n.length>0?n[n.length-1]:null}function lr(n){return Kp(n)?n:Ki(n)?Ae(Promise.resolve(n)):W(n)}var _F={exact:u0,subset:l0},c0={exact:EF,subset:IF,ignored:()=>!0};function JC(n,e,t){return _F[t.paths](n.root,e.root,t.matrixParams)&&c0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function EF(n,e){return On(n,e)}function u0(n,e,t){if(!Yi(n.segments,e.segments)||!nh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!u0(n.children[r],e.children[r],t))return!1;return!0}function IF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>s0(n[t],e[t]))}function l0(n,e,t){return d0(n,e,e.segments,t)}function d0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Yi(i,t)||e.hasChildren()||!nh(i,t,r))}else if(n.segments.length===t.length){if(!Yi(n.segments,t)||!nh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!l0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Yi(n.segments,i)||!nh(n.segments,i,r)||!n.children[J]?!1:d0(n.children[J],e,o,r)}}function nh(n,e,t){return e.every((r,i)=>c0[t](n[i].parameters,r.parameters))}var Fn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){return DF.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rh(this)}},Wr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ji(this.parameters),this._parameterMap}toString(){return f0(this)}};function wF(n,e){return Yi(n,e)&&n.every((t,r)=>On(t.parameters,e[r].parameters))}function Yi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function bF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(t=t.concat(e(i,r)))}),t}var Xi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new Kr,providedIn:"root"})}return n})(),Kr=class{parse(e){let t=new Ly(e);return new Fn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Fc(e.root,!0)}`,r=SF(e.queryParams),i=typeof e.fragment=="string"?`#${TF(e.fragment)}`:"";return`${t}${r}${i}`}},DF=new Kr;function rh(n){return n.segments.map(e=>f0(e)).join("/")}function Fc(n,e){if(!n.hasChildren())return rh(n);if(e){let t=n.children[J]?Fc(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${Fc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=bF(n,(r,i)=>i===J?[Fc(n.children[J],!1)]:[`${i}:${Fc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${rh(n)}/${t[0]}`:`${rh(n)}/(${t.join("//")})`}}function h0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eh(n){return h0(n).replace(/%3B/gi,";")}function TF(n){return encodeURI(n)}function Fy(n){return h0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(n){return decodeURIComponent(n)}function XC(n){return ih(n.replace(/\+/g,"%20"))}function f0(n){return`${Fy(n.path)}${CF(n.parameters)}`}function CF(n){return Object.entries(n).map(([e,t])=>`;${Fy(e)}=${Fy(t)}`).join("")}function SF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${eh(t)}=${eh(i)}`).join("&"):`${eh(t)}=${eh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var AF=/^[^\/()?;#]+/;function Ny(n){let e=n.match(AF);return e?e[0]:""}var RF=/^[^\/()?;=#]+/;function NF(n){let e=n.match(RF);return e?e[0]:""}var MF=/^[^=?&#]+/;function PF(n){let e=n.match(MF);return e?e[0]:""}var xF=/^[^&#]+/;function OF(n){let e=n.match(xF);return e?e[0]:""}var Ly=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[J]=new _e(e,t)),r}parseSegment(){let e=Ny(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Wr(ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=NF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ny(this.remaining);i&&(r=i,this.capture(r))}e[ih(t)]=ih(r)}parseQueryParam(e){let t=PF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=OF(this.remaining);s&&(r=s,this.capture(r))}let i=XC(t),o=XC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ny(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();t[o??J]=Object.keys(s).length===1&&s[J]?s[J]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function p0(n){return n.segments.length>0?new _e([],{[J]:n}):n}function g0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=g0(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return kF(t)}function kF(n){if(n.numberOfChildren===1&&n.children[J]){let e=n.children[J];return new _e(n.segments.concat(e.segments),e.children)}return n}function Qr(n){return n instanceof Fn}function m0(n,e,t=null,r=null){let i=y0(n);return v0(i,e,t,r)}function y0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new _e(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=p0(r);return e??i}function v0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return My(i,i,i,t,r);let o=FF(e);if(o.toRoot())return My(i,i,new _e([],{}),t,r);let s=LF(o,i,n),a=s.processChildren?Vc(s.segmentGroup,s.index,o.commands):E0(s.segmentGroup,s.index,o.commands);return My(i,s.segmentGroup,a,t,r)}function oh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Uc(n){return typeof n=="object"&&n!=null&&n.outlets}function My(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=_0(n,e,t);let a=p0(g0(s));return new Fn(a,o,i)}function _0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=_0(o,e,t)}),new _e(n.segments,r)}var sh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&oh(r[0]))throw new B(4003,!1);let i=r.find(Uc);if(i&&i!==a0(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sh(t,e,r)}var Ts=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function LF(n,e,t){if(n.isAbsolute)return new Ts(e,!0,0);if(!t)return new Ts(e,!1,NaN);if(t.parent===null)return new Ts(t,!0,0);let r=oh(n.commands[0])?0:1,i=t.segments.length-1+r;return VF(t,i,n.numberOfDoubleDots)}function VF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ts(r,!1,i-o)}function jF(n){return Uc(n[0])?n[0].outlets:{[J]:n}}function E0(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Vc(n,e,t);let r=UF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[J]=new _e(n.segments.slice(r.pathIndex),n.children),Vc(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?Vy(n,e,t):r.match?Vc(n,0,i):Vy(n,e,t)}function Vc(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=jF(t),i={};if(Object.keys(r).some(o=>o!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let o=Vc(n.children[J],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=E0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function UF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Uc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!t0(u,l,s))return o;r+=2}else{if(!t0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Uc(o)){let u=BF(o.outlets);return new _e(r,u)}if(i===0&&oh(t[0])){let u=n.segments[e];r.push(new Wr(u.path,e0(t[0]))),i++;continue}let s=Uc(o)?o.outlets[J]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&oh(a)?(r.push(new Wr(s,e0(a))),i+=2):(r.push(new Wr(s,{})),i++)}return new _e(r,{})}function BF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Vy(new _e([],{}),0,r))}),e}function e0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function t0(n,e,t){return n==t.path&&On(e,t.parameters)}var Cs="imperative",Je=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Je||{}),Ut=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yr=class extends Ut{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends Ut{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ct||{}),As=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(As||{}),kn=class extends Ut{reason;code;type=Je.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends Ut{reason;code;type=Je.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Rs=class extends Ut{error;target;type=Je.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bc=class extends Ut{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class extends Ut{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ch=class extends Ut{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},uh=class extends Ut{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends Ut{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dh=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hh=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fh=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ph=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gh=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mh=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ns=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$c=class{},Ms=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function $F(n){return!(n instanceof $c)&&!(n instanceof Ms)}function HF(n,e){return n.providers&&!n._injector&&(n._injector=_s(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vn(n){return n.outlet||J}function zF(n,e){let t=n.filter(r=>vn(r)===e);return t.push(...n.filter(r=>vn(r)!==e)),t}function Os(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var yh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Os(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new eo(this.rootInjector)}},eo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(K(je))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=jy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=jy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Uy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uy(e,this._root).map(t=>t.value)}};function jy(n,e){if(n===e.value)return e;for(let t of e.children){let r=jy(n,t);if(r)return r}return null}function Uy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Uy(n,t);if(r.length)return r.unshift(e),r}return[]}var jt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ds(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Hc=class extends vh{snapshot;constructor(e,t){super(e),this.snapshot=t,Ky(this,e)}toString(){return this.snapshot.toString()}};function I0(n){let e=qF(n),t=new ot([new Wr("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Vn(t,r,o,s,i,J,n,e.root);return a.snapshot=e.root,new Hc(new jt(a,[]),e)}function qF(n){let e={},t={},r={},o=new Zi([],e,r,"",t,J,n,null,{});return new zc("",new jt(o,[]))}var Vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[Kc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Ji(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Ji(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _h(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&b0(i)&&(r.resolve[Kc]=i.title),r}var Zi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Kc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ji(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},zc=class extends vh{url;constructor(e,t){super(t),this.url=e,Ky(this,t)}toString(){return w0(this._root)}};function Ky(n,e){e.value._routerState=n,e.children.forEach(t=>Ky(n,t))}function w0(n){let e=n.children.length>0?` { ${n.children.map(w0).join(", ")} } `:"";return`${n.value}${e}`}function Py(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,On(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),On(e.params,t.params)||n.paramsSubject.next(t.params),vF(e.url,t.url)||n.urlSubject.next(t.url),On(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function By(n,e){let t=On(n.params,e.params)&&wF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||By(n.parent,e.parent))}function b0(n){return typeof n.title=="string"||n.title===null}var D0=new $(""),_n=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=OC();parentContexts=N(eo);location=N(vs);changeDetector=N(Is);inputBinder=N(Qc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $y(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=gn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Hi]})}return n})(),$y=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Vn?this.route:e===eo?this.childContexts:e===D0?this.outletData:this.parent.get(e,t)}},Qc=new $(""),Qy=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Wa([r.queryParams,r.params,r.data]).pipe(bt(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Yy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=pn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Tt(0,"router-outlet")},dependencies:[_n],encapsulation:2})}return n})();function Zy(n){let e=n.children&&n.children.map(Zy),t=e?ie(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=Yy),t}function GF(n,e,t){let r=qc(n,e._root,t?t._root:void 0);return new Hc(r,e)}function qc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=WF(n,e,t);return new jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>qc(n,a)),s}}let r=KF(e.value),i=e.children.map(o=>qc(n,o));return new jt(r,i)}}function WF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qc(n,r,i);return qc(n,r)})}function KF(n){return new Vn(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var Ps=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},T0="ngNavigationCancelingError";function Eh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=C0(!1,Ct.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function C0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[T0]=!0,t.cancellationCode=e,t}function QF(n){return S0(n)&&Qr(n.url)}function S0(n){return!!n&&n[T0]}var YF=(n,e,t,r)=>ae(i=>(new Hy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Py(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ds(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ds(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ph(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Py(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Py(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ih=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ss=class{component;route;constructor(e,t){this.component=e,this.route=t}};function ZF(n,e,t){let r=n._root,i=e?e._root:null;return Lc(r,i,t,[r.value])}function JF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ks(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!hg(n)?n:e.get(n):r}function Lc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ds(e);return n.children.forEach(s=>{XF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>jc(a,t.getContext(s),i)),i}function XF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=eL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ih(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Lc(n,e,a?a.children:null,r,i):Lc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ss(a.outlet.component,s))}else s&&jc(e,a,i),i.canActivateChecks.push(new Ih(r)),o.component?Lc(n,null,a?a.children:null,r,i):Lc(n,null,t,r,i);return i}function eL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Yi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yi(n.url,e.url)||!On(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!By(n,e)||!On(n.queryParams,e.queryParams);case"paramsChange":default:return!By(n,e)}}function jc(n,e,t){let r=Ds(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?jc(s,e.children.getContext(o),t):jc(s,null,t):jc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ss(e.outlet.component,i)):t.canDeactivateChecks.push(new Ss(null,i)):t.canDeactivateChecks.push(new Ss(null,i))}function Yc(n){return typeof n=="function"}function tL(n){return typeof n=="boolean"}function nL(n){return n&&Yc(n.canLoad)}function rL(n){return n&&Yc(n.canActivate)}function iL(n){return n&&Yc(n.canActivateChild)}function oL(n){return n&&Yc(n.canDeactivate)}function sL(n){return n&&Yc(n.canMatch)}function A0(n){return n instanceof Zn||n?.name==="EmptyError"}var th=Symbol("INITIAL_VALUE");function xs(){return bt(n=>Wa(n.map(e=>e.pipe(Xn(1),Fl(th)))).pipe(ae(e=>{for(let t of e)if(t!==!0){if(t===th)return th;if(t===!1||aL(t))return t}return!0}),wt(e=>e!==th),Xn(1)))}function aL(n){return Qr(n)||n instanceof Ps}function cL(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ie(F({},t),{guardsResult:!0})):uL(s,r,i,n).pipe(Ve(a=>a&&tL(a)?lL(r,o,n,e):W(a)),ae(a=>ie(F({},t),{guardsResult:a})))})}function uL(n,e,t,r){return Ae(n).pipe(Ve(i=>gL(i.component,i.route,t,e,r)),er(i=>i!==!0,!0))}function lL(n,e,t,r){return Ae(e).pipe(Mr(i=>Ko(hL(i.route.parent,r),dL(i.route,r),pL(n,i.path,t),fL(n,i.route,t))),er(i=>i!==!0,!0))}function dL(n,e){return n!==null&&e&&e(new gh(n)),W(!0)}function hL(n,e){return n!==null&&e&&e(new fh(n)),W(!0)}function fL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Ka(()=>{let s=Os(e)??t,a=ks(o,s),u=rL(a)?a.canActivate(e,n):qe(s,()=>a(e,n));return lr(u).pipe(er())}));return W(i).pipe(xs())}function pL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>JF(s)).filter(s=>s!==null).map(s=>Ka(()=>{let a=s.guards.map(u=>{let l=Os(s.node)??t,h=ks(u,l),p=iL(h)?h.canActivateChild(r,n):qe(l,()=>h(r,n));return lr(p).pipe(er())});return W(a).pipe(xs())}));return W(o).pipe(xs())}function gL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=Os(e)??i,l=ks(a,u),h=oL(l)?l.canDeactivate(n,e,t,r):qe(u,()=>l(n,e,t,r));return lr(h).pipe(er())});return W(s).pipe(xs())}function mL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=ks(s,n),u=nL(a)?a.canLoad(e,t):qe(n,()=>a(e,t));return lr(u)});return W(o).pipe(xs(),R0(r))}function R0(n){return gl(et(e=>{if(typeof e!="boolean")throw Eh(n,e)}),ae(e=>e===!0))}function yL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=ks(s,n),u=sL(a)?a.canMatch(e,t):qe(n,()=>a(e,t));return lr(u)});return W(o).pipe(xs(),R0(r))}var Gc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Wc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function bs(n){return Go(new Gc(n))}function vL(n){return Go(new B(4e3,!1))}function _L(n){return Go(C0(!1,Ct.GuardRejected))}var zy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[J])return vL(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,t,r,i,o){return EL(t,i,o).pipe(ae(s=>{if(s instanceof Fn)throw new Wc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Wc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function EL(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return lr(qe(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IL(n,e,t,r,i){let o=N0(n,e,t);return o.matched?(r=HF(e,r),yL(r,e,t,i).pipe(ae(s=>s===!0?o:F({},qy)))):W(o)}function N0(n,e,t){if(e.path==="**")return wL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},qy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||o0)(t,n,e);if(!i)return F({},qy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wL(n){return{matched:!0,parameters:n.length>0?a0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function n0(n,e,t,r){return t.length>0&&TL(n,t,r)?{segmentGroup:new _e(e,DL(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&CL(n,t,r)?{segmentGroup:new _e(n.segments,bL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function bL(n,e,t,r){let i={};for(let o of t)if(bh(n,e,o)&&!r[vn(o)]){let s=new _e([],{});i[vn(o)]=s}return F(F({},r),i)}function DL(n,e){let t={};t[J]=e;for(let r of n)if(r.path===""&&vn(r)!==J){let i=new _e([],{});t[vn(r)]=i}return t}function TL(n,e,t){return t.some(r=>bh(n,e,r)&&vn(r)!==J)}function CL(n,e,t){return t.some(r=>bh(n,e,r))}function bh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function SL(n,e,t){return e.length===0&&!n.children[t]}var Gy=class{};function AL(n,e,t,r,i,o,s="emptyOnly"){return new Wy(n,e,t,r,i,s,o).recognize()}var RL=31,Wy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zy(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=n0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(({children:t,rootSnapshot:r})=>{let i=new jt(r,t),o=new zc("",i),s=m0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Zi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,t).pipe(ae(r=>({children:r,rootSnapshot:t})),Jn(r=>{if(r instanceof Wc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ae(s=>s instanceof jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(Mr(s=>{let a=r.children[s],u=zF(t,s);return this.processSegmentGroup(e,u,a,s,i)}),kl((s,a)=>(s.push(...a),s)),Pr(null),Yp(),Ve(s=>{if(s===null)return bs(r);let a=M0(s);return NL(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Ae(t).pipe(Mr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Jn(l=>{if(l instanceof Gc)return W(null);throw l}))),er(u=>!!u),Jn(u=>{if(A0(u))return SL(r,i,o)?W(new Gy):bs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return vn(r)!==s&&(s===J||!bh(i,o,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=N0(t,i,o);if(!u)return bs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RL&&(this.allowRedirects=!1));let y=new Zi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,r0(i),vn(i),i.component??i._loadedComponent??null,i,i0(i)),S=_h(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(bt(R=>this.applyRedirects.lineralizeSegments(i,R)),Ve(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=IL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Zi(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,r0(r),vn(r),r.component??r._loadedComponent??null,r,i0(r)),M=_h(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:V}=n0(t,m,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ae(Y=>new jt(S,Y)));if(l.length===0&&V.length===0)return W(new jt(S,[]));let Q=vn(r)===o;return this.processSegment(h,l,R,V,Q?J:o,!0,S).pipe(ae(Y=>new jt(S,Y instanceof jt?[Y]:[])))}))):bs(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):mL(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(et(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):_L(t))):W({routes:[],injector:e})}};function NL(n){n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet))}function ML(n){let e=n.value.routeConfig;return e&&e.path===""}function M0(n){let e=[],t=new Set;for(let r of n){if(!ML(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=M0(r.children);e.push(new jt(r.value,i))}return e.filter(r=>!t.has(r))}function r0(n){return n.data||{}}function i0(n){return n.resolve||{}}function PL(n,e,t,r,i,o){return Ve(s=>AL(n,e,t,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:u})=>ie(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function xL(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of P0(u))s.add(l);let a=0;return Ae(s).pipe(Mr(u=>o.has(u)?OL(u,r,n,e):(u.data=_h(u,u.parent,n).resolve,W(void 0))),et(()=>a++),Qo(1),Ve(u=>a===s.size?W(t):At))})}function P0(n){let e=n.children.map(t=>P0(t)).flat();return[n,...e]}function OL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!b0(i)&&(o[Kc]=i.title),Ka(()=>(n.data=_h(n,n.parent,t).resolve,kL(o,n,e,r).pipe(ae(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function kL(n,e,t,r){let i=ky(n);if(i.length===0)return W({});let o={};return Ae(i).pipe(Ve(s=>FL(n[s],e,t,r).pipe(er(),et(a=>{if(a instanceof Ps)throw Eh(new Kr,a);o[s]=a}))),Qo(1),ae(()=>o),Jn(s=>A0(s)?At:Go(s)))}function FL(n,e,t,r){let i=Os(e)??r,o=ks(n,i),s=o.resolve?o.resolve(e,t):qe(i,()=>o(e,t));return lr(s)}function xy(n){return bt(e=>{let t=n(e);return t?Ae(t).pipe(ae(()=>e)):W(e)})}var Jy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[Kc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(x0),providedIn:"root"})}return n})(),x0=(()=>{class n extends Jy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(ZC))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zr=new $("",{providedIn:"root",factory:()=>({})}),to=new $(""),Dh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(iy);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(qe(t,()=>r.loadComponent())).pipe(ae(k0),bt(F0),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qa(()=>{this.componentLoaders.delete(r)})),o=new $o(i,()=>new $e).pipe(Bo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=O0(r,this.compiler,t,this.onLoadEndListener).pipe(Qa(()=>{this.childrenLoaders.delete(r)})),s=new $o(o,()=>new $e).pipe(Bo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O0(n,e,t,r){return lr(qe(t,()=>n.loadChildren())).pipe(ae(k0),bt(F0),Ve(i=>i instanceof Vd||Array.isArray(i)?W(i):Ae(e.compileModuleAsync(i))),ae(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(to,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zy),injector:o}}))}function LL(n){return n&&typeof n=="object"&&"default"in n}function k0(n){return LL(n)?n.default:n}function F0(n){return W(n)}var Th=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(VL),providedIn:"root"})}return n})(),VL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xy=new $(""),ev=new $("");function L0(n,e,t){let r=n.get(ev),i=n.get(Ue);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),jL(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&qe(n,()=>u({transition:a,from:e,to:t})),s}function jL(n){return new Promise(e=>{xd({read:()=>setTimeout(e)},{injector:n})})}var tv=new $(""),Ch=(()=>{class n{currentNavigation=he(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new $e;transitionAbortWithErrorSubject=new $e;configLoader=N(Dh);environmentInjector=N(je);destroyRef=N(hn);urlSerializer=N(Xi);rootContexts=N(eo);location=N(zr);inputBindingEnabled=N(Qc,{optional:!0})!==null;titleStrategy=N(Jy);options=N(Zr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Th);createViewTransition=N(Xy,{optional:!0});navigationErrorHandler=N(tv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new dh(i)),r=i=>this.events.next(new hh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;at(()=>{this.transitions?.next(ie(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new ot(null),this.transitions.pipe(wt(r=>r!==null),bt(r=>{let i=!1;return W(r).pipe(bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),At;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.rawUrl),"",As.IgnoredSameUrlNavigation)),o.resolve(!1),At;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(bt(u=>(this.events.next(new Yr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?At:Promise.resolve(u))),PL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),et(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Bc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Yr(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=I0(this.rootComponentType).snapshot;return this.currentTransition=r=ie(F({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:ie(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),W(r)}else return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),"",As.IgnoredByUrlHandlingStrategy)),o.resolve(!1),At}),et(o=>{let s=new ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ae(o=>(this.currentTransition=r=ie(F({},o),{guards:ZF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),cL(this.environmentInjector,o=>this.events.next(o)),et(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Eh(this.urlSerializer,o.guardsResult);let s=new ch(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),wt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ct.GuardRejected),!1)),xy(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(et(s=>{let a=new uh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),bt(s=>{let a=!1;return W(s).pipe(xL(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ct.NoDataFromResolver)}}))}),et(s=>{let a=new lh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),xy(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Os(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(et(h=>{a.component=h}),ae(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Wa(s(o.targetSnapshot.root)).pipe(Pr(null),Xn(1))}),xy(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ae(a).pipe(ae(()=>r)):W(r)}),ae(o=>{let s=GF(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ie(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),et(()=>{this.events.next(new $c)}),YF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xn(1),Ll(new re(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(wt(()=>!i&&!r.targetRouterState),et(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ct.Aborted)}))),et({next:o=>{i=!0,this.lastSuccessfulNavigation=at(this.currentNavigation),this.events.next(new Zt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ll(this.transitionAbortWithErrorSubject.pipe(et(o=>{throw o}))),Qa(()=>{i||this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Jn(o=>{if(this.destroyed)return r.resolve(!1),At;if(i=!0,S0(o))this.events.next(new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),QF(o)?this.events.next(new Ms(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Rs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=qe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ps){let{message:u,cancellationCode:l}=Eh(this.urlSerializer,a);this.events.next(new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ms(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return At}))}))}cancelNavigationTransition(t,r,i){let o=new kn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=at(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UL(n){return n!==Cs}var V0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(BL),providedIn:"root"})}return n})(),wh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},BL=(()=>{class n extends wh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ic(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j0=(()=>{class n{urlSerializer=N(Xi);options=N(Zr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(zr);urlHandlingStrategy=N(Th);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Fn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=I0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N($L),providedIn:"root"})}return n})(),$L=(()=>{class n extends j0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yr?this.updateStateMemento():t instanceof Ln?this.commitTransition(r):t instanceof Bc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof $c?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof kn&&t.code!==Ct.SupersededByNewNavigation&&t.code!==Ct.Redirect?this.restoreHistory(r):t instanceof Rs?this.restoreHistory(r,!0):t instanceof Zt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ic(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sh(n,e){n.events.pipe(wt(t=>t instanceof Zt||t instanceof kn||t instanceof Rs||t instanceof Ln),ae(t=>t instanceof Zt||t instanceof Ln?0:(t instanceof kn?t.code===Ct.Redirect||t.code===Ct.SupersededByNewNavigation:!1)?2:1),wt(t=>t!==2),Xn(1)).subscribe(()=>{e()})}var HL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Xm);stateManager=N(j0);options=N(Zr,{optional:!0})||{};pendingTasks=N(Rn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Ch);urlSerializer=N(Xi);location=N(zr);urlHandlingStrategy=N(Th);injector=N(je);_events=new $e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(V0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(to,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Qc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=at(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kn&&r.code!==Ct.Redirect&&r.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zt)this.navigated=!0;else if(r instanceof Ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UL(i.source)},s);this.scheduleNavigation(a,Cs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$F(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Mt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return at(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=y0(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return v0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Cs,null,r)}navigate(t,r={skipLocationChange:!1}){return qL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Si(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},HL):r===!1?i=F({},zL):i=r,Qr(t))return JC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return JC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Sh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Ah=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=he(null);get href(){return at(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new $e;applicationErrorHandler=N(Mt);options=N(Zr,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new $d("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Zt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ne(jn),Ne(Vn),ms("tabindex"),Ne(ys),Ne(zi),Ne(yn))};static \u0275dir=gn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&me("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Cc("href",i.reactiveHref(),Om)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ws],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ws],replaceUrl:[2,"replaceUrl","replaceUrl",ws],routerLink:"routerLink"},features:[Hi]})}return n})();var Zc=class{};var U0=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wt(t=>t instanceof Zt),Mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=_s(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ae(i).pipe(Wo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Ve(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ae([o,s]).pipe(Wo())}else return o})}static \u0275fac=function(r){return new(r||n)(K(jn),K(je),K(Zc),K(Dh))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B0=new $(""),GL=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Cs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ln&&t.code===As.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ns))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ns(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Zm()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function rv(n,...e){return qt([{provide:to,multi:!0,useValue:n},[],{provide:Vn,useFactory:$0,deps:[jn]},{provide:Tc,multi:!0,useFactory:H0},e.map(t=>t.\u0275providers)])}function $0(n){return n.routerState.root}function Jc(n,e){return{\u0275kind:n,\u0275providers:e}}function H0(){let n=N(ze);return e=>{let t=n.get(Hr);if(e!==t.components[0])return;let r=n.get(jn),i=n.get(z0);n.get(iv)===1&&r.initialNavigation(),n.get(W0,null,{optional:!0})?.setUpPreloading(),n.get(B0,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var z0=new $("",{factory:()=>new $e}),iv=new $("",{providedIn:"root",factory:()=>1});function q0(){let n=[{provide:Mm,useValue:!0},{provide:iv,useValue:0},jd(()=>{let e=N(ze);return e.get(yy,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(jn),o=e.get(z0);Sh(i,()=>{r(!0)}),e.get(Ch).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return Jc(2,n)}function G0(){let n=[jd(()=>{N(jn).setUpLocationChangeListener()}),{provide:iv,useValue:2}];return Jc(3,n)}var W0=new $("");function K0(n){return Jc(0,[{provide:W0,useExisting:U0},{provide:Zc,useExisting:n}])}function Q0(){return Jc(8,[Qy,{provide:Qc,useExisting:Qy}])}function Y0(n){Wi("NgRouterViewTransitions");let e=[{provide:Xy,useValue:L0},{provide:ev,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Jc(9,e)}var Z0=[zr,{provide:Xi,useClass:Kr},jn,eo,{provide:Vn,useFactory:$0,deps:[jn]},Dh,[]],ov=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Z0,[],{provide:to,multi:!0,useValue:t},[],r?.errorHandler?{provide:tv,useValue:r.errorHandler}:[],{provide:Zr,useValue:r||{}},r?.useHash?KL():QL(),WL(),r?.preloadingStrategy?K0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?YL(r):[],r?.bindToComponentInputs?Q0().\u0275providers:[],r?.enableViewTransitions?Y0().\u0275providers:[],ZL()]}}static forChild(t){return{ngModule:n,providers:[{provide:to,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=zt({})}return n})();function WL(){return{provide:B0,useFactory:()=>{let n=N(HC),e=N(De),t=N(Zr),r=N(Ch),i=N(Xi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GL(i,r,n,e,t)}}}function KL(){return{provide:yn,useClass:vy}}function QL(){return{provide:yn,useClass:Wd}}function YL(n){return[n.initialNavigation==="disabled"?G0().\u0275providers:[],n.initialNavigation==="enabledBlocking"?q0().\u0275providers:[]]}var nv=new $("");function ZL(){return[{provide:nv,useFactory:H0},{provide:Tc,multi:!0,useExisting:nv}]}var XL=new $(""),eV=new $("");function nS(n){return n!=null}function rS(n){return Ki(n)?Ae(n):n}function iS(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function oS(n,e){return e.map(t=>t(n))}function tV(n){return!n.validate}function sS(n){return n.map(e=>tV(e)?e:t=>e.validate(t))}function nV(n){if(!n)return null;let e=n.filter(nS);return e.length==0?null:function(t){return iS(oS(t,e))}}function hv(n){return n!=null?nV(sS(n)):null}function rV(n){if(!n)return null;let e=n.filter(nS);return e.length==0?null:function(t){let r=oS(t,e).map(rS);return Qp(r).pipe(ae(iS))}}function fv(n){return n!=null?rV(sS(n)):null}function J0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iV(n){return n._rawValidators}function oV(n){return n._rawAsyncValidators}function sv(n){return n?Array.isArray(n)?n:[n]:[]}function Nh(n,e){return Array.isArray(n)?n.includes(e):n===e}function X0(n,e){let t=sv(e);return sv(n).forEach(i=>{Nh(t,i)||t.push(i)}),t}function eS(n,e){return sv(e).filter(t=>!Nh(n,t))}var av=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},iu=class extends av{name;get formDirective(){return null}get path(){return null}};var cv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZX=ie(F({},sV),{"[class.ng-submitted]":"isSubmitted"});var Vs=(()=>{class n extends cv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ne(iu,10))};static \u0275dir=gn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ud("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Dc]})}return n})();var Xc="VALID",Rh="INVALID",Fs="PENDING",eu="DISABLED",Jr=class{},Mh=class extends Jr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},nu=class extends Jr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ru=class extends Jr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ls=class extends Jr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},uv=class extends Jr{source;constructor(e){super(),this.source=e}},lv=class extends Jr{source;constructor(e){super(),this.source=e}};function aV(n){return(pv(n)?n.validators:n)||null}function cV(n){return Array.isArray(n)?hv(n):n||null}function uV(n,e){return(pv(e)?e.asyncValidators:n)||null}function lV(n){return Array.isArray(n)?fv(n):n||null}function pv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function hV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var dv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return at(this.statusReactive)}set status(e){at(()=>this.statusReactive.set(e))}_status=Es(()=>this.statusReactive());statusReactive=he(void 0);get valid(){return this.status===Xc}get invalid(){return this.status===Rh}get pending(){return this.status==Fs}get disabled(){return this.status===eu}get enabled(){return this.status!==eu}errors;get pristine(){return at(this.pristineReactive)}set pristine(e){at(()=>this.pristineReactive.set(e))}_pristine=Es(()=>this.pristineReactive());pristineReactive=he(!0);get dirty(){return!this.pristine}get touched(){return at(this.touchedReactive)}set touched(e){at(()=>this.touchedReactive.set(e))}_touched=Es(()=>this.touchedReactive());touchedReactive=he(!1);get untouched(){return!this.touched}_events=new $e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(X0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(X0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eS(e,this._rawAsyncValidators))}hasValidator(e){return Nh(this._rawValidators,e)}hasAsyncValidator(e){return Nh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ru(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ru(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new nu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new nu(!0,r))}markAsPending(e={}){this.status=Fs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ls(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=eu,this.errors=null,this._forEachChild(i=>{i.disable(ie(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mh(this.value,r)),this._events.next(new Ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xc,this._forEachChild(r=>{r.enable(ie(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xc||this.status===Fs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mh(this.value,t)),this._events.next(new Ls(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eu:Xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=rS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ls(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?eu:this.errors?Rh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(Rh)?Rh:Xc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new nu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ru(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=cV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lV(this._rawAsyncValidators)}},Ph=class extends dv{constructor(e,t,r){super(aV(t),uV(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hV(this,!0,e),Object.keys(e).forEach(r=>{dV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new lv(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var aS=new $("",{providedIn:"root",factory:()=>gv}),gv="always";function fV(n,e,t=gv){cS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),gV(n,e),yV(n,e),mV(n,e),pV(n,e)}function tS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function cS(n,e){let t=iV(n);e.validator!==null?n.setValidators(J0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=oV(n);e.asyncValidator!==null?n.setAsyncValidators(J0(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();tS(e._rawValidators,i),tS(e._rawAsyncValidators,i)}function gV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&uS(n,e)})}function mV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&uS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function uS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function vV(n,e){n==null,cS(n,e)}function _V(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}var EV={provide:iu,useExisting:Zo(()=>no)},tu=Promise.resolve(),no=(()=>{class n extends iu{callSetDisabledState;get submitted(){return at(this.submittedReactive)}_submitted=Es(()=>this.submittedReactive());submittedReactive=he(!1);_directives=new Set;form;ngSubmit=new Ze;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ph({},hv(t),fv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),fV(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tu.then(()=>{let r=this._findContainer(t.path),i=new Ph({});vV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){tu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),_V(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new uv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Ne(XL,10),Ne(eV,10),Ne(aS,8))};static \u0275dir=gn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ry([EV]),Dc]})}return n})();var js=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=gn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var IV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=zt({})}return n})();var Us=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:aS,useValue:t.callSetDisabledState??gv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=zt({imports:[IV]})}return n})();var lS=()=>{};var fS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new vv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},vv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bV=function(n){let e=fS(n);return xh.encodeByteArray(e,!0)},su=function(n){return bV(n).replace(/\./g,"")},Oh=function(n){try{return xh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ev(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var DV=()=>Ev().__FIREBASE_DEFAULTS__,TV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Oh(n[1]);return e&&JSON.parse(e)},kh=()=>{try{return lS()||DV()||TV()||CV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pS=n=>{var e,t;return(t=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gS=n=>{let e=pS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Iv=()=>{var n;return(n=kh())===null||n===void 0?void 0:n.config},mS=n=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${n}`]};var ro=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function io(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function wv(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function yS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[su(JSON.stringify(t)),su(JSON.stringify(s)),""].join(".")}var ou={};function SV(){let n={prod:[],emulator:[]};for(let e of Object.keys(ou))ou[e]?n.emulator.push(e):n.prod.push(e);return n}function AV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var dS=!1;function bv(n,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||ou[n]===e||ou[n]||dS)return;ou[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=SV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{dS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=AV(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),Q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;a(Y),h(R,M);let Te=l();u(Q,V),Y.append(Q,S,R,Te),document.body.appendChild(Y)}o?(S.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function RV(){var n;let e=(n=kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wS(){return!RV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function au(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var NV="FirebaseError",Jt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?MV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Jt(i,a,r)}};function MV(n,e){return n.replace(PV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var PV=/\{\$([^}]+)}/g;function oo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(hS(o)&&hS(s)){if(!oo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function hS(n){return n!==null&&typeof n=="object"}function Dv(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DS(n,e){let t=new _v(n,e);return t.subscribe.bind(t)}var _v=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=yv),i.error===void 0&&(i.error=yv),i.complete===void 0&&(i.complete=yv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yv(){}var tee=14400*1e3;function pt(n){return n&&n._delegate?n._delegate:n}var St=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var so="[DEFAULT]";var Tv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ro;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kV(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OV(n){return n===so?void 0:n}function kV(n){return n.instantiationMode==="EAGER"}var Fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Tv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var FV=[],ue=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ue||{}),LV={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},VV=ue.INFO,jV={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},UV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=jV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Un=class{constructor(e){this.name=e,this._logLevel=VV,this._logHandler=UV,this._userLogHandler=null,FV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var BV=(n,e)=>e.some(t=>n instanceof t),TS,CS;function $V(){return TS||(TS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HV(){return CS||(CS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SS=new WeakMap,Sv=new WeakMap,AS=new WeakMap,Cv=new WeakMap,Rv=new WeakMap;function zV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Bn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&SS.set(t,n)}).catch(()=>{}),Rv.set(e,n),e}function qV(n){if(Sv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Sv.set(n,e)}var Av={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RS(n){Av=n(Av)}function GV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Lh(this),e,...t);return AS.set(r,e.sort?e.sort():[e]),Bn(r)}:HV().includes(n)?function(...e){return n.apply(Lh(this),e),Bn(SS.get(this))}:function(...e){return Bn(n.apply(Lh(this),e))}}function WV(n){return typeof n=="function"?GV(n):(n instanceof IDBTransaction&&qV(n),BV(n,$V())?new Proxy(n,Av):n)}function Bn(n){if(n instanceof IDBRequest)return zV(n);if(Cv.has(n))return Cv.get(n);let e=WV(n);return e!==n&&(Cv.set(n,e),Rv.set(e,n)),e}var Lh=n=>Rv.get(n);function MS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Bn(s.result),u.oldVersion,u.newVersion,Bn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var KV=["get","getKey","getAll","getAllKeys","count"],QV=["put","add","delete","clear"],Nv=new Map;function NS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=QV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KV.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Nv.set(e,o),o}RS(n=>ie(F({},n),{get:(e,t,r)=>NS(e,t)||n.get(e,t,r),has:(e,t)=>!!NS(e,t)||n.has(e,t)}));var Pv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function YV(n){let e=n.getComponent();return e?.type==="VERSION"}var xv="@firebase/app",PS="0.13.2";var dr=new Un("@firebase/app"),ZV="@firebase/app-compat",JV="@firebase/analytics-compat",XV="@firebase/analytics",e2="@firebase/app-check-compat",t2="@firebase/app-check",n2="@firebase/auth",r2="@firebase/auth-compat",i2="@firebase/database",o2="@firebase/data-connect",s2="@firebase/database-compat",a2="@firebase/functions",c2="@firebase/functions-compat",u2="@firebase/installations",l2="@firebase/installations-compat",d2="@firebase/messaging",h2="@firebase/messaging-compat",f2="@firebase/performance",p2="@firebase/performance-compat",g2="@firebase/remote-config",m2="@firebase/remote-config-compat",y2="@firebase/storage",v2="@firebase/storage-compat",_2="@firebase/firestore",E2="@firebase/ai",I2="@firebase/firestore-compat",w2="firebase",b2="11.10.0";var Ov="[DEFAULT]",D2={[xv]:"fire-core",[ZV]:"fire-core-compat",[XV]:"fire-analytics",[JV]:"fire-analytics-compat",[t2]:"fire-app-check",[e2]:"fire-app-check-compat",[n2]:"fire-auth",[r2]:"fire-auth-compat",[i2]:"fire-rtdb",[o2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[a2]:"fire-fn",[c2]:"fire-fn-compat",[u2]:"fire-iid",[l2]:"fire-iid-compat",[d2]:"fire-fcm",[h2]:"fire-fcm-compat",[f2]:"fire-perf",[p2]:"fire-perf-compat",[g2]:"fire-rc",[m2]:"fire-rc-compat",[y2]:"fire-gcs",[v2]:"fire-gcs-compat",[_2]:"fire-fst",[I2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[w2]:"fire-js-all"};var cu=new Map,T2=new Map,kv=new Map;function xS(n,e){try{n.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(kv.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,n);for(let t of cu.values())xS(t,n);for(let t of T2.values())xS(t,n);return!0}function Vh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}var C2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new En("app","Firebase",C2);var Fv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};var Bs=b2;function jv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ov,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(t||(t=Iv()),!t)throw Xr.create("no-options");let o=cu.get(i);if(o){if(oo(t,o.options)&&oo(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}let s=new Fh(i);for(let u of kv.values())s.addComponent(u);let a=new Fv(t,r,s);return cu.set(i,a),a}function $s(n=Ov){let e=cu.get(n);if(!e&&n===Ov&&Iv())return jv();if(!e)throw Xr.create("no-app",{appName:n});return e}function jh(){return Array.from(cu.values())}function Be(n,e,t){var r;let i=(r=D2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}In(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var S2="firebase-heartbeat-database",A2=1,uu="firebase-heartbeat-store",Mv=null;function LS(){return Mv||(Mv=MS(S2,A2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),Mv}function R2(n){return C(this,null,function*(){try{let t=(yield LS()).transaction(uu),r=yield t.objectStore(uu).get(VS(n));return yield t.done,r}catch(e){if(e instanceof Jt)dr.warn(e.message);else{let t=Xr.create("idb-get",{originalErrorMessage:e?.message});dr.warn(t.message)}}})}function OS(n,e){return C(this,null,function*(){try{let r=(yield LS()).transaction(uu,"readwrite");yield r.objectStore(uu).put(e,VS(n)),yield r.done}catch(t){if(t instanceof Jt)dr.warn(t.message);else{let r=Xr.create("idb-set",{originalErrorMessage:t?.message});dr.warn(r.message)}}})}function VS(n){return`${n.name}!${n.options.appId}`}var N2=1024,M2=30,Lv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Vv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>M2){let s=x2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=kS(),{heartbeatsToSend:r,unsentEntries:i}=P2(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return dr.warn(t),""}})}};function kS(){return new Date().toISOString().substring(0,10)}function P2(n,e=N2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Vv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return au()?bS().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield R2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function FS(n){return su(JSON.stringify({version:2,heartbeats:n})).length}function x2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function O2(n){In(new St("platform-logger",e=>new Pv(e),"PRIVATE")),In(new St("heartbeat",e=>new Lv(e),"PRIVATE")),Be(xv,PS,n),Be(xv,PS,"esm2017"),Be("fire-js","")}O2("");var k2="firebase",F2="11.10.0";Be(k2,F2,"app");function jS(n){n===void 0&&(n=N(ze));let e=n.get(ss);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var co=new xr("ANGULARFIRE2_VERSION");function Bh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var zs=(n,e)=>{let t=e?[e]:jh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Hs=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Hs||{}),US=py()&&typeof Zone<"u"?Hs.WARN:Hs.SILENT;var Uh=class{zone;delegate;constructor(e,t=Gp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},uo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(De);this.outsideAngular=t.runOutsideAngular(()=>new Uh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Uh(typeof Zone>"u"?void 0:Zone.current,qp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BS=!1;function L2(n,e){!BS&&(US>Hs.SILENT||py())&&(BS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),US>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function V2(n){let e=N(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ao(n){let e=N(De,{optional:!0});return e?e.run(()=>n()):n()}var j2=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),qe(t,()=>ao(()=>n.apply(void 0,r)))),Xt=(n,e,t)=>(t||=e?Hs.WARN:Hs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(uo),s=N(ss),a=N(je)}catch{return L2(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ao(()=>s.add())),i[l]=j2(i[l],r,a));let u=V2(()=>n.apply(this,i));return e?u instanceof re?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular),jS(a)):u instanceof Promise?ao(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>qe(a,()=>ao(()=>h(m))),m=>qe(a,()=>ao(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ao(()=>u):u instanceof re?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular)):ao(()=>u)});var lo=class{constructor(e){return e}},lu=class{constructor(){return jh()}};function U2(n){return n&&n.length===1?n[0]:new lo($s())}var Uv=new $("angularfire2._apps"),B2={provide:lo,useFactory:U2,deps:[[new Mn,Uv]]},$2={provide:lu,deps:[[new Mn,Uv]]};function H2(n){return(e,t)=>{let r=t.get(qi);Be("angularfire",co.full,"core"),Be("angularfire",co.full,"app"),Be("angular",ug.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new lo(i)}}function Bv(n,...e){return qt([B2,$2,{provide:Uv,useFactory:H2(n),multi:!0,deps:[De,ze,uo,...e]}])}var $v=Xt(jv,!0);var z2=new Map,q2={activated:!1,tokenObservers:[]},G2={initialized:!1,enabled:!1};function wn(n){return z2.get(n)||Object.assign({},q2)}function qS(){return G2}var W2="https://content-firebaseappcheck.googleapis.com/v1";var K2="exchangeDebugToken",$S={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},ite=1440*60*1e3;var qv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new ro,this.pending.promise.catch(t=>{}),yield Q2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ro,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Q2(n){return new Promise(e=>{setTimeout(e,n)})}var Y2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ei=new En("appCheck","AppCheck",Y2);function GS(n){if(!wn(n).activated)throw ei.create("use-before-activation",{appName:n.name})}function WS(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw ei.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ei.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ei.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function KS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${W2}/projects/${t}/apps/${r}:${K2}?key=${i}`,body:{debug_token:e}}}var Z2="firebase-app-check-database",J2=1,Gv="firebase-app-check-store";var $h=null;function X2(){return $h||($h=new Promise((n,e)=>{try{let t=indexedDB.open(Z2,J2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ei.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gv,{keyPath:"compositeKey"})}}}catch(t){e(ei.create("storage-open",{originalErrorMessage:t?.message}))}}),$h)}function ej(n,e){return tj(nj(n),e)}function tj(n,e){return C(this,null,function*(){let r=(yield X2()).transaction(Gv,"readwrite"),o=r.objectStore(Gv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ei.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function nj(n){return`${n.options.appId}-${n.name}`}var du=new Un("@firebase/app-check");function Hv(n,e){return au()?ej(n,e).catch(t=>{du.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QS(){return qS().enabled}function YS(){return C(this,null,function*(){let n=qS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rj={error:"UNKNOWN_ERROR"};function ij(n){return xh.encodeString(JSON.stringify(n),!1)}function Wv(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;GS(r);let i=wn(r),o=i.token,s;if(o&&!hu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(hu(l)?o=l:yield Hv(r,void 0))}if(!e&&o&&hu(o))return{token:o.token};let a=!1;if(QS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WS(KS(r,yield YS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Hv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?du.warn(l.message):t&&du.error(l),zv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?du.warn(l.message):t&&du.error(l),s=l}let u;return o?s?hu(o)?u={token:o.token,internalError:s}:u=zv(s):(u={token:o.token},i.token=o,yield Hv(r,o)):u=zv(s),a&&cj(r,u),u})}function oj(n){return C(this,null,function*(){let e=n.app;GS(e);let{provider:t}=wn(e);if(QS()){let r=yield YS(),{token:i}=yield WS(KS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function sj(n,e,t,r){let{app:i}=n,o=wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&hu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),HS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>HS(n))}function ZS(n,e){let t=wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HS(n){let{app:e}=n,t=wn(e),r=t.tokenRefresher;r||(r=aj(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function aj(n){let{app:e}=n;return new qv(()=>C(null,null,function*(){let t=wn(e),r;if(t.token?r=yield Wv(n,!0):r=yield Wv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$S.RETRIAL_MIN_WAIT,$S.RETRIAL_MAX_WAIT)}function cj(n,e){let t=wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function hu(n){return n.expireTimeMillis-Date.now()>0}function zv(n){return{token:ij(rj),error:n}}var Kv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=wn(this.app);for(let t of e)ZS(this.app,t.next);return Promise.resolve()}};function uj(n,e){return new Kv(n,e)}function lj(n){return{getToken:e=>Wv(n,e),getLimitedUseToken:()=>oj(n),addTokenListener:e=>sj(n,"INTERNAL",e),removeTokenListener:e=>ZS(n.app,e)}}var dj="@firebase/app-check",hj="0.10.1";var fj="app-check",zS="app-check-internal";function pj(){In(new St(fj,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return uj(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zS).initialize()})),In(new St(zS,n=>{let e=n.getProvider("app-check").getImmediate();return lj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Be(dj,hj)}pj();var gj="app-check";var Hh=class{constructor(){return zs(gj)}};var mj=["localhost","0.0.0.0","127.0.0.1"],yte=typeof window<"u"&&mj.includes(window.location.hostname);function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sA=oA,aA=new En("auth","Firebase",oA());var Wh=new Un("@firebase/auth");function vj(n,...e){Wh.logLevel<=ue.WARN&&Wh.warn(`Auth (${Bs}): ${n}`,...e)}function qh(n,...e){Wh.logLevel<=ue.ERROR&&Wh.error(`Auth (${Bs}): ${n}`,...e)}function JS(n,...e){throw s_(n,...e)}function o_(n,...e){return s_(n,...e)}function cA(n,e,t){let r=Object.assign(Object.assign({},sA()),{[e]:t});return new En("auth","Firebase",r).create(e,{appName:n.name})}function Gh(n){return cA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aA.create(n,...e)}function Ee(n,e,...t){if(!n)throw s_(e,...t)}function fu(n){let e="INTERNAL ASSERTION FAILED: "+n;throw qh(e),new Error(e)}function Kh(n,e){n||fu(e)}function _j(){return XS()==="http:"||XS()==="https:"}function XS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_j()||ES()||"connection"in navigator)?navigator.onLine:!0}function Ij(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var po=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kh(t>e,"Short delay should be less than long delay!"),this.isMobile=vS()||IS()}get(){return Ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wj(n,e){Kh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Qh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Dj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tj=new po(3e4,6e4);function uA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ef(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return lA(n,i,()=>C(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Dv(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return _S()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&io(n.emulatorConfig.host)&&(y.credentials="include"),Qh.fetch()(yield dA(n,n.config.apiHost,t,p),y)}))})}function lA(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},bj),e);try{let i=new Zv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw zh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cA(n,h,l);JS(n,h)}}catch(i){if(i instanceof Jt)throw i;JS(n,"network-request-failed",{message:String(i)})}})}function dA(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?wj(n.config,i):`${n.config.apiScheme}://${i}`;return Dj.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Zv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(o_(this.auth,"network-request-failed")),Tj.get())})}};function zh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=o_(n,e,r);return i.customData._tokenResponse=t,i}function Cj(n,e){return C(this,null,function*(){return ef(n,"POST","/v1/accounts:delete",e)})}function Yh(n,e){return C(this,null,function*(){return ef(n,"POST","/v1/accounts:lookup",e)})}function pu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function a_(n,e=!1){return C(this,null,function*(){let t=pt(n),r=yield t.getIdToken(e),i=hA(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:pu(Qv(i.auth_time)),issuedAtTime:pu(Qv(i.iat)),expirationTime:pu(Qv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qv(n){return Number(n)*1e3}function hA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Oh(t);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eA(n){let e=hA(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jv(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Jt&&Sj(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Sj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Xv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zh(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Jv(n,Yh(t,{idToken:r}));Ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fA(o.providerUserInfo):[],a=Aj(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function c_(n){return C(this,null,function*(){let e=pt(n);yield Zh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Aj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fA(n){return n.map(e=>{var{providerId:t}=e,r=Wp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Rj(n,e){return C(this,null,function*(){let t=yield lA(n,{},()=>C(null,null,function*(){let r=Dv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield dA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&io(n.emulatorConfig.host)&&(u.credentials="include"),Qh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Nj(n,e){return C(this,null,function*(){return ef(n,"POST","/v2/accounts:revokeToken",uA(n,e))})}var gu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let t=eA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Rj(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return fu("not implemented")}};function ti(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ho=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Jv(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return a_(this,e)}reload(){return c_(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Zh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(hr(this.auth.app))return Promise.reject(Gh(this.auth));let e=yield this.getIdToken();return yield Jv(this,Cj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:Te,isAnonymous:vt,providerData:we,stsTokenManager:w}=t;Ee(Y&&w,e,"internal-error");let v=gu.fromJSON(this.name,w);Ee(typeof Y=="string",e,"internal-error"),ti(p,e.name),ti(m,e.name),Ee(typeof Te=="boolean",e,"internal-error"),Ee(typeof vt=="boolean",e,"internal-error"),ti(y,e.name),ti(S,e.name),ti(M,e.name),ti(R,e.name),ti(V,e.name),ti(Q,e.name);let E=new n({uid:Y,auth:e,email:m,emailVerified:Te,displayName:p,isAnonymous:vt,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:V,lastLoginAt:Q});return we&&Array.isArray(we)&&(E.providerData=we.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new gu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?fA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new gu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var tA=new Map;function fo(n){Kh(n instanceof Function,"Expected a class definition");let e=tA.get(n);return e?(Kh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tA.set(n,e),e)}var Mj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),e_=Mj;function Yv(n,e,t){return`firebase:${n}:${e}:${t}`}var Jh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Yh(this.auth,{idToken:e}).catch(()=>{});return t?ho._fromGetAccountInfoResponse(this.auth,t,e):null}return ho._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(fo(e_),e,r);let i=(yield Promise.all(t.map(l=>C(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||fo(e_),s=Yv(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Yh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ho._fromGetAccountInfoResponse(e,m,h)}else p=ho._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>C(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function nA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lj(e))return"Blackberry";if(Vj(e))return"Webos";if(xj(e))return"Safari";if((e.includes("chrome/")||Oj(e))&&!e.includes("edge/"))return"Chrome";if(Fj(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Pj(n=Bt()){return/firefox\//i.test(n)}function xj(n=Bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Oj(n=Bt()){return/crios\//i.test(n)}function kj(n=Bt()){return/iemobile/i.test(n)}function Fj(n=Bt()){return/android/i.test(n)}function Lj(n=Bt()){return/blackberry/i.test(n)}function Vj(n=Bt()){return/webos/i.test(n)}function pA(n,e=[]){let t;switch(n){case"Browser":t=nA(Bt());break;case"Worker":t=`${nA(Bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bs}/${r}`}var t_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jj(t){return C(this,arguments,function*(n,e={}){return ef(n,"GET","/v2/passwordPolicy",uA(n,e))})}var Uj=6,n_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Uj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var r_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xh(this),this.idTokenSubscription=new Xh(this),this.beforeStateQueue=new t_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fo(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Jh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Yh(this,{idToken:e}),r=yield ho._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(hr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ij()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(hr(this.app))return Promise.reject(Gh(this));let t=e?pt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return hr(this.app)?Promise.reject(Gh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hr(this.app)?Promise.reject(Gh(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(fo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield jj(this),t=new n_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Nj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&fo(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Jh.create(this,[fo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&vj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Bj(n){return pt(n)}var Xh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DS(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $j={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hj(n){$j=n}function zj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function qj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(fo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Rte=zj("rcb"),Nte=new po(3e4,6e4);var Mte=new po(2e3,1e4);var Pte=600*1e3;var xte=new po(3e4,6e4);var Ote=new po(5e3,15e3);var kte=encodeURIComponent("fac");var rA="@firebase/auth",iA="1.10.8";var i_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Gj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wj(n){In(new St("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(n)},l=new r_(r,i,o,u);return qj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new St("auth-internal",e=>{let t=Bj(e.getProvider("auth").getImmediate());return(r=>new i_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(rA,iA,Gj(n)),Be(rA,iA,"esm2017")}var Kj=300,Fte=mS("authIdTokenMaxAge")||Kj;function Qj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=o_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Qj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wj("Browser");var WU="auth";var tf=class{constructor(){return zs(WU)}};var gA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mA={};var fr,u_;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,b,T){for(var _=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)_[Kn-2]=arguments[Kn];return v.prototype[b].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)I[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],b=w.g[2];var T=w.g[3],_=v+(T^E&(b^T))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=T+(b^v&(E^b))+I[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=b+(E^T&(v^E))+I[2]+606105819&4294967295,b=T+(_<<17&4294967295|_>>>15),_=E+(v^b&(T^v))+I[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(T^E&(b^T))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(b^v&(E^b))+I[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=b+(E^T&(v^E))+I[6]+2821735955&4294967295,b=T+(_<<17&4294967295|_>>>15),_=E+(v^b&(T^v))+I[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(T^E&(b^T))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(b^v&(E^b))+I[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=b+(E^T&(v^E))+I[10]+4294925233&4294967295,b=T+(_<<17&4294967295|_>>>15),_=E+(v^b&(T^v))+I[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(T^E&(b^T))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(b^v&(E^b))+I[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=b+(E^T&(v^E))+I[14]+2792965006&4294967295,b=T+(_<<17&4294967295|_>>>15),_=E+(v^b&(T^v))+I[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^T&(E^b))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^b&(v^E))+I[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(T^v))+I[11]+643717713&4294967295,b=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(b^T))+I[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^T&(E^b))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^b&(v^E))+I[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(T^v))+I[15]+3634488961&4294967295,b=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(b^T))+I[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^T&(E^b))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^b&(v^E))+I[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(T^v))+I[3]+4107603335&4294967295,b=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(b^T))+I[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^T&(E^b))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^b&(v^E))+I[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(T^v))+I[7]+1735328473&4294967295,b=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(b^T))+I[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^T)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^b)+I[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=b+(T^v^E)+I[11]+1839030562&4294967295,b=T+(_<<16&4294967295|_>>>16),_=E+(b^T^v)+I[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^T)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^b)+I[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=b+(T^v^E)+I[7]+4139469664&4294967295,b=T+(_<<16&4294967295|_>>>16),_=E+(b^T^v)+I[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^T)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^b)+I[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=b+(T^v^E)+I[3]+3572445317&4294967295,b=T+(_<<16&4294967295|_>>>16),_=E+(b^T^v)+I[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^T)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^b)+I[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=b+(T^v^E)+I[15]+530742520&4294967295,b=T+(_<<16&4294967295|_>>>16),_=E+(b^T^v)+I[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~T))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~b))+I[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=b+(v^(T|~E))+I[14]+2878612391&4294967295,b=T+(_<<15&4294967295|_>>>17),_=E+(T^(b|~v))+I[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~T))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~b))+I[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=b+(v^(T|~E))+I[10]+4293915773&4294967295,b=T+(_<<15&4294967295|_>>>17),_=E+(T^(b|~v))+I[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~T))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~b))+I[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=b+(v^(T|~E))+I[6]+2734768916&4294967295,b=T+(_<<15&4294967295|_>>>17),_=E+(T^(b|~v))+I[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~T))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~b))+I[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=b+(v^(T|~E))+I[2]+718787259&4294967295,b=T+(_<<15&4294967295|_>>>17),_=E+(T^(b|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,b=this.h,T=0;T<v;){if(b==0)for(;T<=E;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<v;)if(I[b++]=w.charCodeAt(T++),b==this.blockSize){i(this,I),b=0;break}}else for(;T<v;)if(I[b++]=w[T++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,b=w.length-1;0<=b;b--){var T=w[b]|0;I&&T==v||(E[b]=T,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,b=0;b<w.length;b+=8){var T=Math.min(8,w.length-b),_=parseInt(w.substring(b,b+T),v);8>T?(T=l(Math.pow(v,T)),I=I.j(T).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var b=Te(E,v).g;E=V(E,b.j(v));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=b,S(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=V(this,w),M(w)?-1:S(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,b=0;b<=v;b++){var T=I+(this.i(b)&65535)+(w.i(b)&65535),_=(T>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);I=_>>>16,T&=65535,_&=65535,E[b]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function V(w,v){return w.add(R(v))}n.j=function(w){if(S(this)||S(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<w.g.length;b++){var T=this.i(I)>>>16,_=this.i(I)&65535,Kn=w.i(b)>>>16,wa=w.i(b)&65535;E[2*I+2*b]+=_*wa,Q(E,2*I+2*b),E[2*I+2*b+1]+=T*wa,Q(E,2*I+2*b+1),E[2*I+2*b+1]+=_*Kn,Q(E,2*I+2*b+1),E[2*I+2*b+2]+=T*Kn,Q(E,2*I+2*b+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function Q(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Y(w,v){this.g=w,this.h=v}function Te(w,v){if(S(v))throw Error("division by zero");if(S(w))return new Y(p,p);if(M(w))return v=Te(R(w),v),new Y(R(v.g),R(v.h));if(M(v))return v=Te(w,R(v)),new Y(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=vt(E),I=vt(I);var b=we(E,1),T=we(I,1);for(I=we(I,2),E=we(E,2);!S(I);){var _=T.add(I);0>=_.l(w)&&(b=b.add(E),T=_),I=we(I,1),E=we(E,1)}return v=V(w,b.j(v)),new Y(b,v)}for(b=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(E),_=T.j(v);M(_)||0<_.l(w);)E-=I,T=l(E),_=T.j(v);S(T)&&(T=m),b=b.add(T),w=V(w,_)}return new Y(b,w)}n.A=function(w){return Te(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function vt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function we(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,b=[],T=0;T<I;T++)b[T]=0<v?w.i(T+E)>>>v|w.i(T+E+1)<<32-v:w.i(T+E);return new s(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u_=mA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,fr=mA.Integer=s}).apply(typeof gA<"u"?gA:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var l_,KU,qs,d_,yu,rf,h_,f_,p_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var L=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)L[Ce-2]=arguments[Ce];return d.prototype[D].apply(g,L)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let L=0;L<A;L++)c[D+L]=g[L]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var vt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function we(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=rp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Kn{constructor(){this.h=this.g=null}add(d,f){let g=wa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var wa=new V(()=>new GN,c=>c.reset());class GN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ba,Da=!1,rp=new Kn,xI=()=>{let c=a.Promise.resolve(void 0);ba=()=>{c.then(WN)}};var WN=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){T(f)}var d=wa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Da=!1};function Dr(){this.s=this.s,this.C=this.C}Dr.prototype.s=!1,Dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var KN=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Ta(c,d){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(vt){e:{try{Te(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:QN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ta.aa.h.call(this)}}S(Ta,ct);var QN={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ca="closure_listenable_"+(1e6*Math.random()|0),YN=0;function ZN(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++YN,this.da=this.fa=!1}function Lu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vu(c){this.src=c,this.g={},this.h=0}Vu.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=op(c,d,g,D);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new ZN(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function ip(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Lu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function op(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var sp="closure_lm_"+(1e6*Math.random()|0),ap={};function OI(c,d,f,g,D){if(g&&g.once)return FI(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)OI(c,d[A],f,g,D);return null}return f=dp(f),c&&c[Ca]?c.K(d,f,l(g)?!!g.capture:!!g,D):kI(c,d,f,!1,g,D)}function kI(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var L=l(D)?!!D.capture:!!D,Ce=up(c);if(Ce||(c[sp]=Ce=new Vu(c)),f=Ce.add(d,f,g,L,A),f.proxy)return f;if(g=JN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)KN||(D=L),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(VI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function JN(){function c(f){return d.call(c.src,c.listener,f)}let d=XN;return c}function FI(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)FI(c,d[A],f,g,D);return null}return f=dp(f),c&&c[Ca]?c.L(d,f,l(g)?!!g.capture:!!g,D):kI(c,d,f,!0,g,D)}function LI(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)LI(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=dp(f),c&&c[Ca]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=op(A,f,g,D),-1<f&&(Lu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=up(c))&&(d=c.g[d.toString()],c=-1,d&&(c=op(d,f,g,D)),(f=-1<c?d[c]:null)&&cp(f))}function cp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ca])ip(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(VI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=up(d))?(ip(f,c),f.h==0&&(f.src=null,d[sp]=null)):Lu(c)}}}function VI(c){return c in ap?ap[c]:ap[c]="on"+c}function XN(c,d){if(c.da)c=!0;else{d=new Ta(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&cp(c),c=f.call(g,d)}return c}function up(c){return c=c[sp],c instanceof Vu?c:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function dp(c){return typeof c=="function"?c:(c[lp]||(c[lp]=function(d){return c.handleEvent(d)}),c[lp])}function ut(){Dr.call(this),this.i=new Vu(this),this.M=this,this.F=null}S(ut,Dr),ut.prototype[Ca]=!0,ut.prototype.removeEventListener=function(c,d,f,g){LI(this,c,d,f,g)};function _t(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ct(d,c);else if(d instanceof ct)d.target=d.target||c;else{var D=d;d=new ct(g,c),I(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];D=ju(L,g,!0,d)&&D}if(L=d.g=c,D=ju(L,g,!0,d)&&D,D=ju(L,g,!1,d)&&D,f)for(A=0;A<f.length;A++)L=d.g=f[A],D=ju(L,g,!1,d)&&D}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Lu(f[g]);delete c.g[d],c.h--}}this.F=null},ut.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ut.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ju(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var Ce=L.listener,it=L.ha||L.src;L.fa&&ip(c.i,L),D=Ce.call(it,g)!==!1&&D}}return D&&!g.defaultPrevented}function jI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function UI(c){c.g=jI(()=>{c.g=null,c.i&&(c.i=!1,UI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class eM extends Dr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:UI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(c){Dr.call(this),this.h=c,this.g={}}S(Sa,Dr);var BI=[];function $I(c){we(c.g,function(d,f){this.g.hasOwnProperty(f)&&cp(d)},c),c.g={}}Sa.prototype.N=function(){Sa.aa.N.call(this),$I(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hp=a.JSON.stringify,tM=a.JSON.parse,nM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fp(){}fp.prototype.h=null;function HI(c){return c.h||(c.h=c.i())}function zI(){}var Aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pp(){ct.call(this,"d")}S(pp,ct);function gp(){ct.call(this,"c")}S(gp,ct);var fi={},qI=null;function Uu(){return qI=qI||new ut}fi.La="serverreachability";function GI(c){ct.call(this,fi.La,c)}S(GI,ct);function Ra(c){let d=Uu();_t(d,new GI(d))}fi.STAT_EVENT="statevent";function WI(c,d){ct.call(this,fi.STAT_EVENT,c),this.stat=d}S(WI,ct);function Et(c){let d=Uu();_t(d,new WI(d,c))}fi.Ma="timingevent";function KI(c,d){ct.call(this,fi.Ma,c),this.size=d}S(KI,ct);function Na(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function rM(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var L="",Ce=A.split("&"),it=0;it<Ce.length;it++){var ye=Ce[it].split("=");if(1<ye.length){var lt=ye[0];ye=ye[1];var dt=lt.split("_");L=2<=dt.length&&dt[1]=="type"?L+(lt+"="+ye+"&"):L+(lt+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+L})}function iM(c,d,f,g,D,A,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+L})}function Co(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+sM(c,f)+(g?" "+g:"")})}function oM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ma.prototype.info=function(){};function sM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<D.length;L++)D[L]=""}}}}return hp(f)}catch{return d}}var Bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mp;function $u(){}S($u,fp),$u.prototype.g=function(){return new XMLHttpRequest},$u.prototype.i=function(){return{}},mp=new $u;function Tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new YI}function YI(){this.i=null,this.g="",this.h=!1}var ZI={},yp={};function vp(c,d,f){c.L=1,c.v=Gu(Qn(d)),c.m=f,c.P=!0,JI(c,null)}function JI(c,d){c.F=Date.now(),Hu(c),c.A=Qn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),hw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new YI,c.g=Nw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new eM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(BI[0]=D.toString()),D=BI);for(var A=0;A<D.length;A++){var L=OI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ra(),rM(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Yn(c)==3?d.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{let dt=Yn(this.g);var d=this.g.Ba();let Ro=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||_w(this.g)))){this.J||dt!=4||d==7||(d==8||0>=Ro?Ra(3):Ra(2)),_p(this);var f=this.g.Z();this.X=f;t:if(XI(this)){var g=_w(this.g);c="";var D=g.length,A=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Pa(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,iM(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,it=this.g;if((Ce=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ce)){var ye=Ce;break t}}ye=null}if(f=ye)Co(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ep(this,f);else{this.o=!1,this.s=3,Et(12),pi(this),Pa(this);break e}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<L.length;)if(nn=aM(this,L),nn==yp){dt==4&&(this.s=4,Et(14),f=!1),Co(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==ZI){this.s=4,Et(15),Co(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Co(this.i,this.l,nn,null),Ep(this,nn);if(XI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||L.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Co(this.i,this.l,L,"[Invalid Chunked Response]"),pi(this),Pa(this);else if(0<L.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Cp(lt),lt.M=!0,Et(11))}}else Co(this.i,this.l,L,null),Ep(this,L);dt==4&&pi(this),this.o&&!this.J&&(dt==4?Cw(this.j,this):(this.o=!1,Hu(this)))}else DM(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),pi(this),Pa(this)}}}catch{}finally{}};function XI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function aM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yp:(f=Number(d.substring(f,g)),isNaN(f)?ZI:(g+=1,g+f>d.length?yp:(d=d.slice(g,g+f),c.C=g+f,d)))}Tr.prototype.cancel=function(){this.J=!0,pi(this)};function Hu(c){c.S=Date.now()+c.I,ew(c,c.I)}function ew(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Na(m(c.ba,c),d)}function _p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(oM(this.i,this.A),this.L!=2&&(Ra(),Et(17)),pi(this),this.s=2,Pa(this)):ew(this,this.S-c)};function Pa(c){c.j.G==0||c.J||Cw(c.j,c)}function pi(c){_p(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,$I(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ep(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ip(f.h,c))){if(!c.K&&Ip(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Zu(f),Qu(f);else break e;Tp(f),Et(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Na(m(f.Za,f),6e3));if(1>=rw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else mi(f,11)}else if((c.K||f.g==c)&&Zu(f),!Q(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let ye=D[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let lt=ye[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));let dt=ye[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let Ro=ye[5];Ro!=null&&typeof Ro=="number"&&0<Ro&&(g=1.5*Ro,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let nn=c.g;if(nn){let Xu=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var A=g.h;A.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(wp(A,A.h),A.h=null))}if(g.D){let Sp=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sp&&(g.ya=Sp,Se(g.I,g.D,Sp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=Rw(g,g.J?g.ia:null,g.W),L.K){iw(g.h,L);var Ce=L,it=g.L;it&&(Ce.I=it),Ce.B&&(_p(Ce),Hu(Ce)),g.g=L}else Dw(g);0<f.i.length&&Yu(f)}else ye[0]!="stop"&&ye[0]!="close"||mi(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?mi(f,7):Dp(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Ra(4)}catch{}}var cM=class{constructor(c,d){this.g=c,this.map=d}};function tw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rw(c){return c.h?1:c.g?c.g.size:0}function Ip(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wp(c,d){c.g?c.g.add(d):c.h=d}function iw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}tw.prototype.cancel=function(){if(this.i=ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ow(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function uM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function lM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function sw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=lM(c),g=uM(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gi){this.h=c.h,zu(this,c.j),this.o=c.o,this.g=c.g,qu(this,c.s),this.l=c.l;var d=c.i,f=new ka;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),cw(this,f),this.m=c.m}else c&&(d=String(c).match(aw))?(this.h=!1,zu(this,d[1]||"",!0),this.o=xa(d[2]||""),this.g=xa(d[3]||"",!0),qu(this,d[4]),this.l=xa(d[5]||"",!0),cw(this,d[6]||"",!0),this.m=xa(d[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}gi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Oa(d,uw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Oa(d,uw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Oa(f,f.charAt(0)=="/"?pM:fM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Oa(f,mM)),c.join("")};function Qn(c){return new gi(c)}function zu(c,d,f){c.j=f?xa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function qu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function cw(c,d,f){d instanceof ka?(c.i=d,yM(c.i,c.h)):(f||(d=Oa(d,gM)),c.i=new ka(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function Gu(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,hM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uw=/[#\/\?@]/g,fM=/[#\?:]/g,pM=/[#\?]/g,gM=/[#\?@]/g,mM=/#/g;function ka(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&dM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ka.prototype,n.add=function(c,d){Cr(this),this.i=null,c=So(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function lw(c,d){Cr(c),d=So(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function dw(c,d){return Cr(c),d=So(c,d),c.g.has(d)}n.forEach=function(c,d){Cr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){Cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},n.V=function(c){Cr(this);let d=[];if(typeof c=="string")dw(this,c)&&(d=d.concat(this.g.get(So(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Cr(this),this.i=null,c=So(this,c),dw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function hw(c,d,f){lw(c,d),0<f.length&&(c.i=null,c.g.set(So(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var D=A;L[g]!==""&&(D+="="+encodeURIComponent(String(L[g]))),c.push(D)}}return this.i=c.join("&")};function So(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function yM(c,d){d&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(lw(this,g),hw(this,D,f))},c)),c.j=d}function vM(c,d){let f=new Ma;if(a.Image){let g=new Image;g.onload=y(Sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function _M(c,d){let f=new Ma,g=new AbortController,D=setTimeout(()=>{g.abort(),Sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?Sr(f,"TestPingServer: ok",!0,d):Sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Sr(f,"TestPingServer: error",!1,d)})}function Sr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function EM(){this.g=new nM}function IM(c,d,f){let g=f||"";try{sw(c,function(D,A){let L=D;l(D)&&(L=hp(D)),d.push(g+A+"="+encodeURIComponent(L))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Fa(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Fa,fp),Fa.prototype.g=function(){return new Wu(this.l,this.j)},Fa.prototype.i=(function(c){return function(){return c}})({});function Wu(c,d){ut.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Wu,ut),n=Wu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Va(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,La(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?La(this):Va(this),this.readyState==3&&fw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,La(this))},n.Qa=function(c){this.g&&(this.response=c,La(this))},n.ga=function(){this.g&&La(this)};function La(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Va(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pw(c){let d="";return we(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function bp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=pw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function ke(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ke,ut);var wM=/^https?$/i,bM=["POST","PUT"];n=ke.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mp.g(),this.v=this.o?HI(this.o):HI(mp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){gw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bM,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){gw(this,A)}};function gw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,mw(c),Ku(c)}function mw(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),Ku(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ku(this,!0)),ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yw(this):this.bb())},n.bb=function(){yw(this)};function yw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)jI(c.Ea,0,c);else if(_t(c,"readystatechange"),Yn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var D=String(c.D).match(aw)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!wM.test(D?D.toLowerCase():"")}f=g}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var A=2<Yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",mw(c)}}finally{Ku(c)}}}}function Ku(c,d){if(c.g){vw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=g}catch{}}}function vw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),tM(d)}};function _w(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function DM(c){let d={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Q(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Ew(c){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,c),this.cb=ja("retryDelaySeedMs",1e4,c),this.Wa=ja("forwardChannelMaxRetries",2,c),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tw(c&&c.concurrentRequestLimit),this.Da=new EM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ew.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Et(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Rw(this,null,this.W),Yu(this)};function Dp(c){if(Iw(c),c.G==3){var d=c.U++,f=Qn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Ua(c,f),d=new Tr(c,c.j,d),d.L=2,d.v=Gu(Qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Nw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Hu(d)}Aw(c)}function Qu(c){c.g&&(Cp(c),c.g.cancel(),c.g=null)}function Iw(c){Qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Yu(c){if(!nw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ba||xI(),Da||(ba(),Da=!0),rp.add(d,c),c.B=0}}function TM(c,d){return rw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Na(m(c.Ga,c,d),Sw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=bw(this,D,d),f=Qn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Ua(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(pw(A)))+"&"+d:this.m&&bp(f,this.m,A)),wp(this.h,D),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),D.T=!0,vp(D,f,null)):vp(D,f,d),this.G=2}}else this.G==3&&(c?ww(this,c):this.i.length==0||nw(this.h)||ww(this))};function ww(c,d){var f;d?f=d.l:f=c.U++;let g=Qn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),Ua(c,g),c.m&&c.o&&bp(g,c.m,c.o),f=new Tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=bw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wp(c.h,f),vp(f,g,d)}function Ua(c,d){c.H&&we(c.H,function(f,g){Se(d,g,f)}),c.l&&sw({},function(f,g){Se(d,g,f)})}function bw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=D[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Ce=!0;for(let it=0;it<f;it++){let ye=D[it].g,lt=D[it].map;if(ye-=A,0>ye)A=Math.max(0,D[it].g-100),Ce=!1;else try{IM(lt,L,"req"+ye+"_")}catch{g&&g(lt)}}if(Ce){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Dw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ba||xI(),Da||(ba(),Da=!0),rp.add(d,c),c.v=0}}function Tp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Na(m(c.Fa,c),Sw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Na(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Qu(this),Tw(this))};function Cp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tw(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Qn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),Ua(c,d),c.m&&c.o&&bp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Gu(Qn(d)),f.m=null,f.P=!0,JI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Qu(this),Tp(this),Et(19))};function Zu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Cw(c,d){var f=null;if(c.g==d){Zu(c),Cp(c),c.g=null;var g=2}else if(Ip(c.h,d))f=d.D,iw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Uu(),_t(g,new KI(g,f)),Yu(c)}else Dw(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&TM(c,d)||g==2&&Tp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function Sw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function mi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new gi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zu(g,"https"),Gu(g),D?vM(g.toString(),f):_M(g.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),Aw(c),Iw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Aw(c){if(c.G=0,c.ka=[],c.l){let d=ow(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Rw(c,d,f){var g=f instanceof gi?Qn(f):new gi(f);if(g.g!="")d&&(g.g=d+"."+g.g),qu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new gi(null);g&&zu(A,g),d&&(A.g=d),D&&qu(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),Ua(c,g),g}function Nw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new Fa({eb:f})):new ke(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mw(){}n=Mw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ju(){}Ju.prototype.g=function(c,d){return new Pt(c,d)};function Pt(c,d){ut.call(this),this.g=new Ew(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ao(this)}S(Pt,ut),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Dp(this.g)},Pt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hp(c),c=f);d.i.push(new cM(d.Ya++,c)),d.G==3&&Yu(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Dp(this.g),delete this.g,Pt.aa.N.call(this)};function Pw(c){pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Pw,pp);function xw(){gp.call(this),this.status=1}S(xw,gp);function Ao(c){this.g=c}S(Ao,Mw),Ao.prototype.ua=function(){_t(this.g,"a")},Ao.prototype.ta=function(c){_t(this.g,new Pw(c))},Ao.prototype.sa=function(c){_t(this.g,new xw)},Ao.prototype.ra=function(){_t(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,p_=pr.createWebChannelTransport=function(){return new Ju},f_=pr.getStatEventTarget=function(){return Uu()},h_=pr.Event=fi,rf=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bu.NO_ERROR=0,Bu.TIMEOUT=8,Bu.HTTP_ERROR=6,yu=pr.ErrorCode=Bu,QI.COMPLETE="complete",d_=pr.EventType=QI,zI.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",ut.prototype.listen=ut.prototype.K,qs=pr.WebChannel=zI,KU=pr.FetchXmlHttpFactory=Fa,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,l_=pr.XhrIo=ke}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});var yA="@firebase/firestore",vA="4.8.0";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var pa="11.10.0";var _o=new Un("@firebase/firestore");function Gs(){return _o.logLevel}function U(n,...e){if(_o.logLevel<=ue.DEBUG){let t=e.map(tI);_o.debug(`Firestore (${pa}): ${n}`,...t)}}function yr(n,...e){if(_o.logLevel<=ue.ERROR){let t=e.map(tI);_o.error(`Firestore (${pa}): ${n}`,...t)}}function ai(n,...e){if(_o.logLevel<=ue.WARN){let t=e.map(tI);_o.warn(`Firestore (${pa}): ${n}`,...t)}}function tI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cR(n,r,t)}function cR(n,e,t){let r=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw yr(r),new Error(r)}function Ie(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||cR(e,i,r)}function X(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var df=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},__=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nt.UNAUTHENTICATED))}shutdown(){}},E_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},I_=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new df(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new nt(e)}},w_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},b_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new w_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},D_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function QU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function uR(){return new TextEncoder}var bu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=QU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ce(n,e){return n<e?-1:n>e?1:0}function T_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ce(r,i);{let o=uR(),s=YU(o.encode(_A(n,t)),o.encode(_A(e,t)));return s!==0?s:ce(r,i)}}t+=r>65535?2:1}return ce(n.length,e.length)}function _A(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function YU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ce(n[t],e[t]);return ce(n.length,e.length)}function ea(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var EA="__name__",ff=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ce(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):T_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}},Oe=class n extends ff{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},ZU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ht=class n extends ff{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ZU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EA}static keyField(){return new n([EA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Oe.fromString(e))}static fromName(e){return new n(Oe.fromString(e).popFirst(5))}static empty(){return new n(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Oe(e.slice()))}};function lR(n,e,t){if(!t)throw new z(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JU(n,e,t,r){if(e===!0&&r===!0)throw new z(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IA(n){if(!q.isDocumentKey(n))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wA(n){if(q.isDocumentKey(n))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function nI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function ni(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=nI(n);throw new z(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qe(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ou(n,e){if(!dR(n))throw new z(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new z(P.INVALID_ARGUMENT,t);return!0}var bA=-62135596800,DA=1e6,Ye=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*DA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bA)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DA}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-bA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};var ne=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ye(0,0))}static max(){return new n(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Du=-1,C_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};C_.UNKNOWN_ID=-1;function XU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new Eo(i,q.empty(),e)}function eB(n){return new Eo(n.readTime,n.key,Du)}var Eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),q.empty(),Du)}static max(){return new n(ne.max(),q.empty(),Du)}};function tB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ce(n.largestBatchId,e.largestBatchId))}var nB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",S_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ga(n){return C(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==nB)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function rB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ma(n){return n.name==="IndexedDbTransactionError"}var rI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),iI=-1;function zf(n){return n==null}function Tu(n){return n===0&&1/n==-1/0}function iB(n){return typeof n=="number"&&Number.isInteger(n)&&!Tu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hR="";function oB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TA(e)),e=sB(n.get(t),e);return TA(e)}function sB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case hR:t+="";break;default:t+=o}}return t}function TA(n){return n+hR+""}var aB="remoteDocuments",fR="owner";var pR="mutationQueues";var gR="mutations";var mR="documentMutations",cB="remoteDocumentsV14";var yR="remoteDocumentGlobal";var vR="targets";var _R="targetDocuments";var ER="targetGlobal",IR="collectionParents";var wR="clientMetadata";var bR="bundles";var DR="namedQueries";var uB="indexConfiguration";var lB="indexState";var dB="indexEntries";var TR="documentOverlays";var hB="globals";var fB=[pR,gR,mR,aB,vR,fR,ER,_R,wR,yR,IR,bR,DR],Une=[...fB,TR],pB=[pR,gR,mR,cB,vR,fR,ER,_R,wR,yR,IR,bR,DR,TR],gB=pB,mB=[...gB,uB,lB,dB];var Bne=[...mB,hB];function CA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Le=class n{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ys(this.root,e,this.comparator,!0)}},Ys=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class n{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(e){return new pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tn=class n{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new n([])}unionWith(e){let t=new rt(Ht.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var yB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(n){if(Ie(!!n,39018),typeof n=="string"){let e=0,t=yB.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(n.seconds),nanos:Me(n.nanos)}}function Me(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _r(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}var SR="server_timestamp",AR="__type__",RR="__previous_value__",NR="__local_write_time__";function oI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AR])===null||t===void 0?void 0:t.stringValue)===SR}function qf(n){let e=n.mapValue.fields[RR];return oI(e)?qf(e):e}function Cu(n){let e=vr(n.mapValue.fields[NR].timestampValue);return new Ye(e.seconds,e.nanos)}var A_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},mf="(default)",yf=class n{constructor(e,t){this.projectId=e,this.database=t||mf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var sI="__type__",MR="__max__",of={mapValue:{fields:{__type__:{stringValue:MR}}}},aI="__vector__",ta="value";function ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oI(n)?4:xR(n)?9007199254740991:PR(n)?10:11:G(28295,{value:n})}function qn(n,e){if(n===e)return!0;let t=ci(n);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vr(i.timestampValue),a=vr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return _r(i.bytesValue).isEqual(_r(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Me(i.doubleValue),a=Me(o.doubleValue);return s===a?Tu(s)===Tu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(CA(s)!==CA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!qn(s[u],a[u])))return!1;return!0})(n,e);default:return G(52216,{left:n})}}function Su(n,e){return(n.values||[]).find(t=>qn(t,e))!==void 0}function na(n,e){if(n===e)return 0;let t=ci(n),r=ci(e);if(t!==r)return ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ce(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Me(o.integerValue||o.doubleValue),u=Me(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return SA(n.timestampValue,e.timestampValue);case 4:return SA(Cu(n),Cu(e));case 5:return T_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=_r(o),u=_r(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ce(a[l],u[l]);if(h!==0)return h}return ce(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ce(Me(o.latitude),Me(s.latitude));return a!==0?a:ce(Me(o.longitude),Me(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return AA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[ta])===null||a===void 0?void 0:a.arrayValue,S=(u=m[ta])===null||u===void 0?void 0:u.arrayValue,M=ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:AA(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===of.mapValue&&s===of.mapValue)return 0;if(o===of.mapValue)return 1;if(s===of.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=T_(u[p],h[p]);if(m!==0)return m;let y=na(a[u[p]],l[h[p]]);if(y!==0)return y}return ce(u.length,h.length)})(n.mapValue,e.mapValue);default:throw G(23264,{le:t})}}function SA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ce(n,e);let t=vr(n),r=vr(e),i=ce(t.seconds,r.seconds);return i!==0?i:ce(t.nanos,r.nanos)}function AA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=na(t[i],r[i]);if(o)return o}return ce(t.length,r.length)}function ra(n){return R_(n)}function R_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=vr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return _r(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=R_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${R_(t.fields[s])}`;return i+"}"})(n.mapValue):G(61005,{value:n})}function cf(n){switch(ci(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=qf(n);return e?16+cf(e):16;case 5:return 2*n.stringValue.length;case 6:return _r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+cf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return hi(r.fields,(o,s)=>{i+=o.length+cf(s)}),i})(n.mapValue);default:throw G(13486,{value:n})}}function N_(n){return!!n&&"integerValue"in n}function cI(n){return!!n&&"arrayValue"in n}function RA(n){return!!n&&"nullValue"in n}function NA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uf(n){return!!n&&"mapValue"in n}function PR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sI])===null||t===void 0?void 0:t.stringValue)===aI}function _u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return hi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_u(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}var Hne={mapValue:{fields:{[sI]:{stringValue:aI},[ta]:{arrayValue:{}}}}};var $t=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(t)}setAll(e){let t=Ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=_u(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(_u(this.value))}};function OR(n){let e=[];return hi(n.fields,(t,r)=>{let i=new Ht([t]);if(uf(r)){let o=OR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new tn(e)}var bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),$t.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ia=class{constructor(e,t){this.position=e,this.inclusive=t}};function MA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=na(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qn(n.position[t],e.position[t]))return!1;return!0}var oa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function vB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vf=class{},Xe=class n extends vf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new P_(e,t,r):t==="array-contains"?new k_(e,r):t==="in"?new F_(e,r):t==="not-in"?new L_(e,r):t==="array-contains-any"?new V_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new x_(e,r):new O_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(na(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gn=class n extends vf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return kR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function kR(n){return n.op==="and"}function FR(n){return _B(n)&&kR(n)}function _B(n){for(let e of n.filters)if(e instanceof Gn)return!1;return!0}function M_(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+ra(n.value);if(FR(n))return n.filters.map(e=>M_(e)).join(",");{let e=n.filters.map(t=>M_(t)).join(",");return`${n.op}(${e})`}}function LR(n,e){return n instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)})(n,e):n instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&LR(s,i.filters[a]),!0):!1})(n,e):void G(19439)}function VR(n){return n instanceof Xe?(function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`})(n):n instanceof Gn?(function(t){return t.op.toString()+" {"+t.getFilters().map(VR).join(" ,")+"}"})(n):"Filter"}var P_=class extends Xe{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},x_=class extends Xe{constructor(e,t){super(e,"in",t),this.keys=jR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},O_=class extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=jR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var k_=class extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return cI(t)&&Su(t.arrayValue,this.value)}},F_=class extends Xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}},L_=class extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Su(this.value.arrayValue,t)}},V_=class extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!cI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}};var j_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function xA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new j_(n,e,t,r,i,o,s)}function uI(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>M_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ra(r)).join(",")),e.Pe=t}return e.Pe}function lI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PA(n.startAt,e.startAt)&&PA(n.endAt,e.endAt)}function U_(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var sa=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function EB(n,e,t,r,i,o,s,a){return new sa(n,e,t,r,i,o,s,a)}function dI(n){return new sa(n)}function OA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IB(n){return n.collectionGroup!==null}function Eu(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rt(Ht.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new oa(o,r))}),t.has(Ht.keyField().canonicalString())||e.Te.push(new oa(Ht.keyField(),r))}return e.Te}function Hn(n){let e=X(n);return e.Ie||(e.Ie=wB(e,Eu(n))),e.Ie}function wB(n,e){if(n.limitType==="F")return xA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new oa(i.field,o)});let t=n.endAt?new ia(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ia(n.startAt.position,n.startAt.inclusive):null;return xA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function B_(n,e,t){return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gf(n,e){return lI(Hn(n),Hn(e))&&n.limitType===e.limitType}function UR(n){return`${uI(Hn(n))}|lt:${n.limitType}`}function Ws(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VR(i)).join(", ")}]`),zf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ra(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ra(i)).join(",")),`Target(${r})`})(Hn(n))}; limitType=${n.limitType})`}function Wf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Eu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=MA(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Eu(r),i)||r.endAt&&!(function(s,a,u){let l=MA(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Eu(r),i))})(n,e)}function bB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BR(n){return(e,t)=>{let r=!1;for(let i of Eu(n)){let o=DB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function DB(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?na(u,l):G(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var Er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CR(this.inner)}size(){return this.innerSize}};var TB=new Le(q.comparator);function Ir(){return TB}var $R=new Le(q.comparator);function vu(...n){let e=$R;for(let t of n)e=e.insert(t.key,t);return e}function HR(n){let e=$R;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function go(){return Iu()}function zR(){return Iu()}function Iu(){return new Er(n=>n.toString(),(n,e)=>n.isEqual(e))}var CB=new Le(q.comparator),SB=new rt(q.comparator);function fe(...n){let e=SB;for(let t of n)e=e.add(t);return e}var AB=new rt(ce);function RB(){return AB}function hI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function qR(n){return{integerValue:""+n}}function NB(n,e){return iB(e)?qR(e):hI(n,e)}var aa=class{constructor(){this._=void 0}};function MB(n,e,t){return n instanceof ca?(function(i,o){let s={fields:{[AR]:{stringValue:SR},[NR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&oI(o)&&(o=qf(o)),o&&(s.fields[RR]=o),{mapValue:s}})(t,e):n instanceof Io?WR(n,e):n instanceof wo?KR(n,e):(function(i,o){let s=GR(i,o),a=kA(s)+kA(i.Ee);return N_(s)&&N_(i.Ee)?qR(a):hI(i.serializer,a)})(n,e)}function PB(n,e,t){return n instanceof Io?WR(n,e):n instanceof wo?KR(n,e):t}function GR(n,e){return n instanceof ua?(function(r){return N_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ca=class extends aa{},Io=class extends aa{constructor(e){super(),this.elements=e}};function WR(n,e){let t=QR(e);for(let r of n.elements)t.some(i=>qn(i,r))||t.push(r);return{arrayValue:{values:t}}}var wo=class extends aa{constructor(e){super(),this.elements=e}};function KR(n,e){let t=QR(e);for(let r of n.elements)t=t.filter(i=>!qn(i,r));return{arrayValue:{values:t}}}var ua=class extends aa{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function kA(n){return Me(n.integerValue||n.doubleValue)}function QR(n){return cI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Io&&i instanceof Io||r instanceof wo&&i instanceof wo?ea(r.elements,i.elements,qn):r instanceof ua&&i instanceof ua?qn(r.Ee,i.Ee):r instanceof ca&&i instanceof ca})(n.transform,e.transform)}var $_=class{constructor(e,t){this.version=e,this.transformResults=t}},mr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var la=class{};function YR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Au(n.key,mr.none()):new bo(n.key,n.data,mr.none());{let t=n.data,r=$t.empty(),i=new rt(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wn(n.key,r,new tn(i.toArray()),mr.none())}}function OB(n,e,t){n instanceof bo?(function(i,o,s){let a=i.value.clone(),u=LA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Wn?(function(i,o,s){if(!lf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ZR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function wu(n,e,t,r){return n instanceof bo?(function(o,s,a,u){if(!lf(o.precondition,s))return a;let l=o.value.clone(),h=VA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Wn?(function(o,s,a,u){if(!lf(o.precondition,s))return a;let l=VA(o.fieldTransforms,u,s),h=s.data;return h.setAll(ZR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return lf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function kB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=GR(r.transform,i||null);o!=null&&(t===null&&(t=$t.empty()),t.set(r.field,o))}return t||null}function FA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(o,s)=>xB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var bo=class extends la{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends la{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ZR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function LA(n,e,t){let r=new Map;Ie(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,PB(s,a,t[i]))}return r}function VA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,MB(o,s,e))}return r}var Au=class extends la{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},H_=class extends la{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var z_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&OB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=zR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=YR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,r)=>FA(t,r))&&ea(this.baseMutations,e.baseMutations,(t,r)=>FA(t,r))}},q_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return CB})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var G_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var W_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,ge;function FB(n){switch(n){case P.OK:return G(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function JR(n){if(n===void 0)return yr("GRPC error has no .code"),P.UNKNOWN;switch(n){case We.OK:return P.OK;case We.CANCELLED:return P.CANCELLED;case We.UNKNOWN:return P.UNKNOWN;case We.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case We.INTERNAL:return P.INTERNAL;case We.UNAVAILABLE:return P.UNAVAILABLE;case We.UNAUTHENTICATED:return P.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case We.NOT_FOUND:return P.NOT_FOUND;case We.ALREADY_EXISTS:return P.ALREADY_EXISTS;case We.PERMISSION_DENIED:return P.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case We.ABORTED:return P.ABORTED;case We.OUT_OF_RANGE:return P.OUT_OF_RANGE;case We.UNIMPLEMENTED:return P.UNIMPLEMENTED;case We.DATA_LOSS:return P.DATA_LOSS;default:return G(39323,{code:n})}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var jA=null;var LB=new fr([4294967295,4294967295],0);function UA(n){let e=uR().encode(n),t=new u_;return t.update(e),new Uint8Array(t.digest())}function BA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fr([t,r],0),new fr([i,o],0)]}var K_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mo(`Invalid padding: ${t}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(fr.fromNumber(r)));return i.compare(LB)===1&&(i=new fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=UA(e),[r,i]=BA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=UA(e),[r,i]=BA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _f=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new Le(ce),Ir(),fe())}},Ru=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var Zs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Ef=class{constructor(e,t){this.targetId=e,this.De=t}},If=class{constructor(e,t,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wf=class{constructor(){this.ve=0,this.Ce=$A(),this.Fe=yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),t=fe(),r=fe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new Ru(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=$A()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Q_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ir(),this.je=sf(),this.Je=sf(),this.He=new Le(ce)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(U_(o))if(r===0){let s=new q(o.path);this.Xe(t,s,bn.newNoDocument(s,ne.min()))}else Ie(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}jA?.ct((function(h,p,m,y,S){var M,R,V,Q,Y,Te;let vt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(vt.bloomFilter={applied:S===0,hashCount:(M=we?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Q=(V=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&Q!==void 0?Q:0,padding:(Te=(Y=we?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&Te!==void 0?Te:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),vt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=_r(r).toUint8Array()}catch(u){if(u instanceof gf)return ai("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new K_(s,i,o)}catch(u){return ai(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&U_(a.target)){let u=new q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,bn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=fe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new _f(e,t,this.He,this.ze,r);return this.ze=Ir(),this.je=sf(),this.Je=sf(),this.He=new Le(ce),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new wf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new rt(ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new rt(ce),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function sf(){return new Le(q.comparator)}function $A(){return new Le(q.comparator)}var VB={asc:"ASCENDING",desc:"DESCENDING"},jB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UB={and:"AND",or:"OR"},Y_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Z_(n,e){return n.useProto3Json||zf(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BB(n,e){return bf(n,e.toTimestamp())}function zn(n){return Ie(!!n,49232),ne.fromTimestamp((function(t){let r=vr(t);return new Ye(r.seconds,r.nanos)})(n))}function fI(n,e){return J_(n,e).canonicalString()}function J_(n,e){let t=(function(i){return new Oe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eN(n){let e=Oe.fromString(n);return Ie(oN(e),10190,{key:e.toString()}),e}function X_(n,e){return fI(n.databaseId,e.path)}function g_(n,e){let t=eN(e);if(t.get(1)!==n.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(nN(t))}function tN(n,e){return fI(n.databaseId,e)}function $B(n){let e=eN(n);return e.length===4?Oe.emptyPath():nN(e)}function eE(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nN(n){return Ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HA(n,e,t){return{name:X_(n,e),fields:t.value.mapValue.fields}}function HB(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?P.UNKNOWN:JR(l.code);return new z(h,l.message||"")})(s);t=new If(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=g_(n,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):ne.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Zs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=g_(n,r.document),o=r.readTime?zn(r.readTime):ne.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Zs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=g_(n,r.document),o=r.removedTargetIds||[];t=new Zs([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new W_(i,o),a=r.targetId;t=new Ef(a,s)}}return t}function zB(n,e){let t;if(e instanceof bo)t={update:HA(n,e.key,e.value)};else if(e instanceof Au)t={delete:X_(n,e.key)};else if(e instanceof Wn)t={update:HA(n,e.key,e.data),updateMask:XB(e.fieldMask)};else{if(!(e instanceof H_))return G(16599,{Rt:e.type});t={verify:X_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Io)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:BB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(n,e.precondition)),t}function qB(n,e){return n&&n.length>0?(Ie(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?zn(i.updateTime):zn(o);return s.isEqual(ne.min())&&(s=zn(o)),new $_(s,i.transformResults||[])})(t,e))):[]}function GB(n,e){return{documents:[tN(n,e.path)]}}function WB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tN(n,i);let o=(function(l){if(l.length!==0)return iN(Gn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Ks(m.field),direction:YB(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Z_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function KB(n){let e=$B(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ie(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=rN(p);return m instanceof Gn&&FR(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new oa(Qs(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,zf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new ia(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new ia(y,m)})(t.endAt)),EB(e,i,s,o,a,"F",u,l)}function QB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Qs(t.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qs(t.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qs(t.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qs(t.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Xe.create(Qs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Gn.create(t.compositeFilter.filters.map(r=>rN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(t.compositeFilter.op))})(n):G(30097,{filter:n})}function YB(n){return VB[n]}function ZB(n){return jB[n]}function JB(n){return UB[n]}function Ks(n){return{fieldPath:n.canonicalString()}}function Qs(n){return Ht.fromServerFormat(n.fieldPath)}function iN(n){return n instanceof Xe?(function(t){if(t.op==="=="){if(NA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NAN"}};if(RA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NAN"}};if(RA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(t.field),op:ZB(t.op),value:t.value}}})(n):n instanceof Gn?(function(t){let r=t.getFilters().map(i=>iN(i));return r.length===1?r[0]:{compositeFilter:{op:JB(t.op),filters:r}}})(n):G(54877,{filter:n})}function XB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Nu=class n{constructor(e,t,r,i,o=ne.min(),s=ne.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var tE=class{constructor(e){this.gt=e}};function e$(n){let e=KB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?B_(e,e.limit,"L"):e}var Df=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Tu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=vr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(_r(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?xR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):PR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):G(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ta,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Me(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Df.Ut=new Df;var nE=class{constructor(){this.Dn=new rE}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Eo.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},rE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rt(Oe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Oe.comparator)).toArray()}};var zne=new Uint8Array(0);var zA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sN=41943040,en=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(sN,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);var Mu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var qA="LruGarbageCollector",t$=1048576;function GA([n,e],[t,r]){let i=ce(n,t);return i===0?ce(e,r):i}var iE=class{constructor(e){this.Tr=e,this.buffer=new rt(GA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();GA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},oE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(qA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ma(t)?U(qA,"Ignoring IndexedDB error during garbage collection: ",t):yield ga(t)}yield this.Rr(3e5)}))}},sE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(rI.ue);let r=new iE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(zA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Gs()<=ue.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function n$(n,e){return new sE(n,e)}var aE=class{constructor(){this.changes=new Er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var cE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var uE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wu(r.mutation,i,tn.empty(),Ye.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=vu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ir(),s=Iu(),a=(function(){return Iu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Wn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),wu(h.mutation,l,h.mutation.getFieldMask(),Ye.now())):s.set(l.key,tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new cE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Iu(),i=new Le((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||tn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=zR();h.forEach(m=>{if(!o.has(m)){let y=YR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(go()),a=Du,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:HR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=vu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new sa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=vu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&wu(h.mutation,l,tn.empty(),Ye.now()),Wf(t,l)&&(a=a.insert(u,l))}),a})}};var lE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:e$(i.bundledQuery),readTime:zn(i.readTime)}})(t)),x.resolve()}};var dE=class{constructor(){this.overlays=new Le(q.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=go();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=go(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Le((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=go(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=go(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new G_(t,r));let o=this.kr.get(t);o===void 0&&(o=fe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var hE=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Pu=class{constructor(){this.qr=new rt(Ke.Qr),this.$r=new rt(Ke.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ke(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ke(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new q(new Oe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new q(new Oe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=fe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ke(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return q.comparator(e.key,t.key)||ce(e.Hr,t.Hr)}static Ur(e,t){return ce(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var fE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new rt(Ke.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new z_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?iI:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ke(t,0),i=new Ke(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(ce);return t.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new q(o),0),a=new rt(ce);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let o=new Ke(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ke(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var pE=class{constructor(e){this.ni=e,this.docs=(function(){return new Le(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ir(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tB(eB(h),r)<=0||(i.has(h.key)||Wf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gE(this)}getSize(e){return x.resolve(this.size)}},gE=class extends aE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var mE=class{constructor(e){this.persistence=e,this.ii=new Er(t=>uI(t),lI),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.si=0,this.oi=new Pu,this.targetCount=0,this._i=Mu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Mu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var Tf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new rI(0),this.ci=!1,this.ci=!0,this.li=new hE,this.referenceDelegate=e(this),this.hi=new mE(this),this.indexManager=new nE,this.remoteDocumentCache=(function(i){return new pE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new tE(t),this.Ti=new lE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new fE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new yE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},yE=class extends S_{constructor(e){super(),this.currentSequenceNumber=e}},vE=class n{constructor(e){this.persistence=e,this.Ai=new Pu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ne.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Cf=class n{constructor(e,t){this.persistence=e,this.gi=new Er(r=>oB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=n$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cf(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var _E=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=fe(),i=fe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var EE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var IE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return wS()?8:rB(Bt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new EE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Gs()<=ue.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ws(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(Gs()<=ue.DEBUG&&U("QueryEngine","Query:",Ws(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Gs()<=ue.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ws(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(t))):x.resolve())}ps(e,t){if(OA(t))return x.resolve(null);let r=Hn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=B_(t,null,"F"),r=Hn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,B_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return OA(t)||i.isEqual(ne.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?x.resolve(null):(Gs()<=ue.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(t)),this.vs(e,s,t,XU(i,Du)).next(a=>a))})}bs(e,t){let r=new rt(BR(e));return t.forEach((i,o)=>{Wf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Gs()<=ue.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ws(t)),this.gs.getDocumentsMatchingQuery(e,t,Eo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pI="LocalStore",r$=3e8,wE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Le(ce),this.Ms=new Er(o=>uI(o),lI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function i$(n,e,t,r){return new wE(n,e,t,r)}function aN(n,e){return C(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function o$(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Ie(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cN(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function s$(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,V){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=r$?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Ir(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(a$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ne.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function a$(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ir();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(pI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function c$(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u$(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Nu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function bE(n,e,t){return C(this,null,function*(){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ma(s))throw s;U(pI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function WA(n,e,t){let r=X(n),i=ne.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),m=p.Ms.get(h);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ne.min(),t?o:fe())).next(a=>(l$(r,bB(e),a),{documents:a,qs:o})))}function l$(n,e,t){let r=n.xs.get(e)||ne.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Sf=class{constructor(){this.activeTargetIds=RB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var DE=class{constructor(){this.Fo=new Sf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var TE=class{xo(e){}shutdown(){}};var KA="ConnectivityMonitor",Af=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(KA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(KA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var af=null;function CE(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}var m_="RestConnection",d$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},SE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===mf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=CE(),a=this.Go(e,t.toUriEncodedString());U(m_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=io(l);return this.jo(e,a,u,r,h).then(p=>(U(m_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ai(m_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=d$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var AE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var gt="WebChannelConnection",RE=class extends SE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=CE();return new Promise((a,u)=>{let l=new l_;l.setWithCredentials(!0),l.listenOnce(d_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yu.NO_ERROR:let p=l.getResponseJson();U(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case yu.TIMEOUT:U(gt,`RPC '${e}' ${s} timed out`),u(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:let m=l.getStatus();if(U(gt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(V){let Q=V.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(Q)>=0?Q:P.UNKNOWN})(S.status);u(new z(M,S.message))}else u(new z(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(P.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(gt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(gt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=CE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=p_(),a=f_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new AE({Ho:R=>{y?U(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(gt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,V,Q)=>{R.listen(V,Y=>{try{Q(Y)}catch(Te){setTimeout(()=>{throw Te},0)}})};return M(p,qs.EventType.OPEN,()=>{y||(U(gt,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,qs.EventType.CLOSE,()=>{y||(y=!0,U(gt,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,qs.EventType.ERROR,R=>{y||(y=!0,ai(gt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new z(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,qs.EventType.MESSAGE,R=>{var V;if(!y){let Q=R.data[0];Ie(!!Q,16349);let Y=Q,Te=Y?.error||((V=Y[0])===null||V===void 0?void 0:V.error);if(Te){U(gt,`RPC '${e}' stream ${i} received error:`,Te);let vt=Te.status,we=(function(E){let I=We[E];if(I!==void 0)return JR(I)})(vt),w=Te.message;we===void 0&&(we=P.INTERNAL,w="Unknown error status: "+vt+" with message "+Te.message),y=!0,S.__(new z(we,w)),p.close()}else U(gt,`RPC '${e}' stream ${i} received:`,Q),S.a_(Q)}}),M(a,h_.STAT_EVENT,R=>{R.stat===rf.PROXY?U(gt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===rf.NOPROXY&&U(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function y_(){return typeof document<"u"?document:null}function Kf(n){return new Y_(n,!0)}var Rf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var QA="PersistentStream",Nf=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Rf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(QA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(QA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},NE=class extends Nf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=HB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?zn(s.readTime):ne.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=eE(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=U_(u)?{documents:GB(o,u)}:{query:WB(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XR(o,s.resumeToken);let l=Z_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());let l=Z_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=QB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=eE(this.serializer),t.removeTarget=e,this.k_(t)}},ME=class extends Nf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=qB(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=eE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>zB(this.serializer,r))};this.k_(t)}};var PE=class{},xE=class extends PE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,J_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,J_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},OE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Do="RemoteStore",kE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){To(this)&&(U(Do,"Restarting streams for network reachability change."),yield(function(u){return C(this,null,function*(){let l=X(u);l.Ia.add(4),yield ku(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Qf(l)})})(this))}))}),this.Aa=new OE(r,i)}};function Qf(n){return C(this,null,function*(){if(To(n))for(let e of n.da)yield e(!0)})}function ku(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function uN(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),vI(t)?yI(t):ya(t).x_()&&mI(t,e))}function gI(n,e){let t=X(n),r=ya(t);t.Ta.delete(e),r.x_()&&lN(t,e),t.Ta.size===0&&(r.x_()?r.B_():To(t)&&t.Aa.set("Unknown"))}function mI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ya(n).H_(e)}function lN(n,e){n.Ra.$e(e),ya(n).Y_(e)}function yI(n){n.Ra=new Q_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ya(n).start(),n.Aa.aa()}function vI(n){return To(n)&&!ya(n).M_()&&n.Ta.size>0}function To(n){return X(n).Ia.size===0}function dN(n){n.Ra=void 0}function h$(n){return C(this,null,function*(){n.Aa.set("Online")})}function f$(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{mI(n,e)})})}function p$(n,e){return C(this,null,function*(){dN(n),vI(n)?(n.Aa.la(e),yI(n)):n.Aa.set("Unknown")})}function g$(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof If&&e.state===2&&e.cause)try{yield(function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){U(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mf(n,r)}else if(e instanceof Zs?n.Ra.Ye(e):e instanceof Ef?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ne.min()))try{let r=yield cN(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),lN(o,u);let p=new Nu(h.target,u,l,h.sequenceNumber);mI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){U(Do,"Failed to raise snapshot:",r),yield Mf(n,r)}})}function Mf(n,e,t){return C(this,null,function*(){if(!ma(e))throw e;n.Ia.add(1),yield ku(n),n.Aa.set("Offline"),t||(t=()=>cN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){U(Do,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Qf(n)}))})}function hN(n,e){return e().catch(t=>Mf(n,t,e))}function Yf(n){return C(this,null,function*(){let e=X(n),t=ui(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:iI;for(;m$(e);)try{let i=yield c$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,y$(e,i)}catch(i){yield Mf(e,i)}fN(e)&&pN(e)})}function m$(n){return To(n)&&n.Pa.length<10}function y$(n,e){n.Pa.push(e);let t=ui(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function fN(n){return To(n)&&!ui(n).M_()&&n.Pa.length>0}function pN(n){ui(n).start()}function v$(n){return C(this,null,function*(){ui(n).na()})}function _$(n){return C(this,null,function*(){let e=ui(n);for(let t of n.Pa)e.X_(t.mutations)})}function E$(n,e,t){return C(this,null,function*(){let r=n.Pa.shift(),i=q_.from(r,e,t);yield hN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yf(n)})}function I$(n,e){return C(this,null,function*(){e&&ui(n).Z_&&(yield(function(r,i){return C(this,null,function*(){if((function(s){return FB(s)&&s!==P.ABORTED})(i.code)){let o=r.Pa.shift();ui(r).N_(),yield hN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yf(r)}})})(n,e)),fN(n)&&pN(n)})}function YA(n,e){return C(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U(Do,"RemoteStore received new credentials");let r=To(t);t.Ia.add(3),yield ku(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Qf(t)})}function w$(n,e){return C(this,null,function*(){let t=X(n);e?(t.Ia.delete(2),yield Qf(t)):e||(t.Ia.add(2),yield ku(t),t.Aa.set("Unknown"))})}function ya(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new NE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:h$.bind(null,n),e_:f$.bind(null,n),n_:p$.bind(null,n),J_:g$.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),vI(n)?yI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),dN(n))}))),n.Va}function ui(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new ME(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:v$.bind(null,n),n_:I$.bind(null,n),ea:_$.bind(null,n),ta:E$.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.ma.N_(),yield Yf(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(Do,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var FE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _I(n,e){if(yr("AsyncQueue",`${e}: ${n}`),ma(n))return new z(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Pf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=vu(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var xf=class{constructor(){this.fa=new Le(q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},da=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Pf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var LE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},VE=class{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=ZA(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new z(P.ABORTED,"Firestore shutting down"))}};function ZA(){return new Er(n=>UR(n),Gf)}function b$(n,e){return C(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new LE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=_I(s,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&EI(t)})}function D$(n,e){return C(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function T$(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&EI(t)}function C$(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function EI(n){n.Da.forEach(e=>{e.next()})}var jE,JA;(JA=jE||(jE={})).Fa="default",JA.Cache="cache";var UE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==jE.Cache}};var Of=class{constructor(e){this.key=e}},kf=class{constructor(e){this.key=e}},BE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=BR(e),this.eu=new Pf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new xf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Wf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:R})}};return M(y)-M(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new da(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new kf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Of(r))}),t}uu(e){this.Ha=e.qs,this.Za=fe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return da.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},II="SyncEngine",$E=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},HE=class{constructor(e){this.key=e,this.lu=!1}},zE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Er(a=>UR(a),Gf),this.Tu=new Map,this.Iu=new Set,this.du=new Le(q.comparator),this.Eu=new Map,this.Au=new Pu,this.Ru={},this.Vu=new Map,this.mu=Mu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function S$(n,e,t=!0){return C(this,null,function*(){let r=EN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield gN(r,e,t,!0),i})}function A$(n,e){return C(this,null,function*(){let t=EN(n);yield gN(t,e,!0,!1)})}function gN(n,e,t,r){return C(this,null,function*(){let i=yield u$(n.localStore,Hn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield R$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&uN(n.remoteStore,i),a})}function R$(n,e,t,r,i){return C(this,null,function*(){n.gu=(p,m,y)=>(function(M,R,V,Q){return C(this,null,function*(){let Y=R.view.nu(V);Y.Ds&&(Y=yield WA(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Y)));let Te=Q&&Q.targetChanges.get(R.targetId),vt=Q&&Q.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(Y,M.isPrimaryClient,Te,vt);return eR(M,R.targetId,we._u),we.snapshot})})(n,p,m,y);let o=yield WA(n.localStore,e,!0),s=new BE(e,o.qs),a=s.nu(o.documents),u=Ru.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);eR(n,t,l._u);let h=new $E(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function N$(n,e,t){return C(this,null,function*(){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Gf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield bE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gI(r.remoteStore,i.targetId),qE(r,i.targetId)}).catch(ga))):(qE(r,i.targetId),yield bE(r.localStore,i.targetId,!0))})}function M$(n,e){return C(this,null,function*(){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gI(t.remoteStore,r.targetId))})}function P$(n,e,t){return C(this,null,function*(){let r=j$(n);try{let i=yield(function(s,a){let u=X(s),l=Ye.now(),h=a.reduce((y,S)=>y.add(S.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Ir(),M=fe();return u.Os.getEntries(y,h).next(R=>{S=R,S.forEach((V,Q)=>{Q.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let V=[];for(let Q of a){let Y=kB(Q,p.get(Q.key).overlayedDocument);Y!=null&&V.push(new Wn(Q.key,Y,OR(Y.value.mapValue),mr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{m=R;let V=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:HR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Le(ce)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Fu(r,i.changes),yield Yf(r.remoteStore)}catch(i){let o=_I(i,"Failed to persist write");t.reject(o)}})}function mN(n,e){return C(this,null,function*(){let t=X(n);try{let r=yield s$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ie(s.lu,14607):i.removedDocuments.size>0&&(Ie(s.lu,42227),s.lu=!1))}),yield Fu(t,r,e)}catch(r){yield ga(r)}})}function XA(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&EI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function x$(n,e,t){return C(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Le(q.comparator);s=s.insert(o,bn.newNoDocument(o,ne.min()));let a=fe().add(o),u=new _f(ne.min(),new Map,new Le(ce),s,a);yield mN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),wI(r)}else yield bE(r.localStore,e,!1).then(()=>qE(r,e,t)).catch(ga)})}function O$(n,e){return C(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield o$(t.localStore,e);vN(t,r,null),yN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fu(t,i)}catch(i){yield ga(i)}})}function k$(n,e,t){return C(this,null,function*(){let r=X(n);try{let i=yield(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);vN(r,e,t),yN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fu(r,i)}catch(i){yield ga(i)}})}function yN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function vN(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function qE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||_N(n,r)})}function _N(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(gI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),wI(n))}function eR(n,e,t){for(let r of t)r instanceof Of?(n.Au.addReference(r.key,e),F$(n,r)):r instanceof kf?(U(II,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_N(n,r.key)):G(19791,{yu:r})}function F$(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(II,"New document in limbo: "+t),n.Iu.add(r),wI(n))}function wI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new q(Oe.fromString(e)),r=n.mu.next();n.Eu.set(r,new HE(t)),n.du=n.du.insert(t,r),uN(n.remoteStore,new Nu(Hn(dI(t.path)),r,"TargetPurposeLimboResolution",rI.ue))}}function Fu(n,e,t){return C(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=_E.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return C(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ma(p))throw p;U(pI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function L$(n,e){return C(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){U(II,"User change. New user:",e.toKey());let r=yield aN(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new z(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fu(t,r.Bs)}})}function V$(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return fe().add(r.key);{let i=fe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function EN(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x$.bind(null,e),e.hu.J_=T$.bind(null,e.eventManager),e.hu.pu=C$.bind(null,e.eventManager),e}function j$(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k$.bind(null,e),e}var IN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return i$(this.persistence,new IE,t.initialUser,this.serializer)}Du(t){return new Tf(vE.Vi,this.serializer)}bu(t){return new DE}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),GE=class extends IN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ie(this.persistence.referenceDelegate instanceof Cf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new oE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Tf(r=>Cf.Vi(r,t),this.serializer)}};var U$=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=L$.bind(null,this.syncEngine),yield w$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new VE})()}createDatastore(t){let r=Kf(t.databaseInfo.databaseId),i=(function(s){return new RE(s)})(t.databaseInfo);return(function(s,a,u,l){return new xE(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new kE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>XA(this.syncEngine,r,0),(function(){return Af.C()?new Af:new TE})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new zE(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield(function(o){return C(this,null,function*(){let s=X(o);U(Do,"RemoteStore shutting down."),s.Ia.add(5),yield ku(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var WE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var li="FirestoreClient",KE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=bu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){U(li,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(li,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=_I(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function v_(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(li,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield aN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ai("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ai("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function tR(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield B$(n);U(li,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>YA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>YA(e.remoteStore,i)),n._onlineComponents=e})}function B$(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(li,"Using user provided OfflineComponentProvider");try{yield v_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ai("Error using user provided cache. Falling back to memory cache: "+t),yield v_(n,new IN)}}else U(li,"Using default OfflineComponentProvider"),yield v_(n,new GE(void 0));return n._offlineComponents})}function wN(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(li,"Using user provided OnlineComponentProvider"),yield tR(n,n._uninitializedComponentsProvider._online)):(U(li,"Using default OnlineComponentProvider"),yield tR(n,new U$))),n._onlineComponents})}function $$(n){return wN(n).then(e=>e.syncEngine)}function nR(n){return C(this,null,function*(){let e=yield wN(n),t=e.eventManager;return t.onListen=S$.bind(null,e.syncEngine),t.onUnlisten=N$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M$.bind(null,e.syncEngine),t})}function bN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var rR=new Map;var DN="firestore.googleapis.com",iR=!0,Ff=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DN,this.ssl=iR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t$)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ha=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new __;switch(r.type){case"firstParty":return new b_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=rR.get(t);r&&(U("ComponentProvider","Removing Datastore"),rR.delete(t),r.terminate())})(this),Promise.resolve()}};function TN(n,e,t,r={}){var i;n=ni(n,ha);let o=io(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(wv(`https://${u}`),bv("Firestore",!0)),s.host!==DN&&s.host!==u&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!oo(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=nt.MOCK_USER;else{h=yS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nt(m)}n._authCredentials=new E_(new df(h,p))}}var Lf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},mt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ou(t,n._jsonSchema))return new n(e,r||null,new q(Oe.fromString(t.referencePath)))}};mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Qe("string",mt._jsonSchemaVersion),referencePath:Qe("string")};var ri=class n extends Lf{constructor(e,t,r){super(e,t,dI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CN(n,e,...t){if(n=pt(n),lR("collection","path",e),n instanceof ha){let r=Oe.fromString(e,...t);return wA(r),new ri(n,null,r)}{if(!(n instanceof mt||n instanceof ri))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(e,...t));return wA(r),new ri(n.firestore,null,r)}}function bI(n,e,...t){if(n=pt(n),arguments.length===1&&(e=bu.newId()),lR("doc","path",e),n instanceof ha){let r=Oe.fromString(e,...t);return IA(r),new mt(n,null,new q(r))}{if(!(n instanceof mt||n instanceof ri))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(e,...t));return IA(r),new mt(n.firestore,n instanceof ri?n.converter:null,new q(r))}}var oR="AsyncQueue",Vf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Rf(this,"async_queue_retry"),this.oc=()=>{let r=y_();r&&U(oR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=y_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=y_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ma(e))throw e;U(oR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,yr("INTERNAL UNHANDLED ERROR: ",sR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=FE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:sR(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function sR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function aR(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var di=class extends ha{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vf(e),this._firestoreClient=void 0,yield e}})}};function SN(n,e){let t=typeof n=="object"?n:$s(),r=typeof n=="string"?n:e||mf,i=Vh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=gS("firestore");o&&TN(i,...o)}return i}function AN(n){if(n._terminated)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||H$(n),n._firestoreClient}function H$(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new A_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new KE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var ii=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(t){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Qe("string",ii._jsonSchemaVersion),bytes:Qe("string")};var fa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xu=class{constructor(e){this._methodName=e}};var oi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:Qe("string",oi._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};var si=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new z(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Qe("string",si._jsonSchemaVersion),vectorValues:Qe("object")};var z$=/^__.*__$/,QE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new bo(e,this.data,t,this.fieldTransforms)}},jf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:n})}}var YE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RN(this.Ec)&&z$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},ZE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Kf(e)}Dc(e,t,r,i=!1){return new YE({Ec:e,methodName:t,bc:r,path:Ht.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function NN(n){let e=n._freezeSettings(),t=Kf(n._databaseId);return new ZE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q$(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);DI("Data must be an object, but it was:",s,r);let a=MN(r,s),u,l;if(o.merge)u=new tn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=JE(e,p,t);if(!s.contains(m))throw new z(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);xN(h,m)||h.push(m)}u=new tn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new QE(new $t(a),u,l)}var Uf=class n extends xu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function G$(n,e,t,r){let i=n.Dc(1,e,t);DI("Data must be an object, but it was:",i,r);let o=[],s=$t.empty();hi(r,(u,l)=>{let h=TI(e,u,t);l=pt(l);let p=i.gc(h);if(l instanceof Uf)o.push(h);else{let m=Zf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new tn(o);return new jf(s,a,i.fieldTransforms)}function W$(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[JE(e,r,t)],u=[i];if(o.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(JE(e,o[m])),u.push(o[m+1]);let l=[],h=$t.empty();for(let m=a.length-1;m>=0;--m)if(!xN(l,a[m])){let y=a[m],S=u[m];S=pt(S);let M=s.gc(y);if(S instanceof Uf)l.push(y);else{let R=Zf(S,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new tn(l);return new jf(h,p,s.fieldTransforms)}function Zf(n,e){if(PN(n=pt(n)))return DI("Unsupported field value:",e,n),MN(n,e);if(n instanceof xu)return(function(r,i){if(!RN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Zf(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ye.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof Ye){let o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:XR(i.serializer,r._byteString)};if(r instanceof mt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof si)return(function(s,a){return{mapValue:{fields:{[sI]:{stringValue:aI},[ta]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return hI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${nI(r)}`)})(n,e)}function MN(n,e){let t={};return CR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hi(n,(r,i)=>{let o=Zf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function PN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof oi||n instanceof ii||n instanceof mt||n instanceof xu||n instanceof si)}function DI(n,e,t){if(!PN(t)||!dR(t)){let r=nI(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function JE(n,e,t){if((e=pt(e))instanceof fa)return e._internalPath;if(typeof e=="string")return TI(n,e);throw Bf("Field path arguments must be of type string or ",n,!1,void 0,t)}var K$=new RegExp("[~\\*/\\[\\]]");function TI(n,e,t){if(e.search(K$)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fa(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(P.INVALID_ARGUMENT,a+n+u)}function xN(n,e){return n.some(t=>t.isEqual(e))}var $f=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new XE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ON("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},XE=class extends $f{data(){return super.data()}};function ON(n,e){return typeof e=="string"?TI(n,e):e instanceof fa?e._internalPath:e._delegate._internalPath}function Q$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eI=class{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return hi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ta].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Me(s.doubleValue));return new si(o)}convertGeoPoint(e){return new oi(Me(e.latitude),Me(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=qf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){let t=vr(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Oe.fromString(e);Ie(oN(r),9688,{name:e});let i=new yf(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Y$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var yo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vo=class n extends $f{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(ON("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",vo._jsonSchema={type:Qe("string",vo._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var Js=class extends vo{data(e={}){return super.data(e)}},Xs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Js(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Z$(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Z$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:Qe("string",Xs._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var Hf=class extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}};function kN(n,e,t,...r){n=ni(n,mt);let i=ni(n.firestore,di),o=NN(i),s;return s=typeof(e=pt(e))=="string"||e instanceof fa?W$(o,"updateDoc",n._key,e,t,r):G$(o,"updateDoc",n._key,e),SI(i,[s.toMutation(n._key,mr.exists(!0))])}function FN(n){return SI(ni(n.firestore,di),[new Au(n._key,mr.none())])}function LN(n,e){let t=ni(n.firestore,di),r=bI(n),i=Y$(n.converter,e);return SI(t,[q$(NN(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function CI(n,...e){var t,r,i;n=pt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aR(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof mt)l=ni(n.firestore,di),h=dI(n._key.path),u={next:p=>{e[s]&&e[s](J$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ni(n,Lf);l=ni(p.firestore,di),h=p._query;let m=new Hf(l);u={next:y=>{e[s]&&e[s](new Xs(l,m,p,y))},error:e[s+1],complete:e[s+2]},Q$(n._query)}return(function(m,y,S,M){let R=new WE(M),V=new UE(y,R,S);return m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return b$(yield nR(m),V)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return D$(yield nR(m),V)}))}})(AN(l),h,a,u)}function SI(n,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return P$(yield $$(r),i,o)})),o.promise})(AN(n),e)}function J$(n,e,t){let r=t.docs.get(e._key),i=new Hf(n);return new vo(n,i,e._key,r,new yo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){pa=i})(Bs),In(new St("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new di(new I_(r.getProvider("auth-internal")),new D_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Be(yA,vA,e),Be(yA,vA,"esm2017")})();var Jf=function(){return Jf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jf.apply(this,arguments)};var tH={includeMetadataChanges:!1};function VN(n,e){return e===void 0&&(e=tH),new re(function(t){var r=CI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function jN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Jf(Jf({},r),(t={},t[e.idField]=n.id,t))}function UN(n){return VN(n,{includeMetadataChanges:!0}).pipe(ae(function(e){return e.docs}))}function BN(n,e){return e===void 0&&(e={}),UN(n).pipe(ae(function(t){return t.map(function(r){return jN(r,e)})}))}var Dn=class{constructor(e){return e}},$N="firestore",AI=class{constructor(){return zs($N)}};var RI=new $("angularfire2.firestore-instances");function nH(n,e){let t=Bh($N,n,e);return t&&new Dn(t)}function rH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Dn(r)}}var iH={provide:AI,deps:[[new Mn,RI]]},oH={provide:Dn,useFactory:nH,deps:[[new Mn,RI],lo]};function NI(n,...e){return Be("angularfire",co.full,"fst"),qt([oH,iH,{provide:RI,useFactory:rH(n),multi:!0,deps:[De,ze,uo,lu,[new Mn,tf],[new Mn,Hh],...e]}])}var va=Xt(BN,!0);var _a=Xt(LN,!0,2);var wr=Xt(CN,!0,2);var Ea=Xt(FN,!0,2);var br=Xt(bI,!0,2);var MI=Xt(SN,!0);var Ia=Xt(kN,!0,2);function sH(n,e){if(n&1){let t=Qi();k(0,"tr")(1,"td"),j(2),O(),k(3,"td"),j(4),O(),k(5,"td"),j(6),O(),k(7,"td"),j(8),O(),k(9,"td"),j(10),O(),k(11,"td")(12,"button",12),me("click",function(){let i=ln(t).$implicit,o=xn();return dn(o.startEditCenter(i.id,i.name,i.capacity,i.barangay,i.population,i.status))}),j(13,"Edit"),O(),k(14,"button",13),me("click",function(){let i=ln(t).$implicit,o=xn();return dn(o.deleteCenter(i.id))}),j(15,"Delete"),O()()()}if(n&2){let t=e.$implicit;te(2),xe(t.name),te(2),xe(t.barangay),te(2),xe(t.capacity),te(2),xe(t.population),te(2),xe(t.status)}}var Xf=class n{constructor(e){this.firestore=e;let t=wr(this.firestore,"evacuation_centers");va(t,{idField:"id"}).subscribe(r=>{this.centers=r})}title=he("Evacuation");centerName=he("");capacity=he(null);barangay=he("");currentPopulation=he(null);status=he("");editingId=he(null);centers=[];resetForm(){this.centerName.set(""),this.capacity.set(null),this.barangay.set(""),this.currentPopulation.set(null),this.status.set(""),this.editingId.set(null)}addCenter(){let e=this.centerName(),t=this.capacity(),r=this.barangay(),i=this.currentPopulation(),o=this.status(),s=this.editingId();if(e&&t){let a=wr(this.firestore,"evacuation_centers");s?this.editCenter(s,e,t,r,i,o):(_a(a,{name:e,capacity:t,barangay:r,population:i,status:o}),this.resetForm())}}startEditCenter(e,t,r,i,o,s){this.centerName.set(t),this.capacity.set(r),this.barangay.set(i),this.currentPopulation.set(o),this.status.set(s),this.editingId.set(e)}deleteCenter(e){let t=br(this.firestore,`evacuation_centers/${e}`);Ea(t),this.editingId()===e&&this.resetForm()}editCenter(e,t,r,i,o,s){let a=br(this.firestore,`evacuation_centers/${e}`);Ia(a,{name:t,capacity:r,barangay:i,population:o,status:s}),this.resetForm()}static \u0275fac=function(t){return new(t||n)(Ne(Dn))};static \u0275cmp=pn({type:n,selectors:[["app-evacuation-center"]],decls:51,vars:8,consts:[[1,"center-dashboard"],[1,"records-section"],[1,"records-table-wrapper"],[4,"ngFor","ngForOf"],[1,"center-form-section"],[1,"form-group"],["type","text","placeholder","Evacuation facility name",3,"input","value"],["type","number","placeholder","Maximum number of evacuees",3,"input","value"],["type","number","placeholder","Current evacuees staying",3,"input","value"],["type","text","placeholder","Location",3,"input","value"],["type","text","placeholder","Open / Full / Under Maintenance",3,"input","value"],["type","button",1,"submit-btn",3,"click"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"section",1)(2,"h2"),j(3,"Evacuation Center Records"),O(),k(4,"div",2)(5,"table")(6,"thead")(7,"tr")(8,"th"),j(9,"Center Name"),O(),k(10,"th"),j(11,"Barangay"),O(),k(12,"th"),j(13,"Max Capacity"),O(),k(14,"th"),j(15,"Current Population"),O(),k(16,"th"),j(17,"Status"),O(),k(18,"th"),j(19,"Actions"),O()()(),k(20,"tbody"),$r(21,sH,16,5,"tr",3),O()()()(),k(22,"section",4)(23,"header")(24,"h1"),j(25),O(),Tt(26,"hr"),O(),k(27,"form")(28,"div",5)(29,"label"),j(30,"Center Name"),O(),k(31,"input",6),me("input",function(o){return r.centerName.set(o.target.value)}),O()(),k(32,"div",5)(33,"label"),j(34,"Max Capacity"),O(),k(35,"input",7),me("input",function(o){return r.capacity.set(o.target.valueAsNumber)}),O()(),k(36,"div",5)(37,"label"),j(38,"Current Population"),O(),k(39,"input",8),me("input",function(o){return r.currentPopulation.set(o.target.valueAsNumber)}),O()(),k(40,"div",5)(41,"label"),j(42,"Barangay"),O(),k(43,"input",9),me("input",function(o){return r.barangay.set(o.target.value)}),O()(),k(44,"div",5)(45,"label"),j(46,"Status"),O(),k(47,"input",10),me("input",function(o){return r.status.set(o.target.value)}),O()(),k(48,"button",11),me("click",function(){return r.addCenter()}),j(49),O()()(),Tt(50,"router-outlet"),O()),t&2&&(te(21),Pe("ngForOf",r.centers),te(4),xe(r.title()),te(6),Pe("value",r.centerName()),te(4),Pe("value",r.capacity()),te(4),Pe("value",r.currentPopulation()),te(4),Pe("value",r.barangay()),te(4),Pe("value",r.status()),te(2),cr(" ",r.editingId()?"Update Record":"Save"," "))},dependencies:[Gr,qr,Us,js,Vs,no,ov,_n],styles:[".center-dashboard[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:30px 20px;display:flex;flex-direction:column;gap:40px;background-color:#f0f3f7}.records-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 20px #00000014}.records-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin-bottom:20px;color:#333}.records-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f4f8}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f7fa}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px;border-radius:6px;border:none;cursor:pointer;margin-right:5px;transition:.3s background-color}.edit-btn[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}.edit-btn[_ngcontent-%COMP%]:hover{background-color:#004d40}.delete-btn[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#9a0007}.center-form-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 20px #00000014}.center-form-section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:8px;color:#333}.center-form-section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:50px;border:none;border-top:3px solid #00796b;margin:10px auto 20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:14px;transition:border-color .3s,box-shadow .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#00796b;box-shadow:0 0 6px #00796b4d;outline:none}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:6px;background-color:#00796b;color:#fff;font-size:16px;font-weight:500;border:none;cursor:pointer;transition:.3s background-color,.2s transform}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#004d40;transform:translateY(-2px)}@media (max-width: 600px){.center-dashboard[_ngcontent-%COMP%]{padding:20px 10px;gap:25px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}}"]})};function aH(n,e){if(n&1){let t=Qi();k(0,"tr")(1,"td"),j(2),O(),k(3,"td"),j(4),O(),k(5,"td"),j(6),O(),k(7,"td"),j(8),O(),k(9,"td"),j(10),O(),k(11,"td")(12,"button",10),me("click",function(){let i=ln(t).$implicit,o=xn();return dn(o.startEditReport(i.id,i.date,i.location,i.incidentType,i.damageLevel,i.remarks))}),j(13,"Edit"),O(),k(14,"button",11),me("click",function(){let i=ln(t).$implicit,o=xn();return dn(o.deleteReport(i.id))}),j(15,"Delete"),O()()()}if(n&2){let t=e.$implicit;te(2),xe(t.date),te(2),xe(t.location),te(2),xe(t.incidentType),te(2),xe(t.damageLevel),te(2),xe(t.remarks)}}var ep=class n{constructor(e){this.firestore=e;let t=wr(this.firestore,"incident_reports");va(t,{idField:"id"}).subscribe(r=>{this.incidents=r})}title=he("Incident Report");date=he("");location=he("");incidentType=he("");damageLevel=he("");remarks=he("");editingId=he(null);incidents=[];resetForm(){this.date.set(""),this.location.set(""),this.incidentType.set(""),this.damageLevel.set(""),this.remarks.set(""),this.editingId.set(null)}addReport(){let e=this.date(),t=this.location(),r=this.incidentType(),i=this.damageLevel(),o=this.remarks(),s=this.editingId();if(e&&t){let a=wr(this.firestore,"incident_reports");s?this.editReport(s,e,t,r,i,o):(_a(a,{date:e,location:t,incidentType:r,damageLevel:i,remarks:o}),this.resetForm())}}startEditReport(e,t,r,i,o,s){this.date.set(t),this.location.set(r),this.incidentType.set(i),this.damageLevel.set(o),this.remarks.set(s),this.editingId.set(e)}deleteReport(e){let t=br(this.firestore,`incident_reports/${e}`);Ea(t),this.editingId()===e&&this.resetForm()}editReport(e,t,r,i,o,s){let a=br(this.firestore,`incident_reports/${e}`);Ia(a,{date:t,location:r,incidentType:i,damageLevel:o,remarks:s}),this.resetForm()}static \u0275fac=function(t){return new(t||n)(Ne(Dn))};static \u0275cmp=pn({type:n,selectors:[["app-emergency-report"]],decls:51,vars:8,consts:[[1,"dashboard-wrapper"],[1,"table-section"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"form-section"],[1,"form-group"],["type","date",3,"input","value"],["type","text",3,"input","value"],[3,"input","value"],["type","button",1,"secondary-btn",3,"click"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"section",1)(2,"h2"),j(3,"Emergency Reports"),O(),k(4,"div",2)(5,"table")(6,"thead")(7,"tr")(8,"th"),j(9,"Date"),O(),k(10,"th"),j(11,"Location"),O(),k(12,"th"),j(13,"Type"),O(),k(14,"th"),j(15,"Damage"),O(),k(16,"th"),j(17,"Remarks"),O(),k(18,"th"),j(19,"Actions"),O()()(),k(20,"tbody"),$r(21,aH,16,5,"tr",3),O()()()(),k(22,"section",4)(23,"header")(24,"h1"),j(25),O(),Tt(26,"hr"),O(),k(27,"form")(28,"div",5)(29,"label"),j(30,"Date of Occurrence"),O(),k(31,"input",6),me("input",function(o){return r.date.set(o.target.value)}),O()(),k(32,"div",5)(33,"label"),j(34,"Location"),O(),k(35,"input",7),me("input",function(o){return r.location.set(o.target.value)}),O()(),k(36,"div",5)(37,"label"),j(38,"Incident Type"),O(),k(39,"input",7),me("input",function(o){return r.incidentType.set(o.target.value)}),O()(),k(40,"div",5)(41,"label"),j(42,"Damage Level"),O(),k(43,"input",7),me("input",function(o){return r.damageLevel.set(o.target.value)}),O()(),k(44,"div",5)(45,"label"),j(46,"Remarks"),O(),k(47,"textarea",8),me("input",function(o){return r.remarks.set(o.target.value)}),O()(),k(48,"button",9),me("click",function(){return r.addReport()}),j(49),O()()(),Tt(50,"router-outlet"),O()),t&2&&(te(21),Pe("ngForOf",r.incidents),te(4),xe(r.title()),te(6),Pe("value",r.date()),te(4),Pe("value",r.location()),te(4),Pe("value",r.incidentType()),te(4),Pe("value",r.damageLevel()),te(4),Pe("value",r.remarks()),te(2),cr(" ",r.editingId()?"Update Record":"Save"," "))},dependencies:[Gr,qr,Us,js,Vs,no,_n],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:30px 20px;display:flex;flex-direction:column;gap:40px;background-color:#f0f3f7}.table-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 20px #00000014}.table-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin-bottom:20px;color:#333}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #e0e0e0;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f4f8}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f7fa}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px;border-radius:6px;border:none;cursor:pointer;margin-right:5px;transition:.3s background-color}.edit-btn[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}.edit-btn[_ngcontent-%COMP%]:hover{background-color:#004d40}.delete-btn[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#9a0007}.form-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 20px #00000014}.form-section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:8px;color:#333}.form-section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:50px;border:none;border-top:3px solid #00796b;margin:10px auto 20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:14px;transition:border-color .3s,box-shadow .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#00796b;box-shadow:0 0 6px #00796b4d;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:6px;background-color:#00796b;color:#fff;font-size:16px;font-weight:500;border:none;cursor:pointer;transition:.3s background-color,.2s transform}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#004d40;transform:translateY(-2px)}@media (max-width: 600px){.dashboard-wrapper[_ngcontent-%COMP%]{padding:20px 10px;gap:25px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}}"]})};function cH(n,e){if(n&1){let t=Qi();k(0,"tr")(1,"td"),j(2),O(),k(3,"td"),j(4),O(),k(5,"td"),j(6),O(),k(7,"td"),j(8),O(),k(9,"td"),j(10),O(),k(11,"td")(12,"button",10),me("click",function(){let i=ln(t).$implicit,o=xn();return dn(o.startEditRelief(i.id,i.date,i.barangay,i.numberOfFamilies,i.reliefitems,i.distributedBy))}),j(13,"Edit"),O(),k(14,"button",11),me("click",function(){let i=ln(t).$implicit,o=xn();return dn(o.deleteRelief(i.id))}),j(15,"Delete"),O()()()}if(n&2){let t=e.$implicit;te(2),xe(t.date),te(2),xe(t.barangay),te(2),xe(t.numberOfFamilies),te(2),xe(t.reliefitems),te(2),xe(t.distributedBy)}}var tp=class n{constructor(e){this.firestore=e;let t=wr(this.firestore,"relief_distribution");va(t,{idField:"id"}).subscribe(r=>{this.reliefs=r})}title=he("Relief Distribution");date=he("");barangay=he("");numberOfFamilies=he("");reliefitems=he("");distributedBy=he("");editingId=he(null);reliefs=[];resetForm(){this.date.set(""),this.barangay.set(""),this.numberOfFamilies.set(""),this.reliefitems.set(""),this.distributedBy.set(""),this.editingId.set(null)}addRelief(){let e=this.date(),t=this.barangay(),r=this.numberOfFamilies(),i=this.reliefitems(),o=this.distributedBy(),s=this.editingId();if(e&&t){let a=wr(this.firestore,"relief_distribution");s?this.editRelief(s,e,t,r,i,o):(_a(a,{date:e,barangay:t,numberOfFamilies:r,reliefitems:i,distributedBy:o}),this.resetForm())}}startEditRelief(e,t,r,i,o,s){this.date.set(t),this.barangay.set(r),this.numberOfFamilies.set(i),this.reliefitems.set(o),this.distributedBy.set(s),this.editingId.set(e)}deleteRelief(e){let t=br(this.firestore,`relief_distribution/${e}`);Ea(t),this.editingId()===e&&this.resetForm()}editRelief(e,t,r,i,o,s){let a=br(this.firestore,`relief_distribution/${e}`);Ia(a,{date:t,barangay:r,numberOfFamilies:i,reliefitems:o,distributedBy:s}),this.resetForm()}static \u0275fac=function(t){return new(t||n)(Ne(Dn))};static \u0275cmp=pn({type:n,selectors:[["app-relief-distribution"]],decls:51,vars:8,consts:[[1,"relief-dashboard"],[1,"records-section"],[1,"records-table-wrapper"],[4,"ngFor","ngForOf"],[1,"relief-form-section"],[1,"form-group"],["type","date",3,"input","value"],["type","text",3,"input","value"],["type","number",3,"input","value"],["type","button",1,"submit-btn",3,"click"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"section",1)(2,"h2"),j(3,"Relief Distribution Records"),O(),k(4,"div",2)(5,"table")(6,"thead")(7,"tr")(8,"th"),j(9,"Date"),O(),k(10,"th"),j(11,"Barangay"),O(),k(12,"th"),j(13,"Families Assisted"),O(),k(14,"th"),j(15,"Relief Items"),O(),k(16,"th"),j(17,"Distributed By"),O(),k(18,"th"),j(19,"Actions"),O()()(),k(20,"tbody"),$r(21,cH,16,5,"tr",3),O()()()(),k(22,"section",4)(23,"header")(24,"h1"),j(25),O(),Tt(26,"hr"),O(),k(27,"form")(28,"div",5)(29,"label"),j(30,"Date of Distribution"),O(),k(31,"input",6),me("input",function(o){return r.date.set(o.target.value)}),O()(),k(32,"div",5)(33,"label"),j(34,"Barangay"),O(),k(35,"input",7),me("input",function(o){return r.barangay.set(o.target.value)}),O()(),k(36,"div",5)(37,"label"),j(38,"Families Assisted"),O(),k(39,"input",8),me("input",function(o){return r.numberOfFamilies.set(o.target.value)}),O()(),k(40,"div",5)(41,"label"),j(42,"Relief Items"),O(),k(43,"input",7),me("input",function(o){return r.reliefitems.set(o.target.value)}),O()(),k(44,"div",5)(45,"label"),j(46,"Distributed By"),O(),k(47,"input",7),me("input",function(o){return r.distributedBy.set(o.target.value)}),O()(),k(48,"button",9),me("click",function(){return r.addRelief()}),j(49),O()()(),Tt(50,"router-outlet"),O()),t&2&&(te(21),Pe("ngForOf",r.reliefs),te(4),xe(r.title()),te(6),Pe("value",r.date()),te(4),Pe("value",r.barangay()),te(4),Pe("value",r.numberOfFamilies()),te(4),Pe("value",r.reliefitems()),te(4),Pe("value",r.distributedBy()),te(2),cr(" ",r.editingId()?"Update Record":"Save"," "))},dependencies:[Gr,qr,Us,js,Vs,no,_n],styles:[".relief-dashboard[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:30px 20px;display:flex;flex-direction:column;gap:40px;background-color:#f0f3f7}.records-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 20px #00000014}.records-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin-bottom:20px;color:#333}.records-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f4f8}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f7fa}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px;border-radius:6px;border:none;cursor:pointer;margin-right:5px;transition:.3s background-color}.edit-btn[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}.edit-btn[_ngcontent-%COMP%]:hover{background-color:#004d40}.delete-btn[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#9a0007}.relief-form-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 6px 20px #00000014}.relief-form-section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:8px;color:#333}.relief-form-section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:50px;border:none;border-top:3px solid #00796b;margin:10px auto 20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:14px;transition:border-color .3s,box-shadow .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#00796b;box-shadow:0 0 6px #00796b4d;outline:none}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:6px;background-color:#00796b;color:#fff;font-size:16px;font-weight:500;border:none;cursor:pointer;transition:.3s background-color,.2s transform}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#004d40;transform:translateY(-2px)}@media (max-width: 600px){.relief-dashboard[_ngcontent-%COMP%]{padding:20px 10px;gap:25px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}}"]})};var HN=[{path:"",redirectTo:"incident-report",pathMatch:"full"},{path:"incident-report",component:ep},{path:"evacuation-center",component:Xf},{path:"relief-distribution",component:tp}];Am({providedIn:"root"});var zN={production:!1,firebase:{apiKey:"AIzaSyBJanFvcV74feGC7Indcbhy_nLMMfmUylI",authDomain:"municipal-lab3.firebaseapp.com",projectId:"municipal-lab3",storageBucket:"municipal-lab3.firebasestorage.app",messagingSenderId:"438317422362",appId:"1:438317422362:web:89053e14307e4d31eabea3",measurementId:"G-Q7F20R61RR"}};var qN={providers:[Gg(),sy({eventCoalescing:!0}),rv(HN),Bv(()=>$v(zN.firebase)),NI(()=>MI()),Bv(()=>$v({projectId:"municipal-lab3",appId:"1:438317422362:web:89053e14307e4d31eabea3",storageBucket:"municipal-lab3.firebasestorage.app",apiKey:"AIzaSyBJanFvcV74feGC7Indcbhy_nLMMfmUylI",authDomain:"municipal-lab3.firebaseapp.com",messagingSenderId:"438317422362",measurementId:"G-Q7F20R61RR"})),NI(()=>MI())]};var np=class n{title="finalslab3";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pn({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"nav-bar"],["routerLink",""],["routerLink","evacuation-center"],["routerLink","relief-distribution"]],template:function(t,r){t&1&&(k(0,"main")(1,"nav",0)(2,"a",1),j(3,"Incident Report"),O(),k(4,"a",2),j(5,"Evacuation Center"),O(),k(6,"a",3),j(7,"Relief Distribution"),O()(),Tt(8,"router-outlet"),O())},dependencies:[_n,Ah],styles:[".nav-bar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;padding:14px 24px;background-color:#e5ebf0;border-radius:12px;box-shadow:0 6px 15px #0000001a;justify-content:center;align-items:center;transition:all .3s ease}.nav-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 20px;color:#fff;font-weight:600;text-decoration:none;border-radius:8px;background:linear-gradient(135deg,#43a047,#66bb6a);box-shadow:0 4px 8px #0000001a;transition:transform .2s,box-shadow .2s,background .3s}.nav-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 12px #0003;background:linear-gradient(135deg,#388e3c,#4caf50)}.nav-bar[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffb300,#ffc107);color:#000}main[_ngcontent-%COMP%]{padding:24px}@media (max-width: 600px){.nav-bar[_ngcontent-%COMP%]{gap:10px;padding:12px 16px}.nav-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 14px;font-size:14px}}"]})};Ry(np,qN).catch(n=>console.error(n));
