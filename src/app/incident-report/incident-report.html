<div class="dashboard-wrapper">

  <section class="table-section">
    <h2>Emergency Reports</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Location</th>
            <th>Type</th>
            <th>Damage</th>
            <th>Remarks</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let report of reports">
            <td>{{ report.date }}</td>
            <td>{{ report.location }}</td>
            <td>{{ report.incidentType }}</td>
            <td>{{ report.damageLevel }}</td>
            <td>{{ report.remarks }}</td>
            <td>
              <button (click)="startEditReport(report.id, report.date, report.location, report.incidentType, report.damageLevel, report.remarks)" class="edit-btn">Edit</button>
              <button (click)="deleteReport(report.id)" class="delete-btn">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="form-section">
    <header>
      <h1>{{ title() }}</h1>
      <hr>
    </header>

    <form>
      <div class="form-group">
        <label>Date of Occurrence</label>
        <input type="date" [value]="date()" (input)="date.set($any($event.target).value)">
      </div>

      <div class="form-group">
        <label>Location</label>
        <input type="text" [value]="location()" (input)="location.set($any($event.target).value)">
      </div>

      <div class="form-group">
        <label>Incident Type</label>
        <input type="text" [value]="incidentType()" (input)="incidentType.set($any($event.target).value)">
      </div>

      <div class="form-group">
        <label>Damage Level</label>
        <input type="text" [value]="damageLevel()" (input)="damageLevel.set($any($event.target).value)">
      </div>

      <div class="form-group">
        <label>Remarks</label>
        <textarea [value]="remarks()" (input)="remarks.set($any($event.target).value)"></textarea>
      </div>

      <button type="button" class="secondary-btn" (click)="addReport()">
        {{ editingId() ? 'Update Record' : 'Save' }}
      </button>
    </form>
  </section>

  <router-outlet></router-outlet>
</div>
